(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+D+d":function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},"+I+c":function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},"+Ltg":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},"+aJC":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},"/46B":function(e,t,n){"use strict";var r=n("ZjB5"),i=n("LXiA")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},"/m4v":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return te})),n.d(t,"c",(function(){return oe})),n.d(t,"d",(function(){return ue}));var r=n("mXGw"),i=n.n(r),o=n("W0B4"),a=n.n(o),s=i.a.createContext(null);var u=function(e){e()},c={notify:function(){}};function l(){var e=u,t=[],n=[];return{clear:function(){n=null,t=null},notify:function(){var r=t=n;e((function(){for(var e=0;e<r.length;e++)r[e]()}))},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&null!==t&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}var p=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=c,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=c)},e}();function f(e){var t=e.store,n=e.context,o=e.children,a=Object(r.useMemo)((function(){var e=new p(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,u]);var c=n||s;return i.a.createElement(c.Provider,{value:a},o)}f.propTypes={store:a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired}),context:a.a.object,children:a.a.any};var d=f;function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var _=n("GeWT"),m=n.n(_),g=n("+Ltg"),v=n.n(g),E=n("xVO4"),b="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,T=[],S=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}var O=function(){return[null,0]};function A(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=n.methodName,c=void 0===u?"connectAdvanced":u,l=n.renderCountProp,f=void 0===l?void 0:l,d=n.shouldHandleStateChanges,_=void 0===d||d,g=n.storeKey,A=void 0===g?"store":g,R=n.withRef,C=void 0!==R&&R,P=n.forwardRef,I=void 0!==P&&P,N=n.context,k=void 0===N?s:N,L=y(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);v()(void 0===f,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),v()(!C,"withRef is removed. To access the wrapped instance, use a ref on the connected component");v()("store"===A,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var D=k;return function(t){var n=t.displayName||t.name||"Component",o=a(n),s=h({},L,{getDisplayName:a,methodName:c,renderCountProp:f,shouldHandleStateChanges:_,storeKey:A,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=L.pure;var l=u?r.useMemo:function(e){return e()};function d(n){var a=Object(r.useMemo)((function(){var e=n.forwardedRef,t=y(n,["forwardedRef"]);return[n.context,e,t]}),[n]),u=a[0],c=a[1],f=a[2],d=Object(r.useMemo)((function(){return u&&u.Consumer&&Object(E.isContextConsumer)(i.a.createElement(u.Consumer,null))?u:D}),[u,D]),m=Object(r.useContext)(d),g=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),A=Boolean(m)&&Boolean(m.store);v()(g||A,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var R=g?n.store:m.store,C=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,s)}(R)}),[R]),P=Object(r.useMemo)((function(){if(!_)return S;var e=new p(R,g?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[R,g,m]),I=P[0],N=P[1],k=Object(r.useMemo)((function(){return g?m:h({},m,{subscription:I})}),[g,m,I]),L=Object(r.useReducer)(w,T,O),x=L[0][0],U=L[1];if(x&&x.error)throw x.error;var M=Object(r.useRef)(),F=Object(r.useRef)(f),j=Object(r.useRef)(),B=Object(r.useRef)(!1),V=l((function(){return j.current&&f===F.current?j.current:C(R.getState(),f)}),[R,x,f]);b((function(){F.current=f,M.current=V,B.current=!1,j.current&&(j.current=null,N())})),b((function(){if(_){var e=!1,t=null,n=function(){if(!e){var n,r,i=R.getState();try{n=C(i,F.current)}catch(e){r=e,t=e}r||(t=null),n===M.current?B.current||N():(M.current=n,j.current=n,B.current=!0,U({type:"STORE_UPDATED",payload:{error:r}}))}};I.onStateChange=n,I.trySubscribe(),n();return function(){if(e=!0,I.tryUnsubscribe(),I.onStateChange=null,t)throw t}}}),[R,I,C]);var H=Object(r.useMemo)((function(){return i.a.createElement(t,h({},V,{ref:c}))}),[c,t,V]);return Object(r.useMemo)((function(){return _?i.a.createElement(d.Provider,{value:k},H):H}),[d,H,k])}var g=u?i.a.memo(d):d;if(g.WrappedComponent=t,g.displayName=o,I){var R=i.a.forwardRef((function(e,t){return i.a.createElement(g,h({},e,{forwardedRef:t}))}));return R.displayName=o,R.WrappedComponent=t,m()(R,t)}return m()(g,t)}}var R=Object.prototype.hasOwnProperty;function C(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function P(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!R.call(t,n[i])||!C(e[n[i]],t[n[i]]))return!1;return!0}var I=n("cnbf");function N(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function k(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function L(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=k(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(t,n)),i},r}}var D=[function(e){return"function"==typeof e?L(e):void 0},function(e){return e?void 0:N((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?N((function(t){return Object(I.b)(e,t)})):void 0}];var x=[function(e){return"function"==typeof e?L(e):void 0},function(e){return e?void 0:N((function(){return{}}))}];function U(e,t,n){return h({},n,{},e,{},t)}var M=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return U}}];function F(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function j(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,p=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function h(i,d){var h,y,_=!p(d,a),m=!l(i,o);return o=i,a=d,_&&m?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):_?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?(h=e(o,a),y=!f(h,s),s=h,y&&(c=n(s,u,a)),c):c}return function(i,l){return d?h(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function B(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=y(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?j:F)(a,s,u,e,o)}function V(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function H(e,t){return e===t}var W,K,G,Y,q,z,X,$,Q,J,Z,ee,te=(G=(K=void 0===W?{}:W).connectHOC,Y=void 0===G?A:G,q=K.mapStateToPropsFactories,z=void 0===q?x:q,X=K.mapDispatchToPropsFactories,$=void 0===X?D:X,Q=K.mergePropsFactories,J=void 0===Q?M:Q,Z=K.selectorFactory,ee=void 0===Z?B:Z,function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,u=void 0===s?H:s,c=i.areOwnPropsEqual,l=void 0===c?P:c,p=i.areStatePropsEqual,f=void 0===p?P:p,d=i.areMergedPropsEqual,_=void 0===d?P:d,m=y(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=V(e,z,"mapStateToProps"),v=V(t,$,"mapDispatchToProps"),E=V(n,J,"mergeProps");return Y(ee,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:v,initMergeProps:E,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:f,areMergedPropsEqual:_},m))});function ne(){var e=Object(r.useContext)(s);return v()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function re(e){void 0===e&&(e=s);var t=e===s?ne:function(){return Object(r.useContext)(e)};return function(){return t().store}}var ie=re();var oe=function(e){void 0===e&&(e=s);var t=e===s?ie:re(e);return function(){return t().dispatch}}(),ae=function(e,t){return e===t};var se,ue=function(e){void 0===e&&(e=s);var t=e===s?ne:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=ae),v()(e,"You must pass a selector to useSelectors");var i=t();return function(e,t,n,i){var o,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new p(n,i)}),[n,i]),u=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useRef)();try{o=e!==c.current||u.current?e(n.getState()):l.current}catch(e){var f="An error occurred while selecting the store state: "+e.message+".";throw u.current&&(f+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\nOriginal stack trace:"),new Error(f)}return b((function(){c.current=e,l.current=o,u.current=void 0})),b((function(){function e(){try{var e=c.current(n.getState());if(t(e,l.current))return;l.current=e}catch(e){u.current=e}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription)}}(),ce=n("xARA");se=ce.unstable_batchedUpdates,u=se},"/ub/":function(e,t,n){"use strict";var r=function(){var e,t=[];for(e=0;e<256;++e)t[e]=255;for(e=0;e<this.BASE64_DIGITS.length;++e)t[this.BASE64_DIGITS.charCodeAt(e)]=e;this._inverseData=String.fromCharCode.apply(String,t)};r.prototype.BASE64_DIGITS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r.prototype.STRING_CHUNK_SIZE=4096,r.prototype._stringFromCharCode=function(e){if(e.length<this.STRING_CHUNK_SIZE)return String.fromCharCode.apply(String,e);var t=0,n=[];do{n.push(String.fromCharCode.apply(String,e.slice(t,t+this.STRING_CHUNK_SIZE))),t+=this.STRING_CHUNK_SIZE}while(t<e.length);return n.join("")},r.prototype.encode=function(e){if("string"!=typeof e)return"";if("undefined"!=typeof window&&void 0!==window.btoa)return window.btoa(e);var t,n,r,i,o,a;for(r=e.length,n=0,t="";n<r;){if(i=255&e.charCodeAt(n++),n===r){t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===r){t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),t+=this.BASE64_DIGITS.charAt((15&o)<<2),t+="=";break}a=e.charCodeAt(n++),t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),t+=this.BASE64_DIGITS.charAt((15&o)<<2|(192&a)>>6),t+=this.BASE64_DIGITS.charAt(63&a)}return t},r.prototype.decode=function(e){if("undefined"!=typeof window&&void 0!==window.atob)return window.atob(e);for(var t,n,r=[],i=e.length,o=0;;){do{t=this._inverseData.charCodeAt(255&e.charCodeAt(o++))}while(255===t&&o<i);do{n=this._inverseData.charCodeAt(255&e.charCodeAt(o++))}while(255===n&&o<i);if(255===n)break;r.push(255&(t<<2|n>>4));do{t=this._inverseData.charCodeAt(255&e.charCodeAt(o++))}while(255===t&&o<i);if(255===t)break;r.push(255&(n<<4|t>>2));do{n=this._inverseData.charCodeAt(255&e.charCodeAt(o++))}while(255===n&&o<i);if(255===n)break;r.push(255&(t<<6|n))}return this._stringFromCharCode(r)};var i=new r;e.exports={encode:i.encode.bind(i),decode:i.decode.bind(i)}},"06ib":function(e,t,n){"use strict";e.exports={CLOSE:4e3,TIMEOUT:4001}},"0Kzw":function(e,t,n){"use strict";(function(t){var r=n("tRzJ"),i=t.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(t,"__dbgLoggerRegistry",{value:i}):t.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(e){return!(!i.loggingPredicate||!i.loggingPredicate(e))}var u="log";e.exports={intercept:function(e){if("function"!=typeof e)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=e},unintercept:function(){i.loggingPredicate=null},list:function(e){var t,n,r,i=Object.keys(o);if(i.sort(),e){var a=[];for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(e){u=e;for(var t=a.length;t--;){var n=a[t];n&&n.setLevel(e)}},enableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].enable()},disableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].disable()},forTag:function(e,t){var n,i;if("string"==typeof e?(n=e.toLowerCase(),i=t):(n=e.tag,i=e.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(e){var t=e.toLowerCase();if(o.hasOwnProperty(t)&&o[t]){var n=o[t];o[t]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},"0NxA":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},"0TdX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,i=n("FIWN"),o=(r=i)&&r.__esModule?r:{default:r},a=n("s4Wf");var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},"19LU":function(e,t,n){"use strict";(function(t){var r=n("asuC"),i=n("Lc1h"),o=n("79Um"),a=n("1Wwy"),s={POST:!0,PUT:!0,DELETE:!0},u={json:!0,text:!0,arraybuffer:!0,blob:!0};function c(){return"function"==typeof t.fetch}e.exports={request:function(e,n){if(!c())return r.reject(new TypeError("Fetch is not supported"));var l=n||{};if(!e)return r.reject(new TypeError("Request URL cannot be blank."));var p=e,f=null,d=l.payload,h=(l.method||"GET").toUpperCase();h in s&&d?f=d:d&&(p+="?"+d);var y=l.responseType||"text";if(y&&!(y in u))return r.reject(new TypeError("Cannot set responseType: not supported in browser."));var _=l.ignoreResponseBody,m={mode:l.mode||"cors",credentials:l.credentials||"same-origin",redirect:l.redirect||"follow",method:h};l.headers&&(m.headers=l.headers),f&&(m.body=f);var g=Date.now();return t.fetch(p,m).then((function(e){var t;t=_||e.status===a.NO_CONTENT?null:"json"===y?e.json().catch((function(){return null})):"arraybuffer"===y?e.arrayBuffer():"blob"===y?e.blob():e.text();var n=l.parseResponseHeaders||e.status>299?new o(e.headers):null;return r.all([e.url,e.status,n,t])})).then((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=l.timing?Date.now()-g:null,s=new i(t,n);return s.body=o,s.headers=r,s.timing=l.timing?{completed:a}:null,s})).catch((function(){var e=l.timing?Date.now()-g:null,t=new i(p);return t.timing=l.timing?{completed:e}:null,t})).then((function(e){return l.connectionObserver&&(e.offline=!l.connectionObserver.isOnline()),e}))},isSupported:c}}).call(this,n("pCvA"))},"1LYH":function(e,t,n){"use strict";e.exports=function(e){return{name:"SemanticMetricClientNonAuth",data:n("amWn")(e,{key:{type:"string",nullable:!0},metric_type:{type:"string",nullable:!0},component_id:{type:"string",nullable:!0},what:{type:"string",nullable:!0},value:{type:"number",nullable:!0},tags:{type:"string",complex_type:"Object",nullable:!0}})}}},"1Wbw":function(e,t,n){"use strict";n.d(t,"b",(function(){return Dn})),n.d(t,"a",(function(){return s}));var r=n("nLrc");window&&window.shaka&&window.shaka.Player&&(r=window.shaka);var i=r,o=new i.abr.SimpleAbrManager;o.configure({defaultBandwidthEstimate:8e6});var a,s,u=function(){function e(e){this.player=new i.Player(e)}return e.prototype.configure=function(e){return e.abrFactory||(e.abrFactory=function(){return o}),this.player.configure(e)},e.prototype.getNetworkingEngine=function(){return this.player.getNetworkingEngine()},e.prototype.load=function(e,t,n){return this.player.load(e,t,n)},e.prototype.unload=function(){return this.player.unload()},e.prototype.keySystem=function(){return this.player.keySystem()},e.prototype.getTextTracks=function(){return this.player.getTextTracks()},e.prototype.getVariantTracks=function(){return this.player.getVariantTracks()},e.prototype.getStats=function(){return this.player.getStats()},e.prototype.addEventListener=function(e,t,n){return this.player.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){return this.player.removeEventListener(e,t,n)},e.prototype.selectTextLanguage=function(e,t){return this.player.selectTextLanguage(e,t)},e.prototype.setTextTrackVisibility=function(e){return this.player.setTextTrackVisibility(e)},e.prototype.isTextTrackVisible=function(){return this.player.isTextTrackVisible()},e}(),c=n("hes8");!function(e){e.INITIAL="initial",e.SEEK="seek",e.STALL="stall"}(a||(a={})),function(e){e.PLAYED_TO_END="playedToEnd",e.FATAL_ERROR="fatalError",e.REQUESTED="requested"}(s||(s={}));var l,p={CHANGE:"change"};!function(e){e.CREATED="created",e.MANIFEST_LOADING="manifestLoading",e.MANIFEST_LOADED="manifestLoaded",e.ENCRYPTION_KEY_LOADING="encryptionKeyLoading",e.ENCRYPTION_KEY_LOADED="encryptionKeyLoaded",e.BUFFERING="buffering",e.DROPPED_FRAMES="droppedFrames",e.READY="ready",e.STARTED="started",e.PAUSED="paused",e.RESUMED="resumed",e.SEEKING="seeking",e.ENDED="ended",e.RECOVERABLE_ERROR="recoverableError",e.FATAL_ERROR="fatalError",e.BYTES_TRANSFERRED="bytesTransferred",e.SUBTITLE_CHANGED="subtitleChanged",e.VIDEO_FORMAT_CHANGED="videoFormatChanged",e.AUDIO_FORMAT_CHANGED="audioFormatChanged",e.FULLSCREEN_CHANGED="fullscreenChanged",e.VOLUME_CHANGED="volumeChanged",e.PROGRESS="progress",e.POSITION_UPDATE="positionUpdate",e.DURATION_CHANGED="durationChanged",e.NEW_SESSION_LOADED="newSessionLoaded",e.PLAYBACK_SPEED_CHANGED="playbackSpeedChanged"}(l||(l={}));var f=l;function d(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function h(e){return function t(n){return 0===arguments.length||d(n)?t:e.apply(this,arguments)}}function y(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var _=h((function(e){var t=[];for(var n in e)y(n,e)&&(t[t.length]=[n,e[n]]);return t}));function m(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return d(n)?t:h((function(t){return e(n,t)}));default:return d(n)&&d(r)?t:d(n)?h((function(t){return e(t,r)})):d(r)?h((function(t){return e(n,t)})):e(n,r)}}}function g(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return d(n)?t:m((function(t,r){return e(n,t,r)}));case 2:return d(n)&&d(r)?t:d(n)?m((function(t,n){return e(t,r,n)})):d(r)?m((function(t,r){return e(n,t,r)})):h((function(t){return e(n,r,t)}));default:return d(n)&&d(r)&&d(i)?t:d(n)&&d(r)?m((function(t,n){return e(t,n,i)})):d(n)&&d(i)?m((function(t,n){return e(t,r,n)})):d(r)&&d(i)?m((function(t,r){return e(n,t,r)})):d(n)?h((function(t){return e(t,r,i)})):d(r)?h((function(t){return e(n,t,i)})):d(i)?h((function(t){return e(n,r,t)})):e(n,r,i)}}}var v=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function E(e){return"[object String]"===Object.prototype.toString.call(e)}var b=h((function(e){return!!v(e)||!!e&&("object"==typeof e&&(!E(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),T=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function S(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var w=m((function(e,t){return S(e.length,(function(){return e.apply(t,arguments)}))}));function O(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function A(e,t,n,r){return e["@@transducer/result"](n[r](w(e["@@transducer/step"],e),t))}var R="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function C(e,t,n){if("function"==typeof e&&(e=function(e){return new T(e)}(e)),b(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return A(e,t,n,"fantasy-land/reduce");if(null!=n[R])return O(e,t,n[R]());if("function"==typeof n.next)return O(e,t,n);if("function"==typeof n.reduce)return A(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var P=g(C),I=Object.prototype.toString,N=function(){return"[object Arguments]"===I.call(arguments)?function(e){return"[object Arguments]"===I.call(e)}:function(e){return y("callee",e)}}(),k=!{toString:null}.propertyIsEnumerable("toString"),L=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(){return arguments.propertyIsEnumerable("length")}(),x=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},U="function"!=typeof Object.keys||D?h((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=D&&N(e);for(t in e)!y(t,e)||i&&"length"===t||(r[r.length]=t);if(k)for(n=L.length-1;n>=0;)y(t=L[n],e)&&!x(r,t)&&(r[r.length]=t),n-=1;return r})):h((function(e){return Object(e)!==e?[]:Object.keys(e)})),M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},F=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},j=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.assign.apply(Object,F([e],t))},B=function(e){return Object.assign({},e)},V=function(e,t){var n;if(1===arguments.length)for(n in e)"function"==typeof e[n]&&(e[n]=e[n].bind(e));else if(t)for(n in t)"function"==typeof e[t[n]]&&(e[t[n]]=e[t[n]].bind(e));return e},H=function(e){if(!Array.isArray(e)||!e.length)return null;var t=["video/webm"],n=e.filter((function(e){return t.indexOf(e.mimeType)>-1})).sort((function(e,t){return Math.abs(e.bitrate-640)-Math.abs(t.bitrate-640)}));return n.length?n[0].url:null},W=g((function(e,t,n){return n.replace(e,t)}));function K(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function G(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return v(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Y=h(G("tail",g(G("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})))(1,1/0)));function q(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return S(arguments[0].length,P(K,arguments[0],Y(arguments)))}var z=h((function(e){return E(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function X(){if(0===arguments.length)throw new Error("compose requires at least one argument");return q.apply(this,z(arguments))}var $=m((function(e,t){return null==t||t!=t?e:t})),Q=Number.isInteger||function(e){return e<<0===e},J=m((function(e,t){var n=e<0?t.length+e:e;return E(t)?t.charAt(n):t[n]})),Z=m((function(e,t){return e.map((function(e){for(var n,r=t,i=0;i<e.length;){if(null==r)return;n=e[i],r=Q(n)?J(n,r):r[n],i+=1}return r}))})),ee=m((function(e,t){return Z([e],t)[0]})),te=g((function(e,t,n){return $(e,ee(t,n))})),ne={languageTag:""};function re(e){return e.languageTag.replace("-x-cc","")}function ie(e){return e.languageTag.split("-")[0]}var oe,ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ue=X((oe=["playback_id","reason_start","feature_identifier","feature_version","referrer_version","file_id","gaia_dev_id","view_uri","play_context","referrer","play_track","provider","command_initiated_time_ms"],function(e){return function(t){return _(t).reduce((function(t,n){var r,i=n[0],o=n[1],a=oe.includes(i)?""+e+i:i;return M(M({},t),((r={})[a]=o,r))}),{})}})("endvideo_"),(function(e){var t,n=te("",["track","playback_id"],e),r=te("",["track","track","metadata","media.manifest_id"],e),i=te("",["track","play_origin","feature_identifier"],e),o=te("",["track","play_origin","feature_version"],e),a=te("",["track","play_origin","view_uri"],e),s=te("",["track","play_origin","referrer_identifier"],e),u=te("",["track","play_origin","device_identifier"],e),c=te("",["track","track","provider"],e),l=te("unknown",["start_reason"],e),p=te("",["track","context_uri"],e),f=te("",["track","track","uri"],e),d=te(-1,["logging_params","command_initiated_time"],e);return(t={}).playback_id=n,t.feature_identifier=i,t.referrer_version=o,t.feature_version=o,t.view_uri=a,t.referrer=s,t.gaia_dev_id=u,t.provider=c,t.reason_start=l,t.play_context=p,t.play_track=f,t.command_initiated_time_ms=d,t.file_id=r,t}));function ce(e,t){return ae(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){return void 0!==t.seek_to&&t.seek_to>=0&&(n=t.seek_to/1e3,e.seekTo(n)),r=fe(t.config),e.setPlaybackSpeed(r),e.resume(),[2]}))}))}function le(e,t){if(void 0===t)return!1;var n=e.track.playback_id;return void 0!==n&&n===t.playback_id}function pe(e){var t=e["video.subtitles"],n=e["video.subtitles_cc"];return""===t?ne:function(e,t){return e?{languageTag:t?e+"-x-cc":e}:ne}(t,n)}function fe(e){return e["audio.episode.speed"]}var de=function(){return(de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function he(e){return _(e).filter((function(e){return e[0].includes("endvideo_")})).reduce((function(e,t){var n,r=t[0],i=t[1];return de(de({},e),((n={})[W("endvideo_","",r)]=i,n))}),{})}var ye,_e=function(e){return e.type===f.ENDED},me=function(e){return e.type===f.DROPPED_FRAMES},ge=function(e){return e.type===f.NEW_SESSION_LOADED},ve=function(e){return e.type===f.CREATED},Ee=function(e){return e.type===f.READY},be=function(e){return e.type===f.DURATION_CHANGED},Te=function(e){return e.type===f.AUDIO_FORMAT_CHANGED},Se=function(e){return e.type===f.VIDEO_FORMAT_CHANGED},we=function(e){return e.type===f.ENCRYPTION_KEY_LOADED},Oe=function(e){return e.type===f.SUBTITLE_CHANGED},Ae=function(e){return e.type===f.MANIFEST_LOADED},Re=function(e){return e.type===f.SEEKING},Ce=function(e){return e.type===f.BYTES_TRANSFERRED},Pe=X((function(e){return e.reason_start||""}),he),Ie=function(e){return function(t){return function(e){return e.type===f.RESUMED}(t)&&!e}},Ne=function(e){return function(t){return Re(t)&&e}},ke=function(e){return function(t){return _e(t)&&e}},Le=function(e){return function(t){return(Re(t)||function(e){return e.type===f.PAUSED}(t)||_e(t))&&e}},De=function(e,t){if(e.type!==f.RESUMED)return t;var n=e;return void 0===n.data||void 0===n.data.position?de(de({},t),{playing:!0}):de(de({},t),{playing:!0,playingPosition:n.data.position})};function xe(e,t){return e.filter((function(e){return e.type===t})).reduce((function(e,t){return t.timestamp}),-1)}function Ue(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))return 0;var n=t-e;return!Number.isFinite(n)||n<0?0:Math.round(1e3*n)}function Me(){return navigator.onLine?"wlan":"none"}!function(e){e.END_APPLOAD="appload",e.END_UNKNOWN="unknown",e.END_TRACK_DONE="trackdone",e.END_TRACK_ERROR="trackerror",e.END_PLAY="endplay",e.END_UNEXPECTED_EXIT="unexpected-exit",e.END_UNEXPECTED_EXIT_WHILE_PAUSED="unexpected-exit-while-paused"}(ye||(ye={}));var Fe,je,Be=ye;!function(e){e.SESSION_ID="session_id",e.MEDIA_URL="media_url",e.MS_START_POSITION="ms_start_position",e.MS_DURATION="ms_duration",e.MS_START_TIME="ms_start_time",e.MS_MANIFEST_LOAD_TIME="ms_manifest_load_time",e.MS_ENCRYPTION_LOAD_TIME="ms_encryption_load_time",e.MS_INITIAL_BUFFERING="ms_initial_buffering",e.MS_PLAYED="ms_played",e.MS_NOMINAL_PLAYED="ms_nominal_played",e.MS_PLAYED_SUBTITLES="ms_played_subtitles",e.MS_PLAYED_FULLSCREEN="ms_played_fullscreen",e.ENCRYPTION_TYPE="encryption_type",e.EXIT_REASON="exit_reason",e.LAST_USED_SUBTITLE="last_used_subtitle",e.N_STALLS="n_stalls",e.MS_BUFFERING_STALL="ms_buffering_stall",e.MS_BUFFERING_STALL_LONGEST="ms_buffering_stall_longest",e.N_SEEKBACK="n_seekback",e.N_SEEKFORWARD="n_seekforward",e.MS_BUFFERING_SEEK="ms_buffering_seek",e.MS_BUFFERING_SEEK_LONGEST="ms_buffering_seek_longest",e.KBPS_AVERAGE_BANDWIDTH="kbps_average_bandwidth",e.KBYTES_DOWNLOADED="kbytes_downloaded",e.N_DROPPED_FRAMES="n_dropped_frames",e.ASPECT_RATIO="aspect_ratio",e.FEATURE_IDENTIFIER="feature_identifier",e.START_BITRATE="start_bitrate",e.MS_PLAYED_BACKGROUND="ms_played_background",e.CONNECTION_TYPE_START="connection_type_start",e.CONNECTION_TYPE_END="connection_type_end",e.N_VIEW_TRANSITIONS="n_view_transitions",e.AVERAGE_DEVICE_ORIENTATION="average_device_orientation",e.KBYTES_PLAYED="kbytes_played"}(Fe||(Fe={})),function(e){e.PLAY_CONTEXT="play_context",e.REFERRER_VENDOR="referrer_vendor",e.PLAYBACK_ID="playback_id",e.MS_TOTAL_EST="ms_total_est",e.AUDIOCODEC="audiocodec",e.N_SEEKFWD="n_seekfwd",e.PREFETCHED_BYTES_LOADED="prefetched_bytes_loaded",e.TOTAL_BYTES="total_bytes",e.FEATURE_IDENTIFIER="feature_identifier",e.VIEW_URI="view_uri",e.START_BITRATE="start_bitrate",e.KEY_SYSTEM="key_system",e.CONNECTION_TYPE_END="connection_type_end",e.VIDEO_SESSION_ID="video_session_id",e.LOCAL_TIME_MS="local_time_ms",e.TIME_WEIGHTED_BITRATE="time_weighted_bitrate",e.MS_LATENCY="ms_latency",e.CONNECTION_TYPE_START="connection_type_start",e.MS_PLAYED_BACKGROUND="ms_played_background",e.FILE_ID="file_id",e.MS_SEEKFWD="ms_seekfwd",e.UI_LATENCY="ui_latency",e.REFERRER_VERSION="referrer_version",e.REASON_START="reason_start",e.N_STALLS="n_stalls",e.VIDEOCODEC="videocodec",e.FEATURE_VERSION="feature_version",e.N_SEEKBACK="n_seekback",e.MAX_MS_SEEK_REBUFFERING="max_ms_seek_rebuffering",e.INCOGNITO_MODE="incognito_mode",e.MAX_MS_STALLED="max_ms_stalled",e.MS_MANIFEST_LATENCY="ms_manifest_latency",e.PROVIDER="provider",e.SEQUENCE_ID="sequence_id",e.PLAY_TRACK="play_track",e.MS_STALLED="ms_stalled",e.LIVE="live",e.START_OFFSET_MS="start_offset_ms",e.MS_SEEK_REBUFFERING="ms_seek_rebuffering",e.GAIA_DEV_ID="gaia_dev_id",e.PREFETCHED_BYTES="prefetched_bytes",e.MS_KEY_LATENCY="ms_key_latency",e.MS_INITIAL_BUFFERING="ms_initial_buffering",e.SEQUENCE_NUMBER="sequence_number",e.REFERRER="referrer",e.MS_SEEKBACK="ms_seekback",e.UNION_PLAYED="union_played",e.STREAMING_RULE="streaming_rule",e.MS_PLAYED="ms_played",e.MS_NOMINAL_PLAYED="ms_nominal_played",e.REASON_END="reason_end",e.MAX_CONTINOUS="max_continous",e.SHUFFLE="shuffle",e.FULL_SCREEN="full_screen"}(je||(je={}));var Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function He(e,t,n){var r=Math.round(n.timestamp-e.bufferingStart),i=Ve({},t);if(Number.isFinite(r)&&r>0)switch(e.bufferingType){case a.SEEK:i[Fe.MS_BUFFERING_SEEK]+=r,r>i[Fe.MS_BUFFERING_SEEK_LONGEST]&&(i[Fe.MS_BUFFERING_SEEK_LONGEST]=r);break;case a.STALL:i[Fe.MS_BUFFERING_STALL]+=r,r>i[Fe.MS_BUFFERING_STALL_LONGEST]&&(i[Fe.MS_BUFFERING_STALL_LONGEST]=r);break;case a.INITIAL:i[Fe.MS_INITIAL_BUFFERING]+=r}return i}var We=function(e,t){if(e.type!==f.PLAYBACK_SPEED_CHANGED)return t;var n=e;return Ve(Ve({},t),{playbackSpeed:n.data.speed})},Ke=function(e,t){var n=Ue(t.playingPosition,Ge(e));return Ve(Ve({},t),{msPlayed:n+t.msPlayed,playing:!1,playingPosition:0})};function Ge(e){var t=e.data,n=e.type;if(t){if(Number.isFinite(t.position))return t.position;if(n===f.SEEKING&&Number.isFinite(t.fromPosition))return t.fromPosition}return 1/0}var Ye=function(e,t){if(e.type!==f.SUBTITLE_CHANGED)return t;var n=e;return Ve(Ve({},t),{subtitlesEnabled:!(!n.data||!n.data.subtitle.languageTag)})},qe=function(e,t){if(e.type!==f.FULLSCREEN_CHANGED)return t;var n=e;return Ve(Ve({},t),{fullscreen:n.data.fullscreen})},ze=function(e,t){var n=Ve({},t),r=n.playing&&n.subtitlesEnabled;return r&&!n.playingWithSubtitlesPosition&&(n.playingWithSubtitlesPosition=e.data.position),!r&&n.playingWithSubtitlesPosition&&(n.msPlayedSubtitles+=Ue(n.playingWithSubtitlesPosition,Ge(e)),n.playingWithSubtitlesPosition=0),n},Xe=function(e,t){var n=Ve({},t),r=n.playing&&n.fullscreen;return r&&!n.playingWhileFullscreenPosition&&(n.playingWhileFullscreenPosition=e.data.position),!r&&n.playingWhileFullscreenPosition&&(n.msPlayedFullscreen+=Ue(n.playingWhileFullscreenPosition,Ge(e)),n.playingWhileFullscreenPosition=0),n},$e=function(e,t){var n=Ue(t.playingPosition,Ge(e)),r=t.playbackSpeed>0?Ue(t.playingPosition,Ge(e)/t.playbackSpeed):0;return Ve(Ve({},t),{msNominalPlayed:n+t.msNominalPlayed,msPlayed:r+t.msPlayed,playing:!1,playingPosition:0})};function Qe(e){return Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve({},function(e){var t;return e.filter(ve).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.SESSION_ID]=r.playbackIdentity.sessionId,n[Fe.MEDIA_URL]=r.playbackIdentity.mediaUrl,n[Fe.FEATURE_IDENTIFIER]="",n}),((t={})[Fe.SESSION_ID]="",t[Fe.MEDIA_URL]="",t[Fe.FEATURE_IDENTIFIER]="",t))}(e)),function(e){var t;return e.filter(Ee).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.MS_START_POSITION]=Math.round(1e3*r.position),n}),((t={})[Fe.MS_START_POSITION]=-1,t))}(e)),function(e){var t;return e.filter(be).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.MS_DURATION]=Math.round(1e3*r.duration),n}),((t={})[Fe.MS_DURATION]=-1,t))}(e)),function(e){var t,n=xe(e,f.CREATED);return e.filter(Ee).reduce((function(e,t){var r;return-1!==n?((r={})[Fe.MS_START_TIME]=Math.round(t.timestamp-n),r):e}),((t={})[Fe.MS_START_TIME]=-1,t))}(e)),function(e){var t;return e.filter(_e).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.EXIT_REASON]=r.reason,n}),((t={})[Fe.EXIT_REASON]="",t))}(e)),function(e){var t;return e.filter(Se).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.ASPECT_RATIO]=r.format.width&&r.format.height?r.format.width/r.format.height:e[Fe.ASPECT_RATIO],n[Fe.START_BITRATE]=r.format.bandwidth&&!e[Fe.START_BITRATE]?r.format.bandwidth:e[Fe.START_BITRATE],n}),((t={})[Fe.ASPECT_RATIO]=0,t[Fe.START_BITRATE]=0,t))}(e)),function(e){var t,n=xe(e,f.ENCRYPTION_KEY_LOADING);return e.filter(we).reduce((function(e,t){var r;return-1!==n?((r={})[Fe.MS_ENCRYPTION_LOAD_TIME]=Math.round(t.timestamp-n),r):e}),((t={})[Fe.MS_ENCRYPTION_LOAD_TIME]=-1,t))}(e)),function(e){var t;return e.filter(we).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.ENCRYPTION_TYPE]=r.encryptionType,n}),((t={})[Fe.ENCRYPTION_TYPE]="",t))}(e)),function(e){var t;return e.filter(Oe).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.LAST_USED_SUBTITLE]=r.subtitle.languageTag||e[Fe.LAST_USED_SUBTITLE],n}),((t={})[Fe.LAST_USED_SUBTITLE]="",t))}(e)),function(e){var t,n=xe(e,f.MANIFEST_LOADING);return e.filter(Ae).reduce((function(e,t){var r;return-1!==n?((r={})[Fe.MS_MANIFEST_LOAD_TIME]=Math.round(t.timestamp-n),r):e}),((t={})[Fe.MS_MANIFEST_LOAD_TIME]=-1,t))}(e)),function(e){var t;return e.filter(Re).reduce((function(e,t){var n,r,i=t.data;return i.fromPosition>i.toPosition?Ve(Ve({},e),((n={})[Fe.N_SEEKBACK]=e[Fe.N_SEEKBACK]+1,n)):i.fromPosition<=i.toPosition?Ve(Ve({},e),((r={})[Fe.N_SEEKFORWARD]=e[Fe.N_SEEKFORWARD]+1,r)):e}),((t={})[Fe.N_SEEKBACK]=0,t[Fe.N_SEEKFORWARD]=0,t))}(e)),function(e){var t,n={totalBytes:0,totalTransferTimeSeconds:0};return e.filter(Ce).reduce((function(e,t){var r,i=t.data;return n.totalBytes+=i.bytes,n.totalTransferTimeSeconds+=i.timeMs/1e3,(r={})[Fe.KBPS_AVERAGE_BANDWIDTH]=Math.round(n.totalBytes/n.totalTransferTimeSeconds*.008),r[Fe.KBYTES_DOWNLOADED]=Math.round(n.totalBytes/1e3),r}),((t={})[Fe.KBYTES_DOWNLOADED]=0,t[Fe.KBPS_AVERAGE_BANDWIDTH]=0,t))}(e)),function(e){for(var t,n={buffering:!1,bufferingType:"",bufferingStart:0},r=((t={})[Fe.N_STALLS]=0,t[Fe.MS_BUFFERING_SEEK]=0,t[Fe.MS_BUFFERING_SEEK_LONGEST]=0,t[Fe.MS_BUFFERING_STALL]=0,t[Fe.MS_INITIAL_BUFFERING]=0,t[Fe.MS_BUFFERING_STALL_LONGEST]=0,t),i=0,o=e;i<o.length;i++){var s=o[i];s.type===f.BUFFERING&&s.data.type===a.STALL&&r[Fe.N_STALLS]++,s.type===f.BUFFERING&&(n.buffering&&(r=He(n,r,s)),n.buffering=!0,n.bufferingType=s.data.type,n.bufferingStart=s.timestamp),s.type!==f.READY&&s.type!==f.ENDED||n.buffering&&(r=He(n,r,s),n.buffering=!1,n.bufferingType="",n.bufferingStart=0)}return r}(e)),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];o.type===f.PLAYBACK_SPEED_CHANGED?n=We(o,n):!0===Ie(n.playing)(o)?n=De(o,n):!0===Le(n.playing)(o)&&(n=$e(o,n))}return(t={})[Fe.MS_PLAYED]=n.msPlayed,t}(e)),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];!0===Ie(n.playing)(o)?n=De(o,n):!0===Le(n.playing)(o)?n=Ke(o,n):!0===Oe(o)&&(n=Ye(o,n)),n=ze(o,n)}return(t={})[Fe.MS_PLAYED_SUBTITLES]=n.msPlayedSubtitles,t}(e)),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];!0===Ie(n.playing)(o)?n=De(o,n):!0===Le(n.playing)(o)?n=Ke(o,n):!0==(o.type===f.FULLSCREEN_CHANGED)&&(n=qe(o,n)),n=Xe(o,n)}return(t={})[Fe.MS_PLAYED_FULLSCREEN]=n.msPlayedFullscreen,t}(e)),function(e){var t;return e.filter(me).reduce((function(e,t){var n,r=t.data;return(n={})[Fe.N_DROPPED_FRAMES]=r.droppedFrames,n}),((t={})[Fe.N_DROPPED_FRAMES]=0,t))}(e))}var Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ze=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function et(e){switch(e){case s.PLAYED_TO_END:return Be.END_TRACK_DONE;case s.REQUESTED:return Be.END_PLAY;case s.FATAL_ERROR:return Be.END_TRACK_ERROR;default:return e}}function tt(e,t){return e.from<t.from?-1:e.from===t.from?e.to>t.to?-1:e.to<t.to?1:0:1}function nt(e,t){return 0===t?0:Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1],o=parseFloat(r)*i/t;return Math.round(e+o)}),0)}var rt=function(e,t){var n=Je({},t);if(n.playing&&void 0!==n.bitrates[n.activeBitrate]){var r=Ue(n.playingTimestamp/1e3,e.timestamp/1e3);n.bitrates[n.activeBitrate]+=r,n.totalTimePlayedInKnownBitrate+=r,n.timeWeightedBitrate=nt(n.bitrates,n.totalTimePlayedInKnownBitrate)}return n.playing=!1,n.playingTimestamp=0,n},it=function(e,t){var n=Je({},t),r=e.timestamp,i=e.data.format.bandwidth;if(n.bitrates[i]||(n.bitrates[i]=0),n.playing&&-1===n.activeBitrate)n.playingTimestamp=r;else if(n.playing&&i!==n.activeBitrate){var o=Ue(n.playingTimestamp/1e3,r/1e3);n.bitrates[n.activeBitrate]+=o,n.totalTimePlayedInKnownBitrate+=o,n.playingTimestamp=r,n.timeWeightedBitrate=nt(n.bitrates,n.totalTimePlayedInKnownBitrate)}return n.playing||n.bitrates[i]||(n.bitrates[i]=0),n.activeBitrate=i,n},ot=function(e,t){if(e.type!==f.SEEKING)return t;var n=e;return Je(Je({},t),{playingPosition:n.data.toPosition,playing:!1,playedRanges:Ze(t.playedRanges,[{from:t.playingPosition,to:n.data.fromPosition}])})},at=function(e,t){if(e.type!==f.SEEKING)return t;var n=e,r=1e3*(n.data.fromPosition-t.playingPosition),i=Math.round(Math.max(t.maxContinous,r));return Je(Je({},t),{playing:!1,playingPosition:n.data.toPosition,maxContinous:i})},st=function(e,t){if(e.type!==f.ENDED)return t;var n=1e3*(e.data.position-t.playingPosition),r=Math.round(Math.max(t.maxContinous,n));return Je(Je({},t),{playing:!1,playingPosition:0,maxContinous:r})},ut=function(e,t){if(e.type!==f.ENDED)return t;var n,r=e,i=Ze(t.playedRanges,[{from:t.playingPosition,to:r.data.position}]),o=Math.round(1e3*(n=i).sort(tt).reduce((function(e,t,r){if(0===e.length)return e.push(t),e;var i=n[r-1];return i.to===t.from?(e[r-1]={from:i.from,to:t.to},e):i.to<t.to&&i.to>t.from?(e[r-1]={from:i.from,to:t.to},e):i.to<t.from?(e.push(t),e):e}),[]).reduce((function(e,t){return e+t.to-t.from}),0));return Je(Je({},t),{playedRanges:i,playing:!1,playingPosition:0,unionPlayed:o})};function ct(e){var t,n=function(e){return e.filter(ge).reduce((function(e,t){var n=t.data;return{startReason:n.playbackRequest.metadata?Pe(n.playbackRequest.metadata):""}}),{startReason:""})}(e);return e.filter(_e).reduce((function(e,t){var r,i=t.data;return(r={})[je.REASON_END]=n.startReason||et(i.reason),r}),((t={})[je.REASON_END]="",t))}function lt(e){var t,n=Qe(e),r=Je(Je({},n),((t={})[je.MS_PLAYED_BACKGROUND]=0,t[je.FULL_SCREEN]=0,t[je.PREFETCHED_BYTES]=0,t[je.PREFETCHED_BYTES_LOADED]=-1,t[je.REFERRER_VENDOR]="com.spotify",t[je.SHUFFLE]=!1,t[je.LIVE]=!1,t[je.SEQUENCE_NUMBER]=-1,t[je.SEQUENCE_ID]="",t[je.CONNECTION_TYPE_START]="",t[je.CONNECTION_TYPE_END]="",t[je.STREAMING_RULE]="",t[je.INCOGNITO_MODE]=!1,t[je.N_SEEKFWD]=n[Fe.N_SEEKFORWARD],t[je.VIDEO_SESSION_ID]=n[Fe.SESSION_ID],t[je.MS_TOTAL_EST]=n[Fe.MS_DURATION],t[je.MS_MANIFEST_LATENCY]=n[Fe.MS_MANIFEST_LOAD_TIME],t[je.START_OFFSET_MS]=n[Fe.MS_START_POSITION],t[je.MS_SEEK_REBUFFERING]=n[Fe.MS_BUFFERING_SEEK],t[je.MAX_MS_SEEK_REBUFFERING]=n[Fe.MS_BUFFERING_SEEK_LONGEST],t[je.MS_STALLED]=n[Fe.MS_BUFFERING_STALL],t[je.MAX_MS_STALLED]=n[Fe.MS_BUFFERING_STALL_LONGEST],t[je.KEY_SYSTEM]=n[Fe.ENCRYPTION_TYPE],t[je.MS_KEY_LATENCY]=n[Fe.MS_ENCRYPTION_LOAD_TIME],t[je.MS_LATENCY]=n[Fe.MS_START_TIME],t[je.TOTAL_BYTES]=Math.round(1e3*n[Fe.KBYTES_DOWNLOADED]),t));return Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je({},r),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];!0===Ie(n.playing)(o)?n=De(o,n):!0===Le(n.playing)(o)&&(n=$e(o,n))}return(t={})[Fe.MS_NOMINAL_PLAYED]=n.msNominalPlayed,t}(e)),function(e){var t;return e.filter(Re).reduce((function(e,t){var n,r,i=t.data;return i.fromPosition>i.toPosition?Je(Je({},e),((n={})[je.MS_SEEKBACK]=Math.round(e[je.MS_SEEKBACK]+1e3*(i.fromPosition-i.toPosition)),n)):i.fromPosition<=i.toPosition?Je(Je({},e),((r={})[je.MS_SEEKFWD]=Math.round(e[je.MS_SEEKFWD]+1e3*(i.toPosition-i.fromPosition)),r)):e}),((t={})[je.MS_SEEKBACK]=0,t[je.MS_SEEKFWD]=0,t))}(e)),function(e){return e.filter(ve).reduce((function(e,t){return he(t.data.playbackIdentity.metadata||{})}),{})}(e)),function(e){var t,n=function(e,t){return e.filter((function(e){return e.type===t})).reduce((function(e,t){return-1===e?t.timestamp:e}),-1)}(e,f.RESUMED);return e.filter(ve).reduce((function(e,t){var r,i=t.data;if(-1!==n){var o=he(i.playbackIdentity.metadata||{}).command_initiated_time_ms;return(r={})[je.UI_LATENCY]=o>-1?Math.round(n-o):-1,r}return e}),((t={})[je.UI_LATENCY]=-1,t))}(e)),ct(e)),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];!0===Ie(n.playing)(o)?n=De(o,n):!0===Ne(n.playing)(o)?n=ot(o,n):!0===ke(n.playing)(o)&&(n=ut(o,n))}return(t={})[je.UNION_PLAYED]=n.unionPlayed,t}(e)),function(e){for(var t,n={playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0,msPlayed:0,msNominalPlayed:0,msPlayedRangeStartTime:0,playingPosition:0,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0,playedRanges:[],unionPlayed:0,maxContinous:0,playbackSpeed:1},r=0,i=e;r<i.length;r++){var o=i[r];!0===Ie(n.playing)(o)?n=De(o,n):!0===Ne(n.playing)(o)?n=at(o,n):ke(n.playing)(o)&&(n=st(o,n))}return(t={})[je.MAX_CONTINOUS]=n.maxContinous,t}(e)),function(e){for(var t,n,r={activeBitrate:-1,currentPlayingBitrate:0,playing:!1,playingTimestamp:0,bitrates:{},totalTimePlayedInKnownBitrate:0,timeWeightedBitrate:0},i=0,o=e;i<o.length;i++){var a=o[i];Se(a)?r=it(a,r):!0===Ie(r.playing)(a)?(n=a,r=Je(Je({},r),{playing:!0,playingTimestamp:n.timestamp})):!0===Le(r.playing)(a)&&(r=rt(a,r))}return(t={})[je.TIME_WEIGHTED_BITRATE]=r.timeWeightedBitrate,t}(e)),function(e){var t;return e.filter(ve).reduce((function(e,t){var n,r=t.timestamp;return(n={})[je.LOCAL_TIME_MS]=Math.round(r),n}),((t={})[je.LOCAL_TIME_MS]=0,t))}(e)),function(e){var t;return e.filter(Te).reduce((function(e,t){var n,r=t.data;return(n={})[je.AUDIOCODEC]=r.format.audioCodec,n}),((t={})[je.AUDIOCODEC]="",t))}(e)),function(e){var t;return e.filter(Se).reduce((function(e,t){var n,r=t.data;return(n={})[je.VIDEOCODEC]=r.format.videoCodec,n}),((t={})[je.VIDEOCODEC]="",t))}(e))}var pt,ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},dt=function(){function e(e,t,n){this.endVideo=e,this.logError=n,this.productStateProvider=t}return e.prototype.init=function(e,t){this.sessionId=t.sessionId,this.nSeekfwd=0,this.msSeekfwd=0,this.nSeekback=0,this.msSeekback=0,this.nStalls=0,this.msInitialBuffering=-1,this.msStalled=0,this.maxMsStalled=0,this.msSeekRebuffering=0,this.maxMsSeekRebuffering=0,this.startBitrate=0,this.oldBitrate=0,this.initTime=(new Date).getTime(),this.latency=0,this.bitrates=[],this.options=t,this.logged=!1,this.endVideoSent=!1,this.shouldSendEndVideo=!1,this.endReason=Be.END_UNKNOWN,this.duration=0,this.connection_type_current="unknown",this.connection_type_start="unknown",this.incognito=!1,this.keySystem="",this.playRanges={lastPosition:t.initialPosition,ranges:[]},V(this),this.connection_type_start=this.productStateProvider.connection_type_start||"",this.connection_type_current=this.productStateProvider.connection_type_current||"",this.incognito=this.productStateProvider.incognito||!1,e.on(p.CHANGE,this.onChange.bind(this))},e.prototype.onChange=function(e,t,n){t.isLoaded!==n.isLoaded&&(this.keySystem=this.parseKeySystem(n.keySystem));var r=he(this.options.metadata||{});if(0===this.latency&&n.currentTime>=0){var i=(new Date).getTime(),o=r.command_initiated_time_ms;this.latency=i-this.initTime,this.ui_latency=o>-1?i-o:-1}n.isSeeking&&n.currentTime!==t.currentTime&&this.seekTo(t,n),0===this.duration&&n.duration>=0&&(this.duration=n.duration),this.endReason!==n.endReason&&(this.endReason=n.endReason),n.bitrate!==this.oldBitrate&&this.updatePlayedSegment(n.currentTime,t.bitrate,n.currentTime,!1,n.playbackSpeed);var s=n.isEnded&&n.isBuffering,u=this.msInitialBuffering>=0;if(t.isBuffering&&!n.isBuffering||s){var c=n.time-n.lastBufferStart;u?t.bufferType===a.SEEK?(this.msSeekRebuffering+=c,this.maxMsSeekRebuffering=Math.max(this.maxMsSeekRebuffering,c)):(this.nStalls++,this.msStalled+=c,this.maxMsStalled=Math.max(this.maxMsStalled,c)):this.msInitialBuffering=c}n.manifestLatency&&!this.manifestLatency&&(this.manifestLatency=n.manifestLatency),n.keyLatency&&!this.keyLatency&&(this.keyLatency=n.keyLatency),this.oldBitrate=n.bitrate,0===this.startBitrate&&(this.startBitrate=n.bitrate);var l=null;if(n.timeUpdate?l=Be.END_UNEXPECTED_EXIT:!t.isPaused&&n.isPaused&&(l=Be.END_UNEXPECTED_EXIT_WHILE_PAUSED),l&&(this.updatePlayedSegment(n.currentTime,t.bitrate,n.currentTime,!1,n.playbackSpeed),this.updateEndVideo(l)),n.isEnded&&!this.logged){this.updatePlayedSegment(n.currentTime,t.bitrate,n.currentTime,!0,n.playbackSpeed);var p=this.bitrates.length>0?this.bitrates[0].timeDiff:0,f=this.bitrates.length<=1&&p<.1;r.reason_start===Be.END_APPLOAD&&f||this.logEndVideo(this.endReason),this.logged=!0}},e.prototype.seekTo=function(e,t){this.updatePlayedSegment(e.currentTime,e.bitrate,t.currentTime,!0,t.playbackSpeed);var n=t.currentTime-e.currentTime;n>0?(this.nSeekfwd++,this.msSeekfwd+=n):(this.nSeekback++,this.msSeekback-=n)},e.prototype.updatePlayedSegment=function(e,t,n,r,i){if(e>=0){var o=e-this.playRanges.lastPosition;o>0&&this.playRanges.ranges.push({position:this.playRanges.lastPosition,length:o,playbackSpeed:i}),this.playRanges.lastPosition=n}if(void 0!==this.segmentStartTime){var a=e-this.segmentStartTime;a>.01&&this.bitrates.push({timeDiff:a,endSegment:r,bitrate:t})}e>=0&&(this.segmentStartTime=n)},e.prototype.calculatePlayTimesAndBitrates=function(){for(var e=0,t=0,n=0,r=0,i=0,o={},a=0,s=this.playRanges.ranges.sort((function(e,t){return e.position<t.position?-1:e.position===t.position?0:1})),u=0,c=0;c<s.length;c++){var l=s[c].position,p=s[c].length,f=s[c].playbackSpeed;e+=f>0?p/f:0,t+=p,l>=u?(n+=p,u=l+p):(n+=Math.max(0,l+p-u),u=Math.max(u,l+p)),a===l?i+=p:(r=Math.max(r,i),i=p),a=l+p}for(var d in r=Math.max(r,i),this.bitrates)if(this.bitrates.hasOwnProperty(d)){var h=this.bitrates[d];o.hasOwnProperty(h.bitrate)?o[h.bitrate]+=h.timeDiff:o[h.bitrate]=h.timeDiff}var y=0;for(var _ in o)o.hasOwnProperty(_)&&(y+=_*o[_]/t);return{msPlayed:Math.round(1e3*e),msPlayedNominal:Math.round(1e3*t),unionPlayed:Math.round(1e3*n),maxContinuous:Math.round(1e3*r),timeWeightedBitrate:Math.round(y)}},e.prototype.parseKeySystem=function(e){switch(e){case"com.widevine.alpha":return"widevine";default:return e||""}},e.prototype.createMessage=function(e){var t=this.calculatePlayTimesAndBitrates(),n=he(this.options.metadata||{}),r=et(e);return ft({sequence_number:this.sequenceNumber,sequence_id:this.sequenceId,video_session_id:this.sessionId,reason_end:r,ms_played:t.msPlayed,ms_nominal_played:t.msPlayedNominal,ms_total_est:Math.round(1e3*this.duration),live:!1,ms_manifest_latency:this.manifestLatency||-1,n_seekback:this.nSeekback,ms_seekback:Math.round(1e3*this.msSeekback),n_seekfwd:this.nSeekfwd,ms_seekfwd:Math.round(1e3*this.msSeekfwd),ms_latency:Math.round(this.latency),ui_latency:this.ui_latency,start_offset_ms:Math.round(1e3*this.options.initialPosition),ms_initial_buffering:this.msInitialBuffering,ms_seek_rebuffering:this.msSeekRebuffering,ms_stalled:this.msStalled,max_ms_seek_rebuffering:this.maxMsSeekRebuffering,max_ms_stalled:this.maxMsStalled,n_stalls:this.nStalls,shuffle:!1,max_continous:t.maxContinuous,union_played:t.unionPlayed,audiocodec:"mp4a.40.5",videocodec:"vp9",incognito_mode:this.incognito,referrer_vendor:"com.spotify",streaming_rule:this.productStateProvider.streamingRules(),start_bitrate:this.startBitrate,full_screen:0,time_weighted_bitrate:t.timeWeightedBitrate,prefetched_bytes:0,prefetched_bytes_loaded:-1,key_system:this.keySystem,ms_key_latency:this.keyLatency||-1,total_bytes:Math.round(t.timeWeightedBitrate*t.msPlayed/1e3/8),local_time_ms:Math.round(this.initTime),connection_type_start:this.connection_type_start,connection_type_end:this.connection_type_current,ms_played_background:0},n)},e.prototype.updateEndVideoInternal=function(e){var t=this,n=this.createMessage(e);this.endVideo.update(this.sequenceNumber,n,(function(e){e?t.logError&&t.logError("logEndVideo, failed update:",e):t.shouldSendEndVideo&&t.endVideo.send(t.sequenceNumber)}))},e.prototype.updateEndVideo=function(e){var t=this;if(!this.endVideoSent)return void 0===this.sequenceNumber?(this.sequenceNumber=-1,void this.endVideo.create((function(n,r,i){if(n)return t.sequenceNumber=void 0,void(t.sequenceId=void 0);t.sequenceNumber=r,t.sequenceId=i,t.updateEndVideoInternal(e)}))):void(-1!==this.sequenceNumber&&this.updateEndVideoInternal(e))},e.prototype.logEndVideo=function(e){this.endVideoSent||(this.shouldSendEndVideo=!0,this.updateEndVideo(e),this.endVideoSent=!0)},e}(),ht=function(){function e(){this.sessionEvents=[]}return e.prototype.onBuffering=function(e,t,n,r){this.sessionEvents.push({timestamp:r,type:f.BUFFERING,data:{type:t,playWhenReady:e,position:n}})},e.prototype.onEncryptionKeyLoaded=function(e,t){this.sessionEvents.push({timestamp:t,type:f.ENCRYPTION_KEY_LOADED,data:{encryptionType:e}})},e.prototype.onDurationChanged=function(e,t){this.sessionEvents.push({timestamp:t,type:f.DURATION_CHANGED,data:{duration:e}})},e.prototype.onManifestLoaded=function(e,t){this.sessionEvents.push({timestamp:e,type:f.MANIFEST_LOADED,data:{availableSubtitles:t}})},e.prototype.onFatalError=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.FATAL_ERROR,data:{error:e,position:t}})},e.prototype.onRecoverableError=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.RECOVERABLE_ERROR,data:{error:e,position:t}})},e.prototype.onPlaybackCreated=function(e,t,n,r){this.sessionEvents.push({timestamp:r,type:f.CREATED,data:{playbackIdentity:e,initialConfiguration:t}})},e.prototype.onEndingPlayback=function(e,t){this.sessionEvents.push({timestamp:t,type:f.NEW_SESSION_LOADED,data:{playbackRequest:e}})},e.prototype.onPlaybackEnded=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.ENDED,data:{reason:e,position:t}})},e.prototype.onReady=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.READY,data:{playWhenReady:e,position:t}})},e.prototype.onResumed=function(e,t){this.sessionEvents.push({timestamp:t,type:f.RESUMED,data:{position:e}})},e.prototype.onPaused=function(e,t){this.sessionEvents.push({timestamp:t,type:f.PAUSED,data:{position:e}})},e.prototype.onSeeking=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.SEEKING,data:{fromPosition:e,toPosition:t}})},e.prototype.onAudioFormatChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.AUDIO_FORMAT_CHANGED,data:{format:e,position:t}})},e.prototype.onVideoFormatChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.VIDEO_FORMAT_CHANGED,data:{format:e,position:t}})},e.prototype.onVolumeChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.VOLUME_CHANGED,data:{volume:e,position:t}})},e.prototype.onManifestLoading=function(e){this.sessionEvents.push({timestamp:e,type:f.MANIFEST_LOADING,data:void 0})},e.prototype.onEncryptionKeyLoading=function(e){this.sessionEvents.push({timestamp:e,type:f.ENCRYPTION_KEY_LOADING,data:void 0})},e.prototype.onBytesTransferred=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.BYTES_TRANSFERRED,data:{bytes:e,timeMs:t}})},e.prototype.onSubtitleChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.SUBTITLE_CHANGED,data:{subtitle:e,position:t}})},e.prototype.onFullscreenChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.FULLSCREEN_CHANGED,data:{fullscreen:e,position:t}})},e.prototype.onPlaybackSpeedChanged=function(e,t,n){this.sessionEvents.push({timestamp:n,type:f.PLAYBACK_SPEED_CHANGED,data:{position:e,speed:t}})},e.prototype.onDroppedVideoFrames=function(e,t){this.sessionEvents.push({timestamp:t,type:f.DROPPED_FRAMES,data:{droppedFrames:e}})},e}(),yt=(pt=function(e,t){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},mt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},gt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},Et=function(e){function t(t,n,r){var i=e.call(this)||this;return i.unexpectedEndReason=Be.END_UNEXPECTED_EXIT,i.endVideo=t,i.productStateProvider=n,i.logError=r,i.startConnectionType="unknown",i.endConnectionType="unknown",i}return yt(t,e),t.prototype.onPlaybackCreated=function(t,n,r,i){return mt(this,void 0,void 0,(function(){var o=this;return gt(this,(function(a){switch(a.label){case 0:return e.prototype.onPlaybackCreated.call(this,t,n,r,i),this.incognito=this.productStateProvider.incognito||!1,this.startConnectionType=Me(),!(t.metadata&&t.metadata.endvideo_reason_start===Be.END_APPLOAD)?[4,this.updatePendingEndVideo(n.position,i)]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.timeObservable=r,this.periodicObserverToken=r.addObserverForPeriodicEvents(15,(function(e){return o.updatePendingEndVideo(e,i)})),[2]}}))}))},t.prototype.onReady=function(t,n,r){return mt(this,void 0,void 0,(function(){return gt(this,(function(i){switch(i.label){case 0:return e.prototype.onReady.call(this,t,n,r),this.unexpectedEndReason=t?Be.END_UNEXPECTED_EXIT:Be.END_UNEXPECTED_EXIT_WHILE_PAUSED,[4,this.updatePendingEndVideo(n,r)];case 1:return i.sent(),[2]}}))}))},t.prototype.onPaused=function(t,n){return mt(this,void 0,void 0,(function(){return gt(this,(function(r){switch(r.label){case 0:return e.prototype.onPaused.call(this,t,n),this.unexpectedEndReason=Be.END_UNEXPECTED_EXIT_WHILE_PAUSED,[4,this.updatePendingEndVideo(t,n)];case 1:return r.sent(),[2]}}))}))},t.prototype.onResumed=function(t,n){return mt(this,void 0,void 0,(function(){return gt(this,(function(r){switch(r.label){case 0:return e.prototype.onResumed.call(this,t,n),this.unexpectedEndReason=Be.END_UNEXPECTED_EXIT,[4,this.updatePendingEndVideo(t,n)];case 1:return r.sent(),[2]}}))}))},t.prototype.onPlaybackEnded=function(t,n,r){return mt(this,void 0,void 0,(function(){return gt(this,(function(i){switch(i.label){case 0:return e.prototype.onPlaybackEnded.call(this,t,n,r),this.endConnectionType=Me(),[4,this.createAndUpdateMessage(this.sessionEvents)];case 1:return i.sent(),this.timeObservable&&this.periodicObserverToken&&this.timeObservable.removePeriodicObserver(this.periodicObserverToken),this.sequenceNumber&&this.endVideo.send(this.sequenceNumber),[2]}}))}))},t.prototype.createEndVideo=function(){var e=this;return new Promise((function(t,n){e.endVideo.create((function(r,i,o){r&&(e.sequenceNumber=void 0,e.sequenceId=void 0,n(r)),e.sequenceNumber=i,e.sequenceId=o,t({sequenceNumber:i,sequenceId:o})}))}))},t.prototype.updateEndVideo=function(e){var t=this;return new Promise((function(n,r){t.endVideo.update(t.sequenceNumber,e,(function(i){i&&(t.logError&&t.logError("logEndVideo, failed update:",i),r(i)),n(e)}))}))},t.prototype.endVideoFields=function(){var e;return(e={})[je.SEQUENCE_NUMBER]=this.sequenceNumber,e[je.SEQUENCE_ID]=this.sequenceId,e[je.CONNECTION_TYPE_START]=this.startConnectionType,e[je.CONNECTION_TYPE_END]=this.endConnectionType,e[je.STREAMING_RULE]=this.productStateProvider.streamingRules(),e[je.INCOGNITO_MODE]=this.incognito,e},t.prototype.shouldLogEndVideo=function(e,t){return!(e===Be.END_APPLOAD&&t<100)},t.prototype.createAndUpdateMessage=function(e){return mt(this,void 0,void 0,(function(){var t,n;return gt(this,(function(r){switch(r.label){case 0:return t=lt(e),this.shouldLogEndVideo(t[je.REASON_START],t[je.MS_PLAYED])?this.sequenceNumber?[3,2]:[4,this.createEndVideo()]:[2];case 1:r.sent(),r.label=2;case 2:return n=_t(_t({},t),this.endVideoFields()),[4,this.updateEndVideo(n)];case 3:return r.sent(),[2]}}))}))},t.prototype.updatePendingEndVideo=function(e,t){return mt(this,void 0,void 0,(function(){var n;return gt(this,(function(r){switch(r.label){case 0:return n={timestamp:t,type:f.ENDED,data:{reason:this.unexpectedEndReason,position:e}},[4,this.createAndUpdateMessage(vt(this.sessionEvents,[n]))];case 1:return r.sent(),[2]}}))}))},t}(ht),bt=function(){function e(e,t,n){this.endVideo=e,this.productStateProvider=t,this.logError=n}return e.prototype.createEventObserver=function(){return new Et(this.endVideo,this.productStateProvider,this.logError)},e}(),Tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ot=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n.startConnectionType="unknown",n.endConnectionType="unknown",n}return Tt(t,e),t.prototype.onPlaybackCreated=function(t,n,r,i){return St(this,void 0,void 0,(function(){return wt(this,(function(o){return e.prototype.onPlaybackCreated.call(this,t,n,r,i),this.startConnectionType=Me(),this.endConnectionType=Me(),[2]}))}))},t.prototype.onPlaybackEnded=function(t,n,r){e.prototype.onPlaybackEnded.call(this,t,n,r),this.logPlaybackSessionMessage(this.sessionEvents)},t.prototype.logPlaybackSessionMessage=function(e){var t=Qe(e);t.connection_type_start=this.startConnectionType,t.connection_type_end=this.endConnectionType,this.logger.log(t)},t}(ht),At=function(){function e(e){this.logger=e}return e.prototype.createEventObserver=function(){return new Ot(this.logger)},e}(),Rt=function(){function e(e,t,n){this.logger=e,this.playbackIdentity=t,this.featureIdentifier=n}return e.prototype.onRecoverableError=function(e){this.logErrorMessage(e)},e.prototype.onFatalError=function(e){this.logErrorMessage(e)},e.prototype.logErrorMessage=function(e){var t=e.data?e.data.detail.code:e.betamaxData.error_code,n=e.data.detail.data.toString(),r=e.data?e.data.type:e.betamaxData.type,i=e.data?e.data.detail.category:e.betamaxData.error_category,o={session_id:this.playbackIdentity.sessionId,media_url:this.playbackIdentity.mediaUrl,feature_identifier:this.featureIdentifier,error_domain:e.kind,error_code:t,error_description:n,error_extra1:r,error_extra2:i?i.toString():void 0};this.logger.log(o)},e}(),Ct=function(){function e(e){this.logger=e}return e.prototype.createEventObserver=function(e,t){return new Rt(this.logger,e,t)},e}(),Pt=h((function(e){for(var t=U(e),n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r})),It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},kt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},Lt={playWhenReady:!0,initialPosition:0},Dt=function(e){function t(t,n){var r=e.call(this)||this;return r.handleEmitChange=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e===f.VOLUME_CHANGED&&t&&(r.playbackVolume=t[0].volume)},r.proxy=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.handleEmitChange.apply(r,kt([e],t)),r.emit.apply(r,kt([e],t))}},r.proxyEmit=function(e,t,n){e.on(t,r.proxy(n))},r.playerConfiguration=t,r.playbackVolume=1,r.playbackSpeed=1,r.playbackSessionFactory=n,r.preferredSubtitle=ne,r}return It(t,e),t.prototype.play=function(e){return this.playWithOptions(e,Lt)},t.prototype.playWithOptions=function(e,t){var n=this;this.endPreviousPlaybackSession(e),this.playbackRequest=e;var r=this.createPlaybackSession(e.isRoyaltyMedia);return r?r.playWithOptions(Nt(Nt({},e),{volume:this.playbackVolume,playbackSpeed:this.playbackSpeed,preferredSubtitle:this.preferredSubtitle}),Nt(Nt({},Lt),t)).then((function(){return n})):new Promise((function(e,t){t("Failed to start playback")}))},t.prototype.getPlaybackRequest=function(){return this.playbackRequest},t.prototype.resume=function(){return this.playbackSession&&this.playbackSession.resume(),this},t.prototype.pause=function(){return this.playbackSession&&this.playbackSession.pause(),this},t.prototype.seekTo=function(e){return this.playbackSession&&this.playbackSession.seekTo(e),this},t.prototype.setVolume=function(e){return this.playbackVolume=e,this.playbackSession&&this.playbackSession.setVolume(this.playbackVolume),this},t.prototype.setAudioDisabled=function(e){return this.playbackSession&&this.playbackSession.setAudioDisabled(e),this},t.prototype.getPreferredSubtitle=function(){return this.preferredSubtitle},t.prototype.setPreferredSubtitle=function(e){return this.preferredSubtitle=e,this.playbackSession&&this.playbackSession.setPreferredSubtitle(e),this},t.prototype.setPlaybackSpeed=function(e){this.playbackSpeed=e,this.playbackSession&&this.playbackSession.setPlaybackSpeed(e)},t.prototype.stop=function(){this.playbackSession&&(this.playbackSession.stop(s.REQUESTED),this.playbackSession.removeAllListeners(),this.playbackSession=null)},t.prototype.emitForPercentages=function(e){this.playbackSession&&this.playbackSession.emitForPercentages(e)},t.prototype.clearEmittedPercentages=function(){this.playbackSession&&this.playbackSession.clearEmittedPercentages()},t.prototype.getNode=function(){return this.playbackSession?this.playbackSession.getNode():null},Object.defineProperty(t.prototype,"muted",{get:function(){return this.playbackSession?this.playbackSession.muted:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.playbackSession?this.playbackSession.volume:this.playbackVolume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"started",{get:function(){return this.playbackSession?this.playbackSession.started:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this.playbackSession?this.playbackSession.ended:null},enumerable:!0,configurable:!0}),t.prototype.getSessionState=function(){return this.playbackSession?this.playbackSession.state:null},t.prototype.endPreviousPlaybackSession=function(e){if(this.playbackSession&&!this.playbackSession.ended){var t=he(te({},["metadata"],e)).reason_start||Be.END_UNKNOWN;this.playbackSession.newSessionLoaded(e),this.releaseWithReason(t)}},t.prototype.releaseWithReason=function(e){this.playbackSession&&(this.playbackSession.stop(e),this.playbackSession.removeAllListeners(),this.playbackSession=null)},t.prototype.release=function(){this.releaseWithReason(Be.END_PLAY)},t.prototype.createPlaybackSession=function(e){var t,n=this;try{return(t=this.playbackSessionFactory.createPlaybackSession(e,this.playerConfiguration))&&Pt(Nt(Nt({},f),p)).map((function(e){n.proxyEmit(t,e,e)})),this.playbackSession=t,this.playbackSession}catch(e){return null}},t}(c.EventEmitter),xt=function(){function e(e){this.factories=e,this.observers=[]}return e.prototype.initiateObservers=function(e,t,n){this.observers=this.factories.map((function(r){return r.createEventObserver(e,t,n)})).filter((function(e){return e}))},e.prototype.onPlaybackCreated=function(e,t,n){var r=Date.now();this.observers.forEach((function(i){void 0!==i.onPlaybackCreated&&i.onPlaybackCreated(e,t,n,r)}))},e.prototype.onEndingPlayback=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onEndingPlayback&&n.onEndingPlayback(e,t)}))},e.prototype.onPlaybackEnded=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onPlaybackEnded&&r.onPlaybackEnded(t,e,n)}))},e.prototype.onVolumeChanged=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onVolumeChanged&&r.onVolumeChanged(t,e,n)}))},e.prototype.onResumed=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onResumed&&n.onResumed(e,t)}))},e.prototype.onSeeking=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onSeeking&&r.onSeeking(e,t,n)}))},e.prototype.onPaused=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onPaused&&n.onPaused(e,t)}))},e.prototype.onReady=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onReady&&r.onReady(t,e,n)}))},e.prototype.onManifestLoaded=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onManifestLoaded&&n.onManifestLoaded(t,e)}))},e.prototype.onManifestLoading=function(){var e=Date.now();this.observers.forEach((function(t){void 0!==t.onManifestLoading&&t.onManifestLoading(e)}))},e.prototype.onRecoverableError=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onRecoverableError&&r.onRecoverableError(e,t,n)}))},e.prototype.onFatalError=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onFatalError&&r.onFatalError(e,t,n)}))},e.prototype.onAudioFormatChanged=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onAudioFormatChanged&&r.onAudioFormatChanged(e,t,n)}))},e.prototype.onVideoFormatChanged=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onVideoFormatChanged&&r.onVideoFormatChanged(e,t,n)}))},e.prototype.onBuffering=function(e,t,n){var r=Date.now();this.observers.forEach((function(i){void 0!==i.onBuffering&&i.onBuffering(t,n,e,r)}))},e.prototype.onDroppedVideoFrames=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onDroppedVideoFrames&&n.onDroppedVideoFrames(e,t)}))},e.prototype.onEncryptionKeyLoaded=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onEncryptionKeyLoaded&&n.onEncryptionKeyLoaded(e,t)}))},e.prototype.onEncryptionKeyLoading=function(){var e=Date.now();this.observers.forEach((function(t){void 0!==t.onEncryptionKeyLoading&&t.onEncryptionKeyLoading(e)}))},e.prototype.onBytesTransferred=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onBytesTransferred&&r.onBytesTransferred(e,t,n)}))},e.prototype.onDurationChanged=function(e){var t=Date.now();this.observers.forEach((function(n){void 0!==n.onDurationChanged&&n.onDurationChanged(e,t)}))},e.prototype.onSubtitleChanged=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onSubtitleChanged&&r.onSubtitleChanged(t,e,n)}))},e.prototype.onFullscreenChanged=function(e,t){var n=Date.now();this.observers.forEach((function(r){void 0!==r.onFullscreenChanged&&r.onFullscreenChanged(t,e,n)}))},e.prototype.onPlaybackSpeedChanged=function(e,t,n){this.observers.forEach((function(r){void 0!==r.onPlaybackSpeedChanged&&r.onPlaybackSpeedChanged(e,t,n)}))},e}(),Ut=function(){function e(){var e=this;this.tokenCounter=1,this.handleTimeUpdate=function(t){e.processPeriodicObserverEvents(t),e.processPositionObserverEvents(t)},this.positionObservers=[],this.periodicObservers=[]}return e.prototype.nextToken=function(){return this.tokenCounter++,this.tokenCounter},e.prototype.getProgress=function(e){var t=e.target.currentTime,n=e.target.duration;return Math.min(Math.max(t/n,0),1)},e.prototype.processPositionObserverEvents=function(e){var t=this.getProgress(e);if(void 0!==this.lastProgress){for(var n=0,r=this.positionObservers;n<r.length;n++){var i=r[n];i.position>=this.lastProgress&&i.position<t&&(i.callback(t),this.removePositionObserverByReference(i))}this.lastProgress=t}else this.lastProgress=t},e.prototype.processPeriodicObserverEvents=function(e){for(var t=0,n=this.periodicObservers;t<n.length;t++){var r=n[t],i=e.target.currentTime;Math.abs(r.lastReportedPosition-i)>=r.intervalInSeconds&&(r.callback(i),r.lastReportedPosition=Math.floor(i))}},e.prototype.removePositionObserverByReference=function(e){this.positionObservers=this.positionObservers.filter((function(t){return t!==e}))},e.prototype.removePositionObserver=function(e){this.positionObservers=this.positionObservers.filter((function(t){return t.token!==e}))},e.prototype.removePeriodicObserver=function(e){this.periodicObservers=this.periodicObservers.filter((function(t){return t.token!==e}))},e.prototype.addObserverForMediaPositions=function(e,t){for(var n=this.nextToken(),r=0,i=e;r<i.length;r++){var o=i[r];this.positionObservers.push({callback:t,token:n,position:o})}return n},e.prototype.addObserverForPeriodicEvents=function(e,t){var n=this.nextToken();return this.periodicObservers.push({callback:t,intervalInSeconds:e,lastReportedPosition:0,token:n}),n},e}(),Mt=function(){function e(e,t){this.eventEmitter=e,this.internalObservers=t}return e.prototype.initiateObservers=function(e,t,n){this.internalObservers.initiateObservers(e,t,n)},e.prototype.onTimeUpdate=function(e){this.emitSessionPlaybackEvent(f.POSITION_UPDATE,{position:e})},e.prototype.onProgressChanged=function(e){this.emitSessionPlaybackEvent(f.PROGRESS,e)},e.prototype.onPlaybackCreated=function(e,t,n){this.internalObservers.onPlaybackCreated(e,t,n),this.emitSessionPlaybackEvent(f.CREATED,{identity:e})},e.prototype.onEndingPlayback=function(e){this.internalObservers.onEndingPlayback(e)},e.prototype.onPlaybackEnded=function(e,t,n){this.internalObservers.onPlaybackEnded(e,t),this.emitSessionPlaybackEvent(f.ENDED,{position:e,reason:t,n_dropped_frames:n})},e.prototype.onVolumeChanged=function(e,t,n){this.internalObservers.onVolumeChanged(e,t),this.emitSessionPlaybackEvent(f.VOLUME_CHANGED,{position:e,volume:t,muted:n})},e.prototype.onStarted=function(e){this.internalObservers.onResumed(e),this.emitSessionPlaybackEvent(f.STARTED,{position:e})},e.prototype.onResumed=function(e){this.internalObservers.onResumed(e),this.emitSessionPlaybackEvent(f.RESUMED,{position:e})},e.prototype.onSeeking=function(e,t){this.internalObservers.onSeeking(e,t),this.emitSessionPlaybackEvent(f.SEEKING,{fromPosition:e,toPosition:t})},e.prototype.onPaused=function(e){this.internalObservers.onPaused(e),this.emitSessionPlaybackEvent(f.PAUSED,{position:e})},e.prototype.onReady=function(e,t,n){this.internalObservers.onReady(e,n),this.emitSessionPlaybackEvent(f.READY,{position:e,duration:t,playWhenReady:n})},e.prototype.onManifestLoaded=function(e){this.internalObservers.onManifestLoaded(e),this.emitSessionPlaybackEvent(f.MANIFEST_LOADED,{availableSubtitles:e})},e.prototype.onManifestLoading=function(){this.internalObservers.onManifestLoading(),this.emitSessionPlaybackEvent(f.MANIFEST_LOADING)},e.prototype.onRecoverableError=function(e,t){this.internalObservers.onRecoverableError(e,t),this.emitSessionPlaybackEvent(f.RECOVERABLE_ERROR,{error:e,position:t})},e.prototype.onFatalError=function(e,t){this.internalObservers.onFatalError(e,t),this.emitSessionPlaybackEvent(f.FATAL_ERROR,{error:e,position:t})},e.prototype.onAudioFormatChanged=function(e,t){this.internalObservers.onAudioFormatChanged(e,t),this.emitSessionPlaybackEvent(f.AUDIO_FORMAT_CHANGED,{bandwidth:e.bandwidth})},e.prototype.onVideoFormatChanged=function(e,t){this.internalObservers.onVideoFormatChanged(e,t),this.emitSessionPlaybackEvent(f.VIDEO_FORMAT_CHANGED,{width:e.width,height:e.height,bandwidth:e.bandwidth})},e.prototype.onBuffering=function(e,t,n){this.internalObservers.onBuffering(e,t,n),this.emitSessionPlaybackEvent(f.BUFFERING,{position:e,type:n})},e.prototype.onDroppedVideoFrames=function(e){this.internalObservers.onDroppedVideoFrames(e),this.emitSessionPlaybackEvent(f.DROPPED_FRAMES,{droppedFrames:e})},e.prototype.onEncryptionKeyLoaded=function(e){this.internalObservers.onEncryptionKeyLoaded(e),this.emitSessionPlaybackEvent(f.ENCRYPTION_KEY_LOADED,{encryptionType:e})},e.prototype.onEncryptionKeyLoading=function(){this.internalObservers.onEncryptionKeyLoading(),this.emitSessionPlaybackEvent(f.ENCRYPTION_KEY_LOADING)},e.prototype.onBytesTransferred=function(e,t){this.internalObservers.onBytesTransferred(e,t),this.emitSessionPlaybackEvent(f.BYTES_TRANSFERRED,{bytes:e,time:t})},e.prototype.onDurationChanged=function(e){this.internalObservers.onDurationChanged(e),this.emitSessionPlaybackEvent(f.DURATION_CHANGED,{duration:e})},e.prototype.onSubtitleChanged=function(e,t){this.internalObservers.onSubtitleChanged(e,t),this.emitSessionPlaybackEvent(f.SUBTITLE_CHANGED,{position:e,languageTag:t.languageTag})},e.prototype.onFullscreenChanged=function(e,t){this.internalObservers.onFullscreenChanged(e,t),this.emitSessionPlaybackEvent(f.FULLSCREEN_CHANGED,{fullscreen:t,position:e})},e.prototype.onPlaybackSpeedChanged=function(e,t,n){this.internalObservers.onPlaybackSpeedChanged(e,t,n)},e.prototype.emitSessionPlaybackEvent=function(e,t){this.eventEmitter.emit(e,t),this.eventEmitter.emit("any",e,t)},e}(),Ft=function(){return(Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},Bt=function(){function e(e){this.playerConfigurationDependencies=e}return e.prototype.createPlaybackSession=function(e,t){var n,r=this.playerConfigurationDependencies.factories||[];if(this.playerConfigurationDependencies.session&&(r=jt(r,[new At(this.playerConfigurationDependencies.session.logger)])),e&&this.playerConfigurationDependencies.endVideo){var i=this.playerConfigurationDependencies.endVideo,o=i.endVideo,a=i.productStateProvider,s=i.logError;t.newEventApi?r=jt(r,[new bt(o,a,s)]):n=new dt(o,a,s)}if(e&&!this.playerConfigurationDependencies.endVideo)throw new Error("Cannot play Royalty media. EndVideo support is not enabled.");var u=new xt(r);return new rn(t,Ft(Ft({},this.playerConfigurationDependencies),{endVideoTracker:n,initiatePlaybackEventsObserver:function(e){return new Mt(e,u)}}))},e}(),Vt=function(){function e(e){this.playerConfigurationDependencies=e}return e.prototype.createBetamaxPlayer=function(e){var t=new Bt(this.playerConfigurationDependencies);return new Dt(e,t)},e}(),Ht=n("bzhS"),Wt=n.n(Ht);function Kt(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Gt(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var Yt="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},qt=h((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function zt(e,t,n,r){var i=Kt(e);function o(e,t){return Xt(e,t,n.slice(),r.slice())}return!Gt((function(e,t){return!Gt(o,t,e)}),Kt(t),i)}function Xt(e,t,n,r){if(Yt(e,t))return!0;var i,o,a=qt(e);if(a!==qt(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Yt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Yt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var s=n.length-1;s>=0;){if(n[s]===e)return r[s]===t;s-=1}switch(a){case"Map":return e.size===t.size&&zt(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&zt(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=U(e);if(u.length!==U(t).length)return!1;var c=n.concat([e]),l=r.concat([t]);for(s=u.length-1;s>=0;){var p=u[s];if(!y(p,t)||!Xt(t[p],e[p],c,l))return!1;s-=1}return!0}var $t=m((function(e,t){return Xt(e,t,[],[])})),Qt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(){return(Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Zt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},en=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},nn=6e6,rn=function(e){function t(t,n){var r=e.call(this)||this;r.transformUrl=function(e,t){return void 0===t&&(t=[]),t.reduce((function(t,n){return n.isPlayable(e)?n.createAssetUri(e):t}),e)},r.configuration=r.assignDefaultConfiguration(t),r.playbackSessionConfiguration=n,r.playbackEventsObserver=r.playbackSessionConfiguration.initiatePlaybackEventsObserver(r),r.playbackTimeObservable=new Ut,t.containerElement&&(r.containerElement=t.containerElement),t.containerElementClass&&(r.containerElementClass=t.containerElementClass),r.checkContainerElementByClass=function(){if(r.containerElementClass){var e=document.getElementsByClassName(r.containerElementClass)[0];e&&(e.appendChild(r.node),r.containerElementMutationObserver.disconnect())}},r.containerElementMutationObserver=new MutationObserver(r.checkContainerElementByClass);return r.videoElementConfig=Jt(Jt({},{controls:!1,style:"",width:640}),t.videoElementConfig),r.videoElementEventHandlers=[{event:"ended",handler:r.handleEnded},{event:"durationchange",handler:r.handleDurationchange},{event:"timeupdate",handler:r.handleTimeUpdate},{event:"volumechange",handler:r.handleVolumechange},{event:"playing",handler:r.handlePlaying},{event:"pause",handler:r.handlePause},{event:"canplay",handler:r.handleCanplay},{event:"seeking",handler:r.handleSeeking},{event:"seeked",handler:r.handleSeeked},{event:"loadedmetadata",handler:r.handleLoadedMetadata}],r.shakaPlayerEventHandlers=[{event:"error",handler:r.handleShakaError},{event:"adaptation",handler:r.handleAdaptation},{event:"buffering",handler:r.onBufferingStateChange},{event:"drmsessionupdate",handler:r.onEncryptionKeyLoaded}],r}return Qt(t,e),t.prototype.assignDefaultConfiguration=function(e){return Jt(Jt({},{manifestUrlTemplate:null,widevineLicenseUrl:"",subtitlesEnabled:!0,videoPlaybackSessionLoggingEnabled:!0}),e)},t.prototype.validatePlaybackRequest=function(e){if(!e)throw new Error("Missing playbackRequest");if(!e.mediaUrl)throw new Error("mediaUrl must be set");if(e.initialPosition<0)throw new Error("initialPosition cannot be negative");if("boolean"!=typeof e.isRoyaltyMedia)throw new Error("Missing or wrong isRoyaltyMedia value");return e},t.prototype.playWithOptions=function(e,t){var n=this;return new Promise((function(r){var i=n.validatePlaybackRequest(Jt(Jt({},e),t)),o=Wt.a.create().toString().replace(new RegExp("-","g"),"");n.session=Jt({sessionId:o},i),n.node=document.createElement("video"),void 0!==n.videoElementConfig.controls&&(n.node.controls=n.videoElementConfig.controls),void 0!==n.videoElementConfig.style&&(n.node.style.cssText=n.videoElementConfig.style),void 0!==n.videoElementConfig.width&&(n.node.width=n.videoElementConfig.width),void 0!==n.videoElementConfig.height&&(n.node.height=n.videoElementConfig.height),n.containerElement?n.containerElement.appendChild(n.node):n.containerElementClass&&(n.containerElementMutationObserver.observe(document.documentElement,{childList:!0,subtree:!0}),n.checkContainerElementByClass()),n.node.setAttribute("preload","auto"),n.node.setAttribute("data-sessionId",n.session.sessionId),n.playbackEventsObserver.initiateObservers(n.session,n.getFeatureIdentifier(),n.playbackSessionConfiguration),n.playbackSessionConfiguration.endVideoTracker&&n.playbackSessionConfiguration.endVideoTracker.init(n,Jt(Jt({},n.configuration),n.session)),n.playbackEventsObserver.onPlaybackCreated(Jt({},n.session),{position:t.initialPosition,volume:e.volume,preferredSubtitle:e.preferredSubtitle},n.playbackTimeObservable),n.playerBufferInterval=0,n.playerTimeUpdateInterval=0,n.state=n.getDefaultState(t),n.latencyStartTimes={},n.setVolume(e.volume),n.player=new u(n.node),n.player.configure({abr:{defaultBandwidthEstimate:nn},drm:n.configuration.drm});var a=n.player.getNetworkingEngine();a&&(a.registerRequestFilter(n.networkRequestFilter.bind(n)),a.registerResponseFilter(n.networkResponseFilter.bind(n)));var s=n.transformUrl(n.session.mediaUrl,n.playbackSessionConfiguration.mediaExtensions);n.startListening(),n.playerLoadPromise=n.player.load(s,t.initialPosition),n.setPaused(!t.playWhenReady),n.playerLoadPromise.then((function(){n.set({isLoaded:!0,keySystem:n.player.keySystem()}),n.configuration.subtitlesEnabled&&void 0!==e.preferredSubtitle&&n.setPreferredSubtitle(e.preferredSubtitle),r(n)})).catch((function(e){n.handleError("player-load",{type:"error",detail:e})}))}))},t.prototype.getFeatureIdentifier=function(){return he(this.session.metadata||{}).feature_identifier||""},t.prototype.startListening=function(){var e=this;document.addEventListener("fullscreenchange",this.onFullScreenChange.bind(this)),this.videoElementEventHandlers.forEach((function(t){e.node.addEventListener(t.event,t.handler.bind(e))})),this.player&&this.shakaPlayerEventHandlers.forEach((function(t){e.player.addEventListener(t.event,t.handler.bind(e))}))},t.prototype.stopListening=function(){var e=this;document.removeEventListener("fullscreenchange",this.onFullScreenChange),this.videoElementEventHandlers.forEach((function(t){e.node.removeEventListener(t.event,t.handler)})),this.player&&this.shakaPlayerEventHandlers.forEach((function(t){e.player.removeEventListener(t.event,t.handler)}))},t.prototype.onFullScreenChange=function(){this.handleFullScreenChange(document.fullscreenElement)},t.prototype.handleFullScreenChange=function(e){if(e){var t="[data-sessionId='"+this.session.sessionId+"']";!(!e.matches(t)&&!e.querySelector(t))&&(this.set({fullscreen:!0}),this.playbackEventsObserver.onFullscreenChanged(this.node.currentTime,!0))}else this.state.fullscreen&&(this.set({fullscreen:!1}),this.playbackEventsObserver.onFullscreenChanged(this.node.currentTime,!1))},t.prototype.getDefaultState=function(e){var t=e.playWhenReady,n=e.initialPosition;return{time:(new Date).getTime(),isAd:"true"===ee(["metadata","is_advertisement"],this.session),playWhenReady:t,isStarted:!1,isPlaying:!1,isPaused:!t,isEnded:!1,isError:!1,isBuffering:!1,isLoaded:!1,canPlay:!1,isSeeking:!1,seekingFrom:0,timeBuffering:0,readyTimeBuffering:0,isMuted:this.node.muted||0===this.node.volume,duration:this.node.duration||-1,currentTime:this.node.currentTime||n,progress:0,volume:this.node.muted?0:this.node.volume,bitrate:0,currentAudioFormat:null,currentVideoFormat:null,stats:{},endReason:Be.END_UNKNOWN,hasInitiallySeeked:!1,hasInitiallyReadied:!1,currentVariantId:null,progressPercentages:[],playbackSpeed:1,preferredSubtitle:ne}},t.prototype.networkRequestFilter=function(e,t){return Zt(this,void 0,void 0,(function(){var n,r,o;return en(this,(function(a){switch(a.label){case 0:return e!==i.net.NetworkingEngine.RequestType.LICENSE&&e!==i.net.NetworkingEngine.RequestType.MANIFEST?[2]:(this.latencyStartTimes[e]=Date.now(),this.configuration.getToken?(n=t.headers,[4,this.configuration.getToken()]):[3,2]);case 1:n.Authorization=a.sent(),a.label=2;case 2:return e===i.net.NetworkingEngine.RequestType.MANIFEST&&(this.configuration.getToken&&this.configuration.getWebgateHeaders&&(r=this.configuration.getWebgateHeaders(),o=r.reduce((function(e,t){return e[t[0]]=t[1],e}),{}),t.headers=Jt(Jt({},t.headers),o)),this.playbackEventsObserver.onManifestLoading()),e===i.net.NetworkingEngine.RequestType.LICENSE&&this.playbackEventsObserver.onEncryptionKeyLoading(),[2]}}))}))},t.prototype.networkResponseFilter=function(e,t){var n;if(t&&t.data&&t.data.byteLength&&t.timeMs&&this.playbackEventsObserver.onBytesTransferred(t.data.byteLength,t.timeMs),(e===i.net.NetworkingEngine.RequestType.MANIFEST||e===i.net.NetworkingEngine.RequestType.LICENSE)&&this.latencyStartTimes[e]){var r=e===i.net.NetworkingEngine.RequestType.MANIFEST?"manifestLatency":"keyLatency",o=Date.now()-this.latencyStartTimes[e];this.set(((n={})[r]=o,n))}},t.prototype.emitEndedEvent=function(e,t){var n=this.getStats(),r=n?n.droppedFrames:0;r>0&&this.playbackEventsObserver.onDroppedVideoFrames(r),this.playbackEventsObserver.onPlaybackEnded(t,e,r)},t.prototype.handleEnded=function(){this.disablePlayTimers(),this.state.isEnded||this.emitEndedEvent(s.PLAYED_TO_END,this.node.currentTime),this.set({isEnded:!0,endReason:Be.END_TRACK_DONE,stats:this.getStats()})},t.prototype.handleDurationchange=function(){var e=this.node.duration,t=this.node.currentTime;this.set({duration:e,progress:this.calculateProgress(t,e),stats:this.getStats()}),this.playbackEventsObserver.onDurationChanged(e)},t.prototype.handleLoadedMetadata=function(){if(!this.state.isPlaying){var e=this.player.getTextTracks().map((function(e){return{languageTag:e.language}}));this.playbackEventsObserver.onManifestLoaded(e)}},t.prototype.handleTimeUpdate=function(e){if(this.state.isLoaded&&this.state.isStarted){var t=this.lastSeekTime||this.node.currentTime||0,n=this.state.progress,r=this.calculateProgress(t,this.node.duration);this.set({currentTime:t,stats:this.getStats(),progress:r},!0),this.playbackEventsObserver.onTimeUpdate(t),this.emitProgress(r,n),this.state.isSeeking&&(this.set({isSeeking:!1,seekingFrom:null}),this.lastSeekTime=0),this.playbackTimeObservable.handleTimeUpdate(e)}},t.prototype.calculateProgress=function(e,t){var n=null;return t>0&&e>=0&&(n=e/t,n=Math.min(Math.max(n,0),1)),n},t.prototype.emitProgress=function(e,t){var n=this;null!==e&&e>t&&this.state.progressPercentages.forEach((function(r){t<=r&&e>r&&n.playbackEventsObserver.onProgressChanged(r)}))},t.prototype.handlePlaying=function(){if(this.state.hasInitiallyReadied){var e=!this.state.isStarted;this.set({isPlaying:!0,isStarted:!0,isEnded:!1,stats:this.getStats()}),e?this.playbackEventsObserver.onStarted(this.node.currentTime):this.playbackEventsObserver.onResumed(this.node.currentTime)}},t.prototype.handlePause=function(){if(this.state.hasInitiallyReadied){this.set({isPlaying:!1,stats:this.getStats()});var e=this.node.currentTime;this.node.duration&&e===this.node.duration||this.playbackEventsObserver.onPaused(e)}},t.prototype.handleVolumechange=function(){var e=this.node.muted?0:this.node.volume,t=this.node.muted||0===this.node.volume;this.set({volume:e,isMuted:t}),this.playbackEventsObserver.onVolumeChanged(this.node.currentTime,e,t)},t.prototype.handleShakaError=function(e){this.handleError("shaka-event",e)},t.prototype.handleError=function(e,t){this.playbackSessionConfiguration.playbackErrorLogger&&this.playbackSessionConfiguration.playbackErrorLogger.log({session_id:this.session.sessionId,feature_identifier:this.getFeatureIdentifier(),media_url:this.session.mediaUrl,error_domain:e,error_code:t.detail.code,error_description:t.detail.data?t.detail.data.toString():void 0,error_extra1:t.type,error_extra2:t.detail.category?t.detail.category.toString():void 0});var n=this.get(),r={type:""+t.type};t.detail&&void 0!==t.detail.code&&(r.error_code=t.detail.code),t.detail&&void 0!==t.detail.category&&(r.error_category=t.detail.category);var o=this.getStats();o&&(r.buffering_time=""+o.bufferingTime,r.dropped_frames=""+o.droppedFrames,r.playback_latency=""+o.playbackLatency),t.detail&&t.detail.category===i.util.Error.Category.NETWORK&&t.detail.code===i.util.Error.Code.BAD_HTTP_STATUS&&(r.httpStatus=t.detail.data[1],r.responseText=t.detail.data[2],r.responseHeaders=t.detail.data[3]);var a=!1;t.detail&&t.detail.data&&t.detail.data[0]&&t.detail.data[0].includes&&t.detail.data[0].includes("subtitle")&&(a=!0),r.canRecover=a;var u=this.node&&this.node.currentTime?this.node.currentTime:this.state.currentTime,c={kind:e,data:t,betamaxData:r};a?this.playbackEventsObserver.onRecoverableError(c,u):this.playbackEventsObserver.onFatalError(c,u),this.state.isEnded||a||this.emitEndedEvent(s.FATAL_ERROR,u),this.set({isEnded:!a,isError:!0,stats:o,endReason:Be.END_TRACK_ERROR},!0),this.emit(p.CHANGE,r,n,this.get())},t.prototype.handleAdaptation=function(e){if("adaptation"===e.type&&this.player){var t=this.player.getVariantTracks().find((function(e){return e.active}));if(t&&(this.set({bitrate:t.bandwidth}),this.state.currentVariantId!==t.id)){var n={bandwidth:t.audioBandwidth,audioCodec:t.audioCodec},r={width:t.width,height:t.height,videoCodec:t.videoCodec,bandwidth:t.videoBandwidth};$t(this.state.currentAudioFormat,n)||this.playbackEventsObserver.onAudioFormatChanged(n,this.node.currentTime),$t(this.state.currentVideoFormat,r)||this.playbackEventsObserver.onVideoFormatChanged(r,this.node.currentTime),this.set({currentVariantId:t.id,currentAudioFormat:n,currentVideoFormat:r})}}},t.prototype.handleCanplay=function(){this.set({canPlay:!0})},t.prototype.handleSeeking=function(){this.state.hasInitiallySeeked?(this.set({isSeeking:!0}),this.playbackEventsObserver.onSeeking(this.state.seekingFrom,this.node.currentTime)):this.set({hasInitiallySeeked:!0})},t.prototype.handleSeeked=function(){this.state.hasInitiallyReadied||this.set({hasInitiallyReadied:!0}),this.playbackEventsObserver.onReady(this.node.currentTime,this.node.duration,!this.state.isPaused),this.set({isSeeking:!1,seekingFrom:null,progress:this.calculateProgress(this.state.currentTime,this.node.currentTime)})},t.prototype.onBufferingStateChange=function(e){if(e.buffering){var t=a.INITIAL;this.state.hasInitiallyReadied&&(t=this.state.isSeeking?a.SEEK:a.STALL),this.set({isBuffering:!0,bufferType:t,lastBufferStart:Date.now(),isPlaying:!1}),this.playbackEventsObserver.onBuffering(this.node.currentTime,this.state.playWhenReady,t)}else this.state.isBuffering&&this.state.bufferType===a.STALL&&this.playbackEventsObserver.onReady(this.node.currentTime,this.node.duration,!this.state.isPaused),this.set({isBuffering:!1,bufferType:""})},t.prototype.onEncryptionKeyLoaded=function(){this.playbackEventsObserver.onEncryptionKeyLoaded(this.player.keySystem())},t.prototype.enablePlayTimers=function(){var e=this;if(!this.playerBufferInterval){var t=function(){e.set({timeUpdate:!0}),e.set({timeUpdate:!1},!0)};t(),this.playerTimeUpdateInterval=window.setInterval(t,15e3)}},t.prototype.disablePlayTimers=function(){window.clearInterval(this.playerBufferInterval),window.clearInterval(this.playerTimeUpdateInterval),this.playerBufferInterval=0,this.playerTimeUpdateInterval=0,this.set({isBuffering:!1}),this.set({timeBuffering:0})},t.prototype.getStats=function(){return void 0!==this.player&&this.state.isLoaded?this.player.getStats():{}},t.prototype.setPaused=function(e){return e?(this.node.pause(),this.disablePlayTimers()):(this.node.play(),this.enablePlayTimers()),this.node.autoplay=!e,this.set({isPaused:e}),this},t.prototype.get=function(e){return e?this.state[e]:B(this.state)},t.prototype.set=function(e,t){var n=this.get();return j(this.state,e),this.state.time=(new Date).getTime(),t||this.emit(p.CHANGE,void 0,n,this.get()),this},t.prototype.resume=function(){return this.setPaused(!1)},t.prototype.pause=function(){return this.setPaused(!0)},t.prototype.seekTo=function(e){var t=e;e<0&&(t=0);var n=this.node.duration||0;return e>n&&(t=n),e<.1&&(t=.1),this.lastSeekTime=t,this.set({currentTime:this.node.currentTime},!0),this.set({isSeeking:!0,seekingFrom:this.node.currentTime,currentTime:t,hasInitiallySeeked:!0}),this.node.currentTime=t,this},t.prototype.setVolume=function(e){var t=Math.pow(e,3);return this.set({volume:t}),this.node.volume=t,this},t.prototype.setAudioDisabled=function(e){return this.node.muted=e,this},t.prototype.setPlaybackSpeed=function(e){if(void 0!==this.node){this.node.playbackRate=e,this.set({playbackSpeed:e});var t=Date.now();this.playbackEventsObserver.onPlaybackSpeedChanged(this.node.currentTime,e,t)}},t.prototype.getSubtitleLanguageTag=function(){if(this.player.isTextTrackVisible()){var e=this.player.getTextTracks().find((function(e){return e.active}));return e?e.language:void 0}},t.prototype.setSubtitle=function(e){var t=e.languageTag;this.player.selectTextLanguage(t),this.player.configure({preferredTextLanguage:t}),this.player.setTextTrackVisibility(""!==t),this.playbackEventsObserver.onSubtitleChanged(this.node.currentTime,{languageTag:t})},t.prototype.removeSubtitle=function(){this.setSubtitle(ne)},t.prototype.setPreferredSubtitle=function(e){if(e.languageTag!==ne.languageTag){var t=function(e,t){if(e.languageTag!==ne.languageTag){var n=t.find((function(t){return t.languageTag===e.languageTag}));if(n)return n;var r=t.find((function(t){return re(t)===re(e)}));if(r)return r;var i=t.find((function(t){return ie(t)===ie(e)}));return i||void 0}}(e,this.player.getTextTracks().map((function(e){return{languageTag:e.language}})));if(void 0!==t){var n=this.getSubtitleLanguageTag();t.languageTag!==n&&this.setSubtitle(t)}else this.removeSubtitle()}else this.removeSubtitle()},t.prototype.newSessionLoaded=function(e){this.state.isEnded||this.playbackEventsObserver.onEndingPlayback(Jt({},e))},t.prototype.stop=function(e){return Zt(this,void 0,void 0,(function(){var t,n,r;return en(this,(function(i){switch(i.label){case 0:if(t=this.node&&this.node.currentTime?this.node.currentTime:this.state.currentTime,this.disablePlayTimers(),this.state.isEnded||this.emitEndedEvent(s.REQUESTED,t),n=this.getStats(),this.set({isEnded:!0,endReason:e,stats:n}),this.stopListening(),void 0===this.player)return[3,5];n&&n.estimatedBandwidth&&(nn=n.estimatedBandwidth),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.playerLoadPromise];case 2:return i.sent(),this.player.unload(),[3,4];case 3:return r=i.sent(),this.handleError("player-unload",{type:"error",detail:r}),[3,4];case 4:this.player.getNetworkingEngine().clearAllRequestFilters(),this.player.getNetworkingEngine().clearAllResponseFilters(),this.containerElementMutationObserver.disconnect(),i.label=5;case 5:return[2]}}))}))},t.prototype.emitForPercentages=function(e){this.set({progressPercentages:tn(Array.from(new Set(tn(this.state.progressPercentages,e)))).sort()})},t.prototype.clearEmittedPercentages=function(){this.set({progressPercentages:[]})},t.prototype.getNode=function(){return this.node},Object.defineProperty(t.prototype,"muted",{get:function(){return this.state.isMuted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.state.volume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"started",{get:function(){return this.state.isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.state.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this.state&&this.state.isEnded},enumerable:!0,configurable:!0}),t}(c.EventEmitter),on=m((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n}));function an(){this.curId_=0,this.config_=null,this.data=null,this.MIN_BUFFER_TIME=4,this.UNSUPPORTED_MIME_TYPES=["video/mp2t"],this.PROFILE_ID_PLACEHOLDER="{{profile_id}}",this.FILE_TYPE_PLACEHOLDER="{{file_type}}",this.SEGMENT_TIMESTAMP_PLACEHOLDER="{{segment_timestamp}}",this.LANGUAGE_CODE_PLACEHOLDER="{{language_code}}",this.SPRITEMAP_ID_PLACEHOLDER="{{spritemap_id}}"}an.prototype.configure=function(e){this.config_=e},an.prototype.start=function(e,t){var n=this;if(!this.config_)throw new Error("Must call configure() before start()");var r=i.net.NetworkingEngine.RequestType.MANIFEST,o={uris:[e],method:"GET",retryParameters:this.config_.retryParameters,allowCrossSiteCredentials:!1,body:null};return t.networkingEngine.request(r,o).promise.then((function(t){return n.loadManifest_(t.data,e)}))},an.prototype.stop=function(){return Promise.resolve()},an.prototype.update=function(){},an.prototype.onExpirationUpdated=function(){},an.prototype.loadManifest_=function(e,t){var n=this;this.data=this.loadData_(e);var r=new i.media.PresentationTimeline(null,0);r.setDuration(this.data.end_time_millis/1e3);var o=this.data.contents.map((function(e){return n.loadPeriod_(e,t)}));return{presentationTimeline:r,minBufferTime:this.MIN_BUFFER_TIME,offlineSessionIds:[],periods:o}},an.prototype.loadData_=function(e){var t=null;if(e instanceof ArrayBuffer){var n=i.util.StringUtils.fromUTF8(e);try{t=JSON.parse(n)}catch(e){throw new i.util.Error(i.util.Error.Severity.CRITICAL,i.util.Error.Category.MANIFEST,i.util.Error.Code.SPOTIFY_INVALID_MANIFEST,"Exception parsing the Json manifest: "+e.message)}}else t=e;if(!t)throw new i.util.Error(i.util.Error.Severity.CRITICAL,i.util.Error.Category.MANIFEST,i.util.Error.Code.SPOTIFY_INVALID_MANIFEST,"Invalid JSON");return t},an.prototype.loadPeriod_=function(e,t){var n=this,r=this.filterProfiles_(e.profiles),i=this.groupProfiles_(r);return{startTime:e.start_time_millis/1e3,variants:i.map((function(t){return n.loadVariant_(e,t)})),textStreams:this.loadTextStreams_(e,t)}},an.prototype.filterProfiles_=function(e){var t=this;return e.filter((function(e){return!t.UNSUPPORTED_MIME_TYPES.includes(e.mime_type)}))},an.prototype.groupProfiles_=function(e){var t=[],n=[];if(e.forEach((function(e){switch(e.mime_type.split("/")[0]){case"video":t.push(e);break;case"audio":n.push(e)}})),!t.length&&!n.length)return[];if(t.length&&!n.length)return t.map((function(e){return{video:e,audio:null}}));if(!t.length&&n.length)return n.map((function(e){return{video:null,audio:e}}));var r=[];return t.forEach((function(e){n.forEach((function(t){r.push({video:e,audio:t})}))})),r},an.prototype.loadVariant_=function(e,t){var n=e.encryption_infos&&e.encryption_infos.length>0,r=(t.video?t.video.video_bitrate:0)+(t.audio?t.audio.audio_bitrate:0);return{id:this.curId_++,language:"und",primary:!1,audio:t.audio?this.loadStream_(e,t.audio,"audio",n):null,video:t.video?this.loadStream_(e,t.video,"video",n):null,bandwidth:r,drmInfos:n?[{keySystem:"com.widevine.alpha"}]:[],allowedByApplication:!0,allowedByKeySystem:!0,roles:[]}},an.prototype.loadTextStreams_=function(e){var t=this,n=[];return this.data.subtitle_language_codes&&this.data.subtitle_language_codes.length&&(n=this.data.subtitle_language_codes.map((function(e){return{id:t.curId_++,mime_type:"text/vtt",language:e}}))),n.map((function(n){return t.loadStream_(e,n,"text",!1)}))},an.prototype.loadStream_=function(e,t,n,r){var i=this.getSegmentIndex_(e,t,n),o="";return"video"===n&&(o=t.video_codec),"audio"===n&&(o=t.audio_codec),{id:this.curId_++,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:"text"===n?null:this.getInitSegmentReference_(t),presentationTimeOffset:0,mimeType:t.mime_type,codecs:o,bandwidth:t.max_bitrate,width:"video"===n?t.video_width:void 0,height:"video"===n?t.video_height:void 0,kind:"text"===n?"subtitles":void 0,encrypted:r,keyId:null,language:"text"===n?t.language:"und",type:n,primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,allowedByApplication:!0,allowedByKeySystem:!0,roles:[]}},an.prototype.getInitSegmentReference_=function(e){var t=this;return new i.media.InitSegmentReference((function(){return t.data.base_urls.map((function(n){return(n+t.data.initialization_template).replace(t.PROFILE_ID_PLACEHOLDER,e.id).replace(t.FILE_TYPE_PLACEHOLDER,e.file_type)}))}),0,null)},an.prototype.getSegmentIndex_=function(e,t,n){var r=this,o=[],a=e.start_time_millis/1e3,s=e.end_time_millis/1e3;if("text"===n){o=[new i.media.SegmentReference(0,a,s,(function(){var e=null;return r.data.subtitle_base_urls?e=r.data.subtitle_base_urls.map((function(e){return(e+r.data.subtitle_template).replace(r.LANGUAGE_CODE_PLACEHOLDER,t.language)})):i.log.warning("subtitle codes provided but no subtitle_base_urls\n          found in manifest. Are you using v6 (or later) manifests?"),e}),0,null)]}else for(var u=e.segment_length,c=0,l=a;l<s;){var p=this.loadReference_(t,c,l,l+u);o.push(p),l+=u,c++}return new i.media.SegmentIndex(o)},an.prototype.loadReference_=function(e,t,n,r){var o=this;return new i.media.SegmentReference(t,n,r,(function(){return o.data.base_urls.map((function(t){return(t+o.data.segment_template).replace(o.PROFILE_ID_PLACEHOLDER,e.id).replace(o.FILE_TYPE_PLACEHOLDER,e.file_type).replace(o.SEGMENT_TIMESTAMP_PLACEHOLDER,n)}))}),0,null)};var sn=an;function un(e){this.data_=e,this.position_=0}un.prototype.atEnd=function(){return this.position_===this.data_.length},un.prototype.readLine=function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)},un.prototype.readWord=function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)},un.prototype.skipWhitespace=function(){this.readRegex(/[ \t]+/gm)},un.prototype.readRegex=function(e){var t=this.indexOf_(e);return this.atEnd()||null==t||t.position!==this.position_?null:(this.position_+=t.length,t.results)},un.prototype.readRegexReturnCapture_=function(e,t){if(this.atEnd())return null;var n=this.readRegex(e);return n?n[t]:null},un.prototype.indexOf_=function(e){e.lastIndex=this.position_;var t=e.exec(this.data_);return null==t?null:{position:t.index,length:t[0].length,results:t}};var cn=un;function ln(){}ln.prototype.parseInit=function(e){},ln.prototype.parseMedia=function(e,t){var n=i.util.StringUtils.fromUTF8(e),r=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new i.util.Error(i.util.Error.Severity.CRITICAL,i.util.Error.Category.TEXT,i.util.Error.Code.INVALID_TEXT_HEADER);var o=t.segmentStart;if(null==o&&(o=0,r[0].indexOf("X-TIMESTAMP-MAP")>=0)){var a=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),s=r[0].match(/MPEGTS:(\d+)/m);if(a&&s){var u=new cn(a[1]),c=this.parseTime_(u),l=Number(s[1]),p=this.MPEG_TIMESCALE_;o=t.periodStart+(l/p-c)}}for(var f=[],d=r[0].split("\n"),h=1;h<d.length;h++)if(/^Region:/.test(d[h])){var y=this.parseRegion_(d[h]);f.push(y)}var _=[];for(h=1;h<r.length;h++){d=r[h].split("\n");var m=this.parseCue_(d,o,f);m&&_.push(m)}return _},ln.prototype.parseRegion_=function(e){var t=new cn(e),n=new i.text.CueRegion;return t.readWord(),t.skipWhitespace(),n},ln.prototype.parseCue_=function(e,t,n){if(1==e.length&&!e[0])return null;if(/^NOTE($|[ \t])/.test(e[0]))return null;if("STYLE"==e[0])return null;var r=null;e[0].indexOf("--\x3e")<0&&(r=e[0],e.splice(0,1));var o=new cn(e[0]),a=this.parseTime_(o),s=o.readRegex(/[ \t]+-->[ \t]+/g),u=this.parseTime_(o);if(null==a||null==s||null==u)throw new i.util.Error(i.util.Error.Severity.CRITICAL,i.util.Error.Category.TEXT,i.util.Error.Code.INVALID_TEXT_CUE);a+=t,u+=t;var c=e.slice(1).join("\n").trim(),l=new i.text.Cue(a,u,c);o.skipWhitespace();for(var p=o.readWord();p;)this.parseCueSetting(l,p,n),o.skipWhitespace(),p=o.readWord();return null!=r&&(l.id=r),l},ln.prototype.parseCueSetting=function(e,t,n){var r=null;if(r=/^align:(start|middle|center|end|left|right)$/.exec(t))this.setTextAlign_(e,r[1]);else if(r=/^vertical:(lr|rl)$/.exec(t))this.setVerticalWritingDirection_(e,r[1]);else if(r=/^size:([\d.]+)%$/.exec(t))e.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(r[1]),r[2]&&this.setPositionAlign_(e,r[2]);else{if(!(r=/^region:(.*)$/.exec(t)))return this.parsedLineValueAndInterpretation_(e,t);var i=this.getRegionById_(n,r[1]);i&&(e.region=i)}return!0},ln.prototype.getRegionById_=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?(n.length,n[0]):null},ln.prototype.setTextAlign_=function(e,t){var n=i.text.Cue;e.textAlign="middle"==t?n.textAlign.CENTER:n.textAlign[t.toUpperCase()]},ln.prototype.setPositionAlign_=function(e,t){var n=i.text.Cue;e.positionAlign="line-left"==t||"start"==t?n.positionAlign.LEFT:"line-right"==t||"end"==t?n.positionAlign.RIGHT:n.positionAlign.CENTER},ln.prototype.setVerticalWritingDirection_=function(e,t){var n=i.text.Cue;e.writingDirection="lr"==t?n.writingDirection.VERTICAL_LEFT_TO_RIGHT:n.writingDirection.VERTICAL_RIGHT_TO_LEFT},ln.prototype.parsedLineValueAndInterpretation_=function(e,t){var n=i.text.Cue,r=null;if(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=n.lineInterpretation.PERCENTAGE,e.line=Number(r[1]),r[2]&&(e.lineAlign=n.lineAlign[r[2].toUpperCase()]);else{if(!(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)))return!1;e.lineInterpretation=n.lineInterpretation.LINE_NUMBER,e.line=Number(r[1]),r[2]&&(e.lineAlign=n.lineAlign[r[2].toUpperCase()])}return!0},ln.prototype.parseTime_=function(e){var t=e.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g);if(null==t)return null;var n=Number(t[1])||0,r=Number(t[2]),i=Number(t[3]),o=Number(t[4]);return r>59||i>59?null:o/1e3+i+60*r+3600*n},ln.MPEG_TIMESCALE_=9e4;var pn,fn=ln,dn=function(){function e(e){this.manifestTemplate=e,i.media.ManifestParser.registerParserByExtension("json",sn),i.media.ManifestParser.registerParserByMime("application/json",sn),i.text.TextEngine.registerParser("text/vtt",fn),i.text.TextEngine.registerParser('text/vtt; codecs="vtt"',fn)}return e.prototype.createAssetUri=function(e){var t=e.replace(hn,"");return this.manifestUrlForSourceID(this.manifestTemplate,t)},e.prototype.isPlayable=function(e){return e.startsWith(hn)},e.prototype.manifestUrlForSourceID=function(e,t){return e.replace(/\{type\}/i,"json").replace(/\{source_id\}/i,encodeURIComponent(t))},e}(),hn="spotifyvideo://",yn=function(){function e(){}return e.create=function(e){return""+hn+e},e}(),_n=function(){function e(e){this.cosmos=e}return e.prototype.getStopPosition=function(){return this.stopPosition},e.prototype.setMediaDuration=function(e){this.mediaDuration!==e&&(this.mediaDuration=e,this.tryScheduleInterruption())},e.prototype.setTimeObservable=function(e){this.timeObservable!==e&&(this.timeObservable=e,this.tryScheduleInterruption())},e.prototype.registerInterruptorWhenReadyAtPosition=function(e){this.stopPosition!==e&&(this.stopPosition=e,this.tryScheduleInterruption())},e.prototype.unregister=function(){void 0!==this.interruptToken&&void 0!==this.timeObservable&&(this.timeObservable.removePositionObserver(this.interruptToken),this.stopPosition=void 0,this.interruptToken=void 0)},e.prototype.tryScheduleInterruption=function(){var e=this;if(!(void 0===this.mediaDuration||this.mediaDuration<0||void 0===this.stopPosition||this.stopPosition<0||void 0===this.timeObservable)){var t=this.stopPosition/this.mediaDuration;void 0!==this.interruptToken&&this.timeObservable.removePositionObserver(this.interruptToken),this.interruptToken=this.timeObservable.addObserverForMediaPositions([t],(function(){e.cosmos.post("sp://videoplayer/v1/advance",{reason:"finished"}),e.unregister()}))}},e}(),mn=function(){function e(e,t){this.playerInterruptor=e,this.desktopEventDispatcher=t}return e.prototype.onPlaybackCreated=function(e,t,n){void 0!==this.playerInterruptor&&this.playerInterruptor.setTimeObservable(n)},e.prototype.onDurationChanged=function(e){void 0!==this.playerInterruptor&&this.playerInterruptor.setMediaDuration(e)},e.prototype.onManifestLoaded=function(e,t){if(void 0!==this.desktopEventDispatcher){var n={type:"video_loaded",params:{subtitleCodes:t.map((function(e){return e.languageTag}))}};this.desktopEventDispatcher.dispatchEvent(n)}},e.prototype.onSubtitleChanged=function(e){if(void 0!==this.desktopEventDispatcher){var t={type:"video_subtitle_change",params:{subtitleCode:e.languageTag}};this.desktopEventDispatcher.dispatchEvent(t)}},e.prototype.onPlaybackEnded=function(){if(void 0!==this.desktopEventDispatcher){this.desktopEventDispatcher.dispatchEvent({type:"video_unloaded"})}},e}(),gn=function(){return(gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},vn=i.util.Error.Code,En=function(){function e(e){var t=e.productState,n=e.cancellationTokenSource,r=e.cosmos,i=e.abba,o=e.getWebgateHeaders,a=e.playbackErrorLogger,s=e.widevineDownloader,u=e.authTokenCallback,c=e.logError,l=e.logWarn,p=e.playerDependencies;this.playbackErrorLogger=a,this.cosmos=r,this.widevineDownloader=s,this.abba=i,this.getWebgateHeaders=o,this.logError=c,this.logWarn=l,this.cancellationTokenSource=n,this.spotifyProductState=t,this.desktopEventDispatcher=p.events?p.events.eventDispatcher:void 0,this.videoContextPlayerSub=null,this.contextPlayerVolumeSub=null,this.playerWithSession=void 0,this.contextPlayerVolume=1,this.clientPlayerState=null,this.onClientPlayerStateUpdate=this.onClientPlayerStateUpdate.bind(this),this.didFinishVideoInClientPlayerCallback=null,p.factories?p.factories.push(this):p.factories=[this];var f=new Vt(p);this.authTokenCallback=u,this.playerConfiguration={},this.betamaxPlayer=f.createBetamaxPlayer(this.playerConfiguration)}return e.prototype.getPlaybackRequest=function(){if(this.betamaxPlayer)return this.betamaxPlayer.getPlaybackRequest()},e.prototype.makeVideoContextPlayerCoordinatorError=function(e,t){var n=new Error(t);return n.name="VideoContextPlayerCoordinatorError",n.reason=e,n},e.prototype.backendErrorToContextPlayerError=function(e){if(!e)return null;if(!e.responseText&&!e.httpStatus)return e.error_code&&e.error_code===vn.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE?{type:"video_unsupported_key_system"}:6===e.error_category?{type:"video_playback_error"}:e.canRecover?null:{type:"unknown"};if(401===e.httpStatus)return{type:"video_playback_error"};var t=null;try{if(e.responseHeaders&&"content-type"in e.responseHeaders)if("application/json"===e.responseHeaders["content-type"])t=JSON.parse(e.responseText).reason}catch(e){return this.logError&&this.logError(e),{type:"unknown"}}switch(t){case"GEO_RESTRICTED":return{type:"video_georestricted"};case"UNSUPPORTED_CLIENT_VERSION":return{type:"video_unsupported_client_version"};case"UNSUPPORTED_PLATFORM_VERSION":return{type:"video_unsupported_platform_version"};case"COUNTRY_RESTRICTED":return{type:"video_country_restricted"};case"UNAVAILABLE":return{type:"video_unavailable"};case"CATALOGUE_RESTRICTED":return{type:"video_catalogue_restricted"};default:return{type:"unknown"}}},e.prototype.logVideoError=function(e,t){if(this.playbackErrorLogger){var n={session_id:this.currentIdentity?this.currentIdentity.sessionId:void 0,media_url:this.currentIdentity?this.currentIdentity.mediaUrl:void 0,error_domain:e,error_description:t?t.message:void 0,error_extra1:t?t.type:void 0,error_extra2:t?t.detail:void 0};this.playbackErrorLogger.log(n)}},e.prototype.onClientPlayerStateUpdate=function(e,t,n){var r=this.backendErrorToContextPlayerError(e);if(r&&this.cosmos.post("sp://videoplayer/v1/error",r),n){var i=n.duration>0,o=n.currentTime>=0;if(n&&i&&o){var a=on(["isPlaying","isPaused","isBuffering","isEnded","isError","isSeeking","duration"],n);if(!$t(a,this.clientPlayerState)){if(this.clientPlayerState=a,this.currentTrack){var s=n.duration>-1?Math.floor(1e3*n.duration):-1,u=n.currentTime>-1?Math.floor(1e3*n.currentTime):-1;this.cosmos.post("sp://videoplayer/v1/state",{playback_id:this.currentTrack.playback_id||"",is_paused:n.isPaused,is_buffering:n.isBuffering||!1,timestamp:(new Date).getTime(),playback_speed:n.isPlaying&&!n.isPaused?1:0,position_as_of_timestamp:u,duration:s})}n.isEnded&&this.finishCurrentVideoInClientPlayer("finished")}}}},e.prototype.createVideoPlayer=function(e,t,n){var r=this,i=te(e,["track","track"],e),o="true"===ee(["metadata","is_advertisement"],i),a=te("",["metadata","media.manifest_id"],i),s="";if(!a){try{var u=JSON.parse(i.metadata["media.manifest"]);s=H(u)||""}catch(e){s=""}s||(s=te("",["metadata","external_url"],i))}if(a||s){var c=function(t){var n=r.spotifyProductState["widevine-license-url"],i=(e.seek_to||0)/1e3,u=!e.initially_paused;return Promise.all([r.abba.fetch("ab-video-subtitles"),r.abba.fetch("rollout_desktop_endvideo_event_api")]).then((function(c){var l=c[0],p=c[1],f=l&&"enabled"===l.toLowerCase(),d=p&&"enabled"===p.toLowerCase(),h=a?r.authTokenCallback:void 0;r.playerInterruptor=new _n(r.cosmos),r.playerConfiguration.drm={servers:{"com.widevine.alpha":n},advanced:{"com.widevine.alpha":{videoRobustness:"SW_SECURE_DECODE",serverCertificate:t}}},r.playerConfiguration.widevineLicenseUrl=n,r.playerConfiguration.subtitlesEnabled=f,r.playerConfiguration.newEventApi=d,r.playerConfiguration.getToken=h,r.playerConfiguration.getWebgateHeaders=r.getWebgateHeaders;var y=ue(e),_=te({},["track","track","metadata"],e),m={mediaUrl:a?yn.create(a):s,isRoyaltyMedia:!o,metadata:gn(gn({},_),y)},g=fe(e.config);return r.betamaxPlayer.setPlaybackSpeed(g),r.betamaxPlayer.setVolume(r.contextPlayerVolume),r.betamaxPlayer.playWithOptions(m,{playWhenReady:u,initialPosition:i})}))};o?c(null).then((function(e){n(e?void 0:new Error("Failed to create client video player"),e)})):this.widevineDownloader.pollStatus(3e3,(function(e){if(e){var i=r.makeVideoContextPlayerCoordinatorError("widevine-error",e.message);return i.widevineStatus=e.status,void n(i,void 0)}var o;r.widevineDownloader.downloadLicenseCertificate().then((function(e){o=e})).catch((function(e){o=null,r.logVideoError("widevine-server-certificate",e)})).then((function(){return t.isCanceled()?Promise.resolve(void 0):c(o)})).then((function(e){t.isCanceled()||n(e?void 0:new Error("Failed to create client video player"),e)}))}))}else{var l=this.makeVideoContextPlayerCoordinatorError("no-source-url","Cannot find a manifest ID nor a source URL in payload");n(l,void 0)}},e.prototype.processStartCommand=function(e,t,n){var r=this;this.createVideoPlayer(e,t,(function(i,o){t.isCanceled()?n(t.operationCanceledError):(r.playerWithSession=o,i?n(i,e,o):(r.currentTrack=e.track,r.playerWithSession&&r.playerWithSession.on(p.CHANGE,r.onClientPlayerStateUpdate),n(i,e,o)))}))},e.prototype.startSyncing=function(e,t,n){var r=this;this.widevineDownloader.startWatchingStatus(),this.didFinishVideoInClientPlayerCallback=n,this.videoContextPlayerSub=this.cosmos.sub("sp://videoplayer/v1/commands",(function(n){var i=n;e(void 0,i);var o=r.cancellationTokenSource.token();switch(i.type){case"start":r.playerInterruptor&&r.playerInterruptor.unregister(),le(i,r.currentTrack)?(ce(r.betamaxPlayer,i),t(void 0,i,r.playerWithSession)):(r.finishCurrentVideoInStart(i.start_reason),r.processStartCommand(i,o,t));break;case"stop":r.finishCurrentVideoInClientPlayer("endplay"),t(void 0,i);break;case"pause":r.playerWithSession&&r.playerWithSession.pause(),t(void 0,i);break;case"resume":if(r.playerWithSession)"true"===ee(["track","metadata","media.live"],r.currentTrack)&&r.playerWithSession.seekTo(0),r.playerWithSession.resume();t(void 0,i);break;case"seek_to":if(r.playerWithSession){var a=i.position||0;r.isSeekPastStopPosition(a)&&void 0!==r.playerInterruptor&&r.playerInterruptor.unregister(),r.playerWithSession.seekTo(a/1e3)}t(void 0,i);break;case"subscribed":case"config":var s=pe(i.config);r.betamaxPlayer.setPreferredSubtitle(s);var u=fe(i.config);r.betamaxPlayer.setPlaybackSpeed(u),t(void 0,i);break;case"prefetch_tracks":case"advance":t(void 0,i);break;case"set_stop_position":var c=i.stop_position;void 0!==r.playerInterruptor&&void 0!==c&&r.playerInterruptor.registerInterruptorWhenReadyAtPosition(c/1e3),t(void 0,i);break;default:r.logWarn&&r.logWarn("Unknown videoplayer cosmos command: ",i.type),t(void 0,i)}}),(function(n){e(n),t(n)})),this.contextPlayerVolumeSub=this.cosmos.sub("sp://playback/v1/volume",(function(e){var t=e;t&&"number"==typeof t.volume&&(r.contextPlayerVolume=t.volume,r.playerWithSession&&r.playerWithSession.setVolume(t.volume))}),(function(){}))},e.prototype.isSeekPastStopPosition=function(e){var t=this.playerInterruptor?this.playerInterruptor.getStopPosition():void 0;return void 0!==t&&e>=t},e.prototype.notifySessionEnd=function(e,t){this.didFinishVideoInClientPlayerCallback&&this.didFinishVideoInClientPlayerCallback(e,t)},e.prototype.unsubscribeAndRemoveNode=function(){if(this.playerWithSession){this.playerWithSession.off(p.CHANGE,this.onClientPlayerStateUpdate);var e=this.playerWithSession.getNode();e&&e.remove()}},e.prototype.finishCurrentVideoInStart=function(e){this.currentTrack=void 0,this.clientPlayerState=null,this.playerWithSession&&(this.unsubscribeAndRemoveNode(),this.playerWithSession=void 0,this.notifySessionEnd(e))},e.prototype.stopSyncing=function(){this.videoContextPlayerSub&&(this.videoContextPlayerSub.cancel(),this.videoContextPlayerSub=null),this.contextPlayerVolumeSub&&(this.contextPlayerVolumeSub.cancel(),this.contextPlayerVolumeSub=null),this.playerWithSession=void 0,this.contextPlayerVolume=1,this.clientPlayerState=null,this.currentTrack=void 0,this.didFinishVideoInClientPlayerCallback=null},e.prototype.finishCurrentVideoInClientPlayer=function(e,t){this.currentTrack=void 0,this.playerInterruptor=void 0,this.clientPlayerState=null,this.playerWithSession&&(this.unsubscribeAndRemoveNode(),this.playerWithSession.stop(),this.playerWithSession=void 0,this.notifySessionEnd(e,t))},e.prototype.advanceContextPlayer=function(e,t,n){return this.playerWithSession?(this.finishCurrentVideoInClientPlayer(e,t),n(new Error("Cannot advance before destroying client player")),!1):(r=t&&"unplayable"===e?{reason:e,unplayable_reason:t}:{reason:e},this.cosmos.post("sp://videoplayer/v1/advance",r).catch((function(e){return n(e)})),!0);var r},e.prototype.createEventObserver=function(e){return this.currentIdentity=e,new mn(this.playerInterruptor,this.desktopEventDispatcher)},e}();!function(e){e.SUCCESS="success",e.REGISTRATION_FAILED="registration_failed",e.REGISTRATION_NOT_ALLOWED="registration_not_allowed",e.DOWNLOAD_FAILED="download_failed",e.MAX_RETRIES="max_retries",e.TIMEOUT_EXCEEDED="timeout_exceeded",e.UNKNOWN_STATUS="unknown_status",e.INSTALL_DELAYED="install_delayed",e.INSTALL_NOT_STARTED="install_not_started",e.INSTALL_REQUESTED="install_requested",e.INSTALL_IN_PROGRESS="install_in_progress"}(pn||(pn={}));var bn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Tn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Sn=function(){function e(e,t){var n=this;this.fetchCertificate=function(e,t){return void 0===t&&(t={headers:new Headers}),bn(n,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Tn(this,(function(p){switch(p.label){case 0:return n=this.configuration,r=n.getToken,i=n.getWebgateHeaders,[4,r()];case 1:return o=p.sent(),a=o.accessToken,s=o.tokenType,u=s+" "+a,c="string"==typeof e?e:e.url,t.headers.append("Authorization",u),i&&(l=[],0===c.indexOf("https://spclient")&&(l=i()),l.forEach((function(e){var n=e[0],r=e[1];t.headers.append(n,r)}))),[2,fetch(e,t)]}}))}))},this.state={status:pn.UNKNOWN_STATUS,message:""},this.subscription=null,this.callbacks=[],this.configuration=e,this.cosmos=t}return e.prototype.startWatchingStatus=function(){var e=this;this.subscription||(this.subscription=this.cosmos.sub("sp://widevine/v1/status",(function(t){e.state=t,e.callbacks.forEach((function(t){t&&(e.state.status===pn.SUCCESS?t(null,e.state):e.isFinalErrorState(e.state)&&t(e.makeError(e.state),null))})),(e.state.status===pn.SUCCESS||e.isFinalErrorState(e.state))&&(e.subscription&&(e.subscription.cancel(),e.subscription=null),e.callbacks=e.callbacks.map((function(){return null})))}),(function(t){e.state={status:pn.DOWNLOAD_FAILED,message:t.toString()}})))},e.prototype.isFinalErrorState=function(e){switch(e.status){case pn.REGISTRATION_FAILED:case pn.REGISTRATION_NOT_ALLOWED:case pn.DOWNLOAD_FAILED:case pn.MAX_RETRIES:return!0;default:return!1}},e.prototype.makeError=function(e){var t=new Error(e.message);return t.name="WidevineDownloaderError",t.status=e.status,t},e.prototype.pollStatus=function(e,t){var n=this,r=performance.now()+e;switch(this.state.status){case pn.SUCCESS:return void t(null,this.state);case pn.REGISTRATION_FAILED:case pn.REGISTRATION_NOT_ALLOWED:case pn.DOWNLOAD_FAILED:case pn.MAX_RETRIES:return void t(this.makeError(this.state),null);case pn.INSTALL_DELAYED:case pn.INSTALL_NOT_STARTED:this.cosmos.post("sp://widevine/v1/download");break;case pn.INSTALL_REQUESTED:case pn.INSTALL_IN_PROGRESS:}var i=this.callbacks.length;this.callbacks.push((function(e,o){performance.now()<r&&(n.callbacks[i]=null,t(e,o))})),setTimeout((function(){n.callbacks[i]&&(n.callbacks[i]=null,t(n.makeError({status:pn.TIMEOUT_EXCEEDED,message:"Widevine download did not reach final state before timeout. Try again."})))}),e)},e.prototype.reset=function(){this.state={status:pn.UNKNOWN_STATUS,message:""},this.subscription&&(this.subscription.cancel(),this.subscription=null),this.callbacks=this.callbacks.map((function(){return null}))},e.prototype.downloadLicenseCertificate=function(){return bn(this,void 0,void 0,(function(){var e,t;return Tn(this,(function(n){switch(n.label){case 0:return[4,this.fetchCertificate("https://spclient.wg.spotify.com/widevine-license/v1/application-certificate")];case 1:return(e=n.sent()).ok?[4,e.arrayBuffer()]:[3,3];case 2:return t=n.sent(),[2,new Uint8Array(t)];case 3:throw new Error("Network response was not ok.")}}))}))},e}();var wn=function(){function e(e,t,n,r){var i=this;if(this.cosmos=e,this.logError=r,this.rules="",this.cosmos.sub("sp://product-state/v1/values/streaming-rules",(function(e){i.rules=e["streaming-rules"]}),(function(){})),n&&n.register(),t){var o=t("spotify:client");o.query("session(connection, incognito)",(function(e,t){e?i.logError&&i.logError("Failed to load client connection:",e):(i.connection_type_start=t.session.connection,i.connection_type_current=t.session.connection,i.incognito=t.session.incognito,o.get("session").on("update",(function(e){"connection"in e&&(i.connection_type_current=e.connection),"incognito"in e&&(i.incognito=e.incognito)})))}))}}return e.prototype.streamingRules=function(){return this.rules},e}(),On=function(){return(On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},An=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Rn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cn=(function(){function e(e){this.configuration=e}e.prototype.createVideoContextPlayerCoordinator=function(){var e=this,t=this.configuration,n=t.productState,r=t.playerDependencies,i=t.getToken,o=t.getWebgateHeaders,a=function(e){return void 0===e.sub&&(e.sub=function(t,n,r){e.resolver.subscribe(t,(function(e,t){if(e)r(e);else{var i=t.getJSONBody();n(i)}}))}),void 0===e.post&&(e.post=function(t,n){return new Promise((function(r,i){e.resolver.post({url:t,body:n},(function(e){e?i(e):r()}))}))}),e}(this.configuration.cosmos),s=r.playbackErrorLogger,u=r.endVideo&&r.endVideo.logError,c=r.logWarn,l=new Sn({getWebgateHeaders:o,getToken:i},a),p=n["video-manifest-url"];if(r.mediaExtensions=[new dn(p)],r.endVideo){var f=r.endVideo?r.endVideo.live:void 0,d=r.endVideo?r.endVideo.clientModel:void 0;r.endVideo.productStateProvider=new wn(a,f,d,u)}return new En(On(On({},this.configuration),{playbackErrorLogger:s,logError:u,authTokenCallback:function(){return An(e,void 0,void 0,(function(){var e,t;return Rn(this,(function(n){switch(n.label){case 0:return[4,i()];case 1:return e=n.sent(),t=e.accessToken,[2,e.tokenType+" "+t]}}))}))},logWarn:c,widevineDownloader:l,playerDependencies:r}))}}(),function(){function e(e){var t=this;this.cosmos=e,this.rules="",this.cosmos.sub("sp://product-state/v1/values/streaming-rules",(function(e){t.rules=e["streaming-rules"]}),(function(){})),this.cosmos.sub("sp://scrobble/v1/incognito",(function(e){t.incognito=e&&!!e.enabled}),(function(){}))}return e.prototype.streamingRules=function(){return this.rules},e}()),Pn=function(){function e(e,t){this.cosmosSender=e,this.playerInterruptor=t}return e.prototype.onPlaybackCreated=function(e,t,n){this.cosmosSender.sendPlaybackState(),void 0!==this.playerInterruptor&&this.playerInterruptor.setTimeObservable(n)},e.prototype.onPlaybackEnded=function(e){this.cosmosSender.sendPlaybackState(),e===s.PLAYED_TO_END&&this.cosmosSender.sendAdvance("finished")},e.prototype.onBuffering=function(){this.cosmosSender.sendPlaybackState()},e.prototype.onDurationChanged=function(e){this.cosmosSender.sendPlaybackState(),void 0!==this.playerInterruptor&&this.playerInterruptor.setMediaDuration(e)},e.prototype.onRecoverableError=function(){this.cosmosSender.sendPlaybackState()},e.prototype.onFatalError=function(e){this.cosmosSender.sendPlaybackState(),this.cosmosSender.sendPlaybackError(e.betamaxData)},e.prototype.onPaused=function(){this.cosmosSender.sendPlaybackState()},e.prototype.onReady=function(){this.cosmosSender.sendPlaybackState()},e.prototype.onResumed=function(){this.cosmosSender.sendPlaybackState()},e.prototype.onSeeking=function(){this.cosmosSender.sendPlaybackState()},e}(),In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Nn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},kn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ln=i.util.Error.Code,Dn=function(){function e(e){var t=this;this.cosmosVideoPlayerEndpoint="sp://videoplayer/v1",this.cosmos=e.cosmos,this.spotifyProductState=e.productState;var n={getToken:e.getToken};if(this.widevineDownloader=new Sn(n,this.cosmos),this.userFlags=e.userFlags,this.authTokenCallback=function(){return Nn(t,void 0,void 0,(function(){var t,n;return kn(this,(function(r){switch(r.label){case 0:return[4,e.getToken()];case 1:return t=r.sent(),n=t.accessToken,[2,t.tokenType+" "+n]}}))}))},e.playerDependencies.factories?e.playerDependencies.factories.push(this):e.playerDependencies.factories=[this],e.cosmosLoggers.playbackSessionLogger){var r=new At(e.cosmosLoggers.playbackSessionLogger);e.playerDependencies.factories.push(r)}if(e.cosmosLoggers.playbackErrorLogger){var i=new Ct(e.cosmosLoggers.playbackErrorLogger);e.playerDependencies.factories.push(i),this.playbackErrorLogger=e.cosmosLoggers.playbackErrorLogger}if(e.cosmosLoggers.endVideoLogger){var o=new Cn(this.cosmos);e.playerDependencies.endVideo={endVideo:e.cosmosLoggers.endVideoLogger,productStateProvider:o}}this.playerDependencies=e.playerDependencies;var a=this.spotifyProductState["video-manifest-url"];this.playerDependencies.mediaExtensions=[new dn(a)],this.videoContextPlayerSub=null,this.contextPlayerVolumeSub=null,this.contextPlayerVolume=1}return e.prototype.initialize=function(e){var t=new Vt(this.playerDependencies);this.playerConfiguration=e,this.betamaxPlayer=t.createBetamaxPlayer(this.playerConfiguration),this.widevineDownloader.startWatchingStatus(),this.videoContextPlayerSub=this.cosmos.sub(this.cosmosVideoPlayerEndpoint+"/commands",this.onCommandReceived.bind(this),(function(){})),this.contextPlayerVolumeSub=this.cosmos.sub("sp://playback/v1/volume",this.onVolumeCommandReceived.bind(this),(function(){}))},e.prototype.release=function(){this.videoContextPlayerSub&&(this.videoContextPlayerSub.cancel(),this.videoContextPlayerSub=null),this.contextPlayerVolumeSub&&(this.contextPlayerVolumeSub.cancel(),this.contextPlayerVolumeSub=null),this.widevineDownloader.reset(),this.stopAndUnloadCurrentTrack(),this.playerConfiguration=void 0,this.betamaxPlayer=void 0},e.prototype.onCommandReceived=function(e){return Nn(this,void 0,void 0,(function(){var t,n,r,i,o;return kn(this,(function(a){switch(a.label){case 0:if(t=e,!this.betamaxPlayer)return[2,t];switch(t.type){case"start":return[3,1];case"stop":return[3,7];case"pause":return[3,8];case"resume":return[3,9];case"seek_to":return[3,10];case"set_stop_position":return[3,11];case"subscribed":case"config":return[3,12]}return[3,13];case 1:return a.trys.push([1,5,,6]),this.playerInterruptor&&this.playerInterruptor.unregister(),le(t,this.currentTrack)?(ce(this.betamaxPlayer,t),[3,4]):[3,2];case 2:return[4,this.startNewPlayback(t)];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:return a.sent(),this.stopAndUnloadCurrentTrack(),this.sendContextPlayerError({type:"video_playback_error"}),[3,6];case 6:return[2,t];case 7:return this.stopAndUnloadCurrentTrack(),[3,14];case 8:return this.betamaxPlayer.pause(),[3,14];case 9:return"true"===ee(["track","metadata","media.live"],this.currentTrack)&&this.betamaxPlayer.seekTo(0),this.betamaxPlayer.resume(),[3,14];case 10:return n=t.position||0,this.isSeekPastStopPosition(n)&&void 0!==this.playerInterruptor&&this.playerInterruptor.unregister(),this.betamaxPlayer.seekTo(n/1e3),[3,14];case 11:return r=t.stop_position,void 0!==this.playerInterruptor&&void 0!==r&&this.playerInterruptor.registerInterruptorWhenReadyAtPosition(r/1e3),[3,14];case 12:return i=pe(t.config),this.betamaxPlayer.setPreferredSubtitle(i),o=fe(t.config),this.betamaxPlayer.setPlaybackSpeed(o),[3,14];case 13:return[3,14];case 14:return[2,t]}}))}))},e.prototype.isSeekPastStopPosition=function(e){var t=this.playerInterruptor?this.playerInterruptor.getStopPosition():void 0;return void 0!==t&&e>=t},e.prototype.onVolumeCommandReceived=function(e){return Nn(this,void 0,void 0,(function(){return kn(this,(function(t){return e&&"number"==typeof e.volume?(this.contextPlayerVolume=e.volume,this.betamaxPlayer&&this.betamaxPlayer.setVolume(e.volume),[2,e]):[2,Promise.reject("volume payload from cosmos has the wrong format")]}))}))},e.prototype.makeVideoContextPlayerCoordinatorError=function(e,t){var n=new Error(t);return n.name="VideoContextPlayerCoordinatorError",n.reason=e,n},e.prototype.backendErrorToContextPlayerError=function(e){if(!e.responseText&&!e.httpStatus)return e.error_code&&e.error_code===Ln.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE?{type:"video_unsupported_key_system"}:6===e.error_category?{type:"video_playback_error"}:e.canRecover?null:{type:"unknown"};if(401===e.httpStatus)return{type:"video_playback_error"};var t=null;try{if(e.responseHeaders&&"content-type"in e.responseHeaders)if("application/json"===e.responseHeaders["content-type"]&&e.responseText)t=JSON.parse(e.responseText).reason}catch(e){return{type:"unknown"}}switch(t){case"GEO_RESTRICTED":return{type:"video_georestricted"};case"UNSUPPORTED_CLIENT_VERSION":return{type:"video_unsupported_client_version"};case"UNSUPPORTED_PLATFORM_VERSION":return{type:"video_unsupported_platform_version"};case"COUNTRY_RESTRICTED":return{type:"video_country_restricted"};case"UNAVAILABLE":return{type:"video_unavailable"};case"CATALOGUE_RESTRICTED":return{type:"video_catalogue_restricted"};default:return{type:"unknown"}}},e.prototype.sendPlaybackError=function(e){var t=this.backendErrorToContextPlayerError(e);t&&this.sendContextPlayerError(t)},e.prototype.sendContextPlayerError=function(e){return this.cosmos.post(this.cosmosVideoPlayerEndpoint+"/error",e)},e.prototype.startNewPlayback=function(e){return Nn(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,p,f,d,h,y,_,m,g=this;return kn(this,(function(v){switch(v.label){case 0:if(!this.betamaxPlayer)return[2,Promise.reject("betamaxPlayer was not set")];if(this.stopAndUnloadCurrentTrack(),this.currentTrack=e.track,t=te(e,["track","track"],e),n=te("",["metadata","media.manifest_id"],t),r="",!n){try{i=JSON.parse(t.metadata["media.manifest"]),r=H(i)||""}catch(e){r=""}r||(r=te("",["metadata","external_url"],t))}return n||r?(a="true"===ee(["metadata","is_advertisement"],t),s=!a,u=null,!a?[4,new Promise((function(e,t){g.widevineDownloader.pollStatus(3e3,(function(n){if(n){var r=g.makeVideoContextPlayerCoordinatorError("widevine-error",n.message);return r.widevineStatus=n.status,void t(r)}g.widevineDownloader.downloadLicenseCertificate().then((function(t){return e(t)})).catch((function(e){if(g.playbackErrorLogger){var n={session_id:g.currentIdentity?g.currentIdentity.sessionId:void 0,media_url:g.currentIdentity?g.currentIdentity.mediaUrl:void 0,error_domain:"widevine-server-certificate",error_description:e.detail,error_extra1:e.type};g.playbackErrorLogger.log(n)}t(e)}))}))}))]:[3,2]):(o=this.makeVideoContextPlayerCoordinatorError("no-source-url","Cannot find a manifest ID nor a source URL in payload"),[2,Promise.reject(o)]);case 1:u=v.sent(),v.label=2;case 2:return c=(e.seek_to||0)/1e3,l=!e.initially_paused,p=this.spotifyProductState["widevine-license-url"],f=n?this.authTokenCallback:void 0,this.playerInterruptor=new _n(this.cosmos),this.playerConfiguration&&(this.playerConfiguration.drm={servers:{"com.widevine.alpha":p},advanced:{"com.widevine.alpha":{videoRobustness:"SW_SECURE_DECODE",serverCertificate:u||null}}},this.playerConfiguration.widevineLicenseUrl=p,this.playerConfiguration.subtitlesEnabled=this.userFlags.subtitlesEnabled,this.playerConfiguration.newEventApi=this.userFlags.newEventApi,this.playerConfiguration.getToken=f),d=ue(e),h=te({},["track","track","metadata"],e),y=n?yn.create(n):r,_={mediaUrl:y,isRoyaltyMedia:s,metadata:In(In({},h),d)},m=fe(e.config),this.betamaxPlayer.setPlaybackSpeed(m),this.betamaxPlayer.setVolume(this.contextPlayerVolume),[2,this.betamaxPlayer.playWithOptions(_,{playWhenReady:l,initialPosition:c})]}}))}))},e.prototype.stopAndUnloadCurrentTrack=function(){if(this.betamaxPlayer){var e=this.betamaxPlayer.getNode();this.currentTrack&&!this.betamaxPlayer.ended&&this.betamaxPlayer.stop(),this.currentTrack=void 0,this.playerInterruptor=void 0,e&&e.remove()}},e.prototype.getPlaybackRequest=function(){if(this.betamaxPlayer)return this.betamaxPlayer.getPlaybackRequest()},e.prototype.sendAdvance=function(e){var t={reason:e};return this.cosmos.post(this.cosmosVideoPlayerEndpoint+"/advance",t)},e.prototype.sendPlaybackState=function(){if(this.betamaxPlayer&&this.currentTrack){var e=this.betamaxPlayer.getSessionState();if(e){var t=e.duration>-1?Math.floor(1e3*e.duration):-1,n=e.currentTime>-1?Math.floor(1e3*e.currentTime):-1,r={timestamp:(new Date).getTime(),playback_id:this.currentTrack.playback_id||"",is_paused:e.isPaused,is_buffering:e.isBuffering||!1,playback_speed:e.isPlaying&&!e.isPaused?1:0,position_as_of_timestamp:n,duration:t};try{this.cosmos.post(this.cosmosVideoPlayerEndpoint+"/state",r)}catch(e){if(!this.playbackErrorLogger)return;var i={session_id:this.currentIdentity?this.currentIdentity.sessionId:void 0,media_url:this.currentIdentity?this.currentIdentity.mediaUrl:void 0,error_domain:"cosmos-state-update-error",error_description:"context player reject state update"};this.playbackErrorLogger.log(i)}}}},e.prototype.createEventObserver=function(e){return this.currentIdentity=e,new Pn(this,this.playerInterruptor)},e}();t.c={RequestType:i.net.NetworkingEngine.RequestType,Error:i.util.Error,polyfill:i.polyfill}},"1WqI":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.CLOSE=4e3]="CLOSE",e[e.TIMEOUT=4001]="TIMEOUT"}(r||(r={}))},"1Wwy":function(e,t,n){"use strict";var r=n("RVb4");e.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},"1YdO":function(e,t,n){"use strict";function r(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=i();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function i(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function o(e,t){for(var n=r(e),i=r(t),o=[],a=0;a<4;a++)for(var s=[n[a],n[a+4],n[a+8],n[a+12]],u=0;u<4;u++){var c=4*u,l=[i[c],i[c+1],i[c+2],i[c+3]],p=s[0]*l[0]+s[1]*l[1]+s[2]*l[2]+s[3]*l[3];o[a+c]=p}return o}n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return j}));n("W0B4");var a=n("mXGw"),s=n.n(a),u=function(e){return"number"==typeof e},c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},l=function(e){return Array.prototype.slice.apply(e)};function p(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.forEach((function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}var f,d=function(e,t,n){return e+(t-e)*n},h={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},y=function(e){return c(e)?e:Object.keys(h).indexOf(e)>-1?h[e]:{}};"undefined"!=typeof window&&(f=window.requestAnimationFrame);var _=f=f||function(e){window.setTimeout(e,1e3/60)},m=Date.now(),g="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-m};function v(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var E=function(){};E.prototype.run=function(){var e=this;_((function(){e.springSystem.loop(g())}))};var b=function(){this.position=0,this.velocity=0},T=0,S=function(e){this._id="s"+T++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new b,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new b,this._restSpeedThreshold=.001,this._tempState=new b,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}};S.prototype.getId=function(){return this._id},S.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},S.prototype.setSpringConfig=function(e){return this._springConfig=e,this},S.prototype.getCurrentValue=function(){return this._currentState.position},S.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},S.prototype.setEndValue=function(e){if(e===this._endValue)return this;if(this.prevEndValue=e,this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t].onSpringEndStateChange;r&&r(this)}return this},S.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},S.prototype.setCurrentValue=function(e){this._startValue=e,this._currentState.position=e;for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t];r.onSpringUpdate&&r.onSpringUpdate(this)}return this},S.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},S.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},S.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},S.prototype.advance=function(e,t){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=t;t>.064&&(r=.064),this._timeAccumulator+=r;for(var i,o,a,s,u,c,l=this._springConfig.tension,p=this._springConfig.friction,f=this._currentState.position,d=this._currentState.velocity,h=this._tempState.position,y=this._tempState.velocity;this._timeAccumulator>=.001;)this._timeAccumulator-=.001,this._timeAccumulator<.001&&(this._previousState.position=f,this._previousState.velocity=d),o=l*(this._endValue-h)-p*d,s=l*(this._endValue-(h=f+.001*(i=d)*.5))-p*(y=d+.001*o*.5),c=l*(this._endValue-(h=f+.001*(a=y)*.5))-p*(y=d+.001*s*.5),h=f+.001*(u=y),f+=1/6*(i+2*(a+u)+(y=d+.001*c))*.001,d+=1/6*(o+2*(s+c)+(l*(this._endValue-h)-p*y))*.001;this._tempState.position=h,this._tempState.velocity=y,this._currentState.position=f,this._currentState.velocity=d,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/.001),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var m=!1;n&&(this._wasAtRest=!0,m=!0),this.notifyPositionUpdated(_,m)}},S.prototype.notifyPositionUpdated=function(e,t){var n=this;this.listeners.filter(Boolean).forEach((function(r){e&&r.onSpringActivate&&!n._onActivateCalled&&(r.onSpringActivate(n),n._onActivateCalled=!0),r.onSpringUpdate&&r.onSpringUpdate(n),t&&r.onSpringAtRest&&r.onSpringAtRest(n)}))},S.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},S.prototype.wasAtRest=function(){return this._wasAtRest},S.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},S.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},S.prototype.addListener=function(e){return this.listeners.push(e),this},S.prototype.addOneTimeListener=function(e){var t=this;return Object.keys(e).forEach((function(n){var r;e[n]=(r=e[n],function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];r.apply(void 0,n),t.removeListener(e)})})),this.listeners.push(e),this},S.prototype.removeListener=function(e){return v(this.listeners,e),this};var w=function(e){this.looper=e||new E,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}};w.prototype.createSpring=function(e,t){return this.createSpringWithConfig({tension:e,friction:t})},w.prototype.createSpringWithConfig=function(e){var t=new S(this);return this.registerSpring(t),t.setSpringConfig(e),t},w.prototype.getIsIdle=function(){return this._isIdle},w.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},w.prototype.deregisterSpring=function(e){v(this._activeSprings,e),delete this._springRegistry[e.getId()]},w.prototype.advance=function(e,t){for(var n=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach((function(r){r.systemShouldAdvance()?r.advance(e/1e3,t/1e3):n._idleSpringIndices.push(n._activeSprings.indexOf(r))}));this._idleSpringIndices.length>0;){var r=this._idleSpringIndices.pop();r>=0&&this._activeSprings.splice(r,1)}},w.prototype.loop=function(e){var t;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},w.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())};var O=new w,A=function(e){var t=e.springConfig,n=t.overshootClamping,r=e.getOnUpdateFunc,i=e.onAnimationEnd,o=e.onSpringActivate,a=O.createSpring(t.stiffness,t.damping);a.setOvershootClampingEnabled(!!n);var s={onSpringActivate:o,onSpringAtRest:function(){a.destroy(),i()},onSpringUpdate:r({spring:a,onAnimationEnd:i})};return a.addListener(s),a},R=function(e){var t=A(e);return t.setEndValue(1),t},C=function(e,t){if(void 0===t&&(t={}),e&&e.length){t.reverse&&e.reverse();var n,r="number"!=typeof(n=t.speed)?1.1:1+Math.min(Math.max(5*n,0),5),i=1/Math.max(Math.min(e.length,100),10),o=e.map((function(e,t){var n=e.getOnUpdateFunc;return e.getOnUpdateFunc=function(e){var a=n(e);return function(e){var n=e.getCurrentValue();(n=n<.01?0:n>.99?1:n)>=i&&o[t+1]&&o[t+1](Math.max(Math.min(n*r,1),0)),a(e)}},e})).map((function(e){var t=A(e);if(t)return t.setEndValue.bind(t)})).filter(Boolean);o[0]&&o[0](1)}},P=function(e){return[0,1,4,5,12,13].map((function(t){return e[t]}))},I=function(e){return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0},N=function(e,t){var n;return p(e,((n={})[t[0]]=t[1],n))},k=function(e,t){return l(t?document.querySelectorAll('[data-portal-key="'+t+'"]'):e.querySelectorAll("[data-flip-id]"))},L=function(e){return e.map((function(e){return[e,e.getBoundingClientRect()]}))},D=(new w,Object(a.createContext)({})),x=Object(a.createContext)("portal"),U=function(e){function t(){e.apply(this,arguments),this.inProgressAnimations={},this.flipCallbacks={},this.el=void 0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?function(e){var t=e.element,n=e.flipCallbacks;void 0===n&&(n={});var r=e.inProgressAnimations;void 0===r&&(r={});var i=k(t,e.portalKey),o=l(t.querySelectorAll("[data-inverse-flip-id]")),a={},s=[],u={};i.filter((function(e){return n&&n[e.dataset.flipId]&&n[e.dataset.flipId].onExit})).forEach((function(e){var t=e.parentNode;if(e.closest){var n=e.closest("[data-exit-container]");n&&(t=n)}var r=s.findIndex((function(e){return e[0]===t}));-1===r&&(s.push([t,t.getBoundingClientRect()]),r=s.length-1),a[e.dataset.flipId]=s[r][1],u[e.dataset.flipId]=t}));var c=L(i),f=c.map((function(e){var t=e[0],r=e[1],i={};if(n&&n[t.dataset.flipId]&&n[t.dataset.flipId].onExit){var o=a[t.dataset.flipId];p(i,{element:t,parent:u[t.dataset.flipId],childPosition:{top:r.top-o.top,left:r.left-o.left,width:r.width,height:r.height}})}return[t.dataset.flipId,{rect:r,opacity:parseFloat(window.getComputedStyle(t).opacity||"1"),domDataForExitAnimations:i}]})).reduce(N,{});return function(e,t){Object.keys(e).forEach((function(t){e[t].destroy&&e[t].destroy(),e[t].onAnimationEnd&&e[t].onAnimationEnd(!0),delete e[t]})),t.forEach((function(e){e.style.transform="",e.style.opacity=""}))}(r,i.concat(o)),{flippedElementPositions:f,cachedOrderedFlipIds:c.map((function(e){return e[0].dataset.flipId}))}}({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},t.prototype.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&function(e){var t=e.cachedOrderedFlipIds;void 0===t&&(t=[]);var n=e.inProgressAnimations;void 0===n&&(n={});var a=e.flippedElementPositionsBeforeUpdate;void 0===a&&(a={});var s=e.flipCallbacks;void 0===s&&(s={});var c=e.containerEl,f=e.applyTransformOrigin,_=e.spring,m=e.debug,g=e.portalKey,v=e.staggerConfig;void 0===v&&(v={});var E=e.decisionData;void 0===E&&(E={});var b,T=e.handleEnterUpdateDelete,S=e.onComplete,w=e.onStart,O=L(k((b={element:c,portalKey:g}).element,b.portalKey)).map((function(e){var t=e[0],n=e[1],r=window.getComputedStyle(t);return[t.dataset.flipId,{element:t,rect:n,opacity:parseFloat(r.opacity),transform:r.transform}]})).reduce(N,{}),A=function(e){var t=e.containerEl,n=e.portalKey;return n?function(e){return function(t){return l(document.querySelectorAll('[data-portal-key="'+e+'"]'+t))}}(n):t?function(e){var t=Math.random().toFixed(5);return e.dataset.flipperId=t,function(n){return l(e.querySelectorAll('[data-flipper-id="'+t+'"] '+n))}}(t):function(){return[]}}({containerEl:c,portalKey:g}),D=function(e){return function(t){return e('[data-flip-id="'+t+'"]')[0]}}(A),x=function(e){return a[e]&&O[e]},U=Object.keys(a).concat(Object.keys(O)).filter((function(e){return!x(e)})),M={flipCallbacks:s,getElement:D,flippedElementPositionsBeforeUpdate:a,flippedElementPositionsAfterUpdate:O,inProgressAnimations:n,decisionData:E},F=function(e){var t,n=e.unflippedIds,r=e.flipCallbacks,i=e.getElement,o=e.flippedElementPositionsBeforeUpdate,a=e.flippedElementPositionsAfterUpdate,s=e.inProgressAnimations,u=e.decisionData,c=n.filter((function(e){return a[e]})).filter((function(e){return r[e]&&r[e].onAppear})),l=n.filter((function(e){return o[e]&&r[e]&&r[e].onExit})),p=new Promise((function(e){t=e})),f=[],d=0,h=l.map((function(e,n){var i=o[e].domDataForExitAnimations,a=i.element,c=i.parent,l=i.childPosition,p=l.top,h=l.left,y=l.width,_=l.height;"static"===getComputedStyle(c).position&&(c.style.position="relative"),a.style.transform="matrix(1, 0, 0, 1, 0, 0)",a.style.position="absolute",a.style.top=p+"px",a.style.left=h+"px",a.style.height=_+"px",a.style.width=y+"px";var m=f.filter((function(e){return e[0]===c}))[0];m||(m=[c,document.createDocumentFragment()],f.push(m)),m[1].appendChild(a),d+=1;var g=function(){try{c.removeChild(a)}catch(e){}finally{0==(d-=1)&&t()}};return s[e]={stop:g},function(){return r[e].onExit(a,n,g,u)}}));return f.forEach((function(e){e[0].appendChild(e[1])})),h.length||t(),{hideEnteringElements:function(){c.forEach((function(e){var t=i(e);t&&(t.style.opacity="0")}))},animateEnteringElements:function(){c.forEach((function(e,t){var n=i(e);n&&r[e].onAppear(n,t,u)}))},animateExitingElements:function(){return h.forEach((function(e){return e()})),p}}}(p({},M,{unflippedIds:U})),j=F.hideEnteringElements,B=F.animateEnteringElements,V=F.animateExitingElements,H=p({},M,{containerEl:c,flippedIds:t.filter(x),applyTransformOrigin:f,spring:_,debug:m,staggerConfig:v,scopedSelector:A,onComplete:S});w&&w(c,E);var W=function(e){var t=H.flippedIds,n=H.flipCallbacks,a=H.inProgressAnimations,s=H.flippedElementPositionsBeforeUpdate,c=H.flippedElementPositionsAfterUpdate,f=H.applyTransformOrigin,_=H.spring,m=H.getElement,g=H.debug,v=H.staggerConfig;void 0===v&&(v={});var E=H.decisionData;void 0===E&&(E={});var b,T=H.onComplete,S=H.containerEl,w=new Promise((function(e){b=e}));if(T&&w.then((function(){return T(S,E)})),!t.length)return function(){return b([]),w};var O,A=[],N=m(t[0]),k=N?N.ownerDocument.querySelector("body"):document.querySelector("body");O=t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{}),Object.keys(O).filter((function(e){return O[e]>1}));var L=t.map((function(e){var t=s[e].rect,m=c[e].rect,g=s[e].opacity,v=c[e].opacity,T=m.width<1||m.height<1,S=c[e].element;if(!I(t)&&!I(m))return!1;if(!S)return!1;var w=JSON.parse(S.dataset.flipConfig),O=function(e){void 0===e&&(e={});var t=e.flippedSpring;return p({},h.noWobble,y(e.flipperSpring),y(t))}({flipperSpring:_,flippedSpring:w.spring}),R=!0===w.stagger?"default":w.stagger,C={element:S,id:e,stagger:R,springConfig:O};if(n[e]&&n[e].shouldFlip&&!n[e].shouldFlip(E.previous,E.current))return!1;var N=Math.abs(t.left-m.left)+Math.abs(t.top-m.top),D=Math.abs(t.width-m.width)+Math.abs(t.height-m.height),x=Math.abs(v-g);if(N<.5&&D<.5&&x<.01)return!1;var U,M,F=function(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return r(t[2].split(", ").map(parseFloat))}return i()}(c[e].transform),j={matrix:F},B={matrix:[]},V=[F];w.translate&&(V.push((U=t.left-m.left,(M=i())[12]=U,M)),V.push(function(e){var t=i();return t[13]=e,t}(t.top-m.top))),w.scale&&(V.push(function(e){var t=i();return t[0]=e,t}(Math.max(t.width,1)/Math.max(m.width,1))),V.push(function(e){var t=i();return t[5]=e,t}(Math.max(t.height,1)/Math.max(m.height,1)))),w.opacity&&(B.opacity=g,j.opacity=v);var H=[];if(!n[e]||!n[e].shouldInvert||n[e].shouldInvert(E.previous,E.current)){var W=function(e,t){return l(e.querySelectorAll('[data-inverse-flip-id="'+t+'"]'))}(S,e);H=W.map((function(e){return[e,JSON.parse(e.dataset.flipConfig)]}))}B.matrix=P(V.reduce(o)),j.matrix=P(j.matrix);var K,G=function(e){var t=e.element,n=e.invertedChildren,r=e.body;return function(e){var i=e.matrix,o=e.opacity,a=e.forceMinVals;if(u(o)&&(t.style.opacity=o+""),a&&(t.style.minHeight="1px",t.style.minWidth="1px"),i){var s=function(e){return"matrix("+e.join(", ")+")"}(i);t.style.transform=s,n&&function(e){var t=e.matrix,n=e.body;e.invertedChildren.forEach((function(e){var r=e[0],i=e[1];if(n.contains(r)){var o=t[0],a=t[3],s=t[5],u={translateX:0,translateY:0,scaleX:1,scaleY:1},c="";i.translate&&(u.translateX=-t[4]/o,u.translateY=-s/a,c+="translate("+u.translateX+"px, "+u.translateY+"px)"),i.scale&&(u.scaleX=1/o,u.scaleY=1/a,c+=" scale("+u.scaleX+", "+u.scaleY+")"),r.style.transform=c}}))}({invertedChildren:n,matrix:i,body:r})}}}({element:S,invertedChildren:H,body:k});if(n[e]&&n[e].onComplete){var Y=n[e].onComplete;K=function(){return Y(S,E)}}var q=u(B.opacity)&&u(j.opacity)&&B.opacity!==j.opacity,z=!1;return p({},C,{stagger:R,springConfig:O,getOnUpdateFunc:function(t){var r=t.spring,i=t.onAnimationEnd;return a[e]={destroy:r.destroy.bind(r),onAnimationEnd:i},function(t){n[e]&&n[e].onSpringUpdate&&n[e].onSpringUpdate(t.getCurrentValue()),z||(z=!0,n[e]&&n[e].onStart&&n[e].onStart(S,E));var r=t.getCurrentValue();if(k.contains(S)){var i={matrix:[]};i.matrix=B.matrix.map((function(e,t){return d(e,j.matrix[t],r)})),q&&(i.opacity=d(B.opacity,j.opacity,r)),G(i)}else t.destroy()}},initializeFlip:function(){G({matrix:B.matrix,opacity:q?B.opacity:void 0,forceMinVals:T}),n[e]&&n[e].onStartImmediate&&n[e].onStartImmediate(S,E),w.transformOrigin?S.style.transformOrigin=w.transformOrigin:f&&(S.style.transformOrigin="0 0"),H.forEach((function(e){var t=e[0],n=e[1];n.transformOrigin?t.style.transformOrigin=n.transformOrigin:f&&(t.style.transformOrigin="0 0")}))},onAnimationEnd:function(t){delete a[e],"function"==typeof K&&K(),S.style.transform="",H.forEach((function(e){e[0].style.transform=""})),T&&S&&(S.style.minHeight="",S.style.minWidth=""),t||(A.push(e),A.length>=L.length&&b(A))},delayUntil:w.delayUntil})})).filter(Boolean);if(L.forEach((function(e){return(0,e.initializeFlip)()})),g)return function(){};var D=L.filter((function(e){return e.delayUntil&&(t=e.delayUntil,L.filter((function(e){return e.id===t})).length);var t})),x={},U={},M={};D.forEach((function(e){e.stagger?(M[e.stagger]=!0,U[e.delayUntil]?U[e.delayUntil].push(e.stagger):U[e.delayUntil]=[e.stagger]):x[e.delayUntil]?x[e.delayUntil].push(e):x[e.delayUntil]=[e]}));var F=L.filter((function(e){return e.stagger})).reduce((function(e,t){return e[t.stagger]?e[t.stagger].push(t):e[t.stagger]=[t],e}),{}),j=L.filter((function(e){return-1===D.indexOf(e)}));return j.forEach((function(e){e.onSpringActivate=function(){x[e.id]&&x[e.id].forEach(R),U[e.id]&&Object.keys(U[e.id].reduce((function(e,t){var n;return p(e,((n={})[t]=!0,n))}),{})).forEach((function(e){C(F[e],v[e])}))}})),function(){return L.length||b([]),j.filter((function(e){return!e.stagger})).forEach(R),Object.keys(F).forEach((function(e){M[e]||C(F[e],v[e])})),w}}();T?T({hideEnteringElements:j,animateEnteringElements:B,animateExitingElements:V,animateFlippedElements:W}):(j(),V().then(B),W())}({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},t.prototype.render=function(){var e=this,t=this.props,n=t.portalKey,r=s.a.createElement(D.Provider,{value:this.flipCallbacks},s.a.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return n&&(r=s.a.createElement(x.Provider,{value:n},r)),r},t}(a.Component);function M(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}U.defaultProps={applyTransformOrigin:!0,element:"div"};var F=function(e){var t=e.children,n=e.flipId,r=e.inverseFlipId,i=e.portalKey,o=M(e,["children","flipId","inverseFlipId","portalKey"]),s=t,u=function(e){return"function"==typeof e}(s);if(!u)try{s=a.Children.only(t)}catch(e){throw new Error("Each Flipped component must wrap a single child")}o.scale||o.translate||o.opacity||p(o,{translate:!0,scale:!0,opacity:!0});var c={};return c["data-flip-config"]=JSON.stringify(o),n?c["data-flip-id"]=String(n):r&&(c["data-inverse-flip-id"]=String(r)),i&&(c["data-portal-key"]=i),u?s(c):Object(a.cloneElement)(s,c)},j=function(e){var t=e.children,n=e.flipId,r=e.shouldFlip,i=e.shouldInvert,o=e.onAppear,a=e.onStart,u=e.onStartImmediate,l=e.onComplete,p=e.onExit,f=e.onSpringUpdate,d=M(e,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"]);return t?d.inverseFlipId?s.a.createElement(F,Object.assign({},d),t):s.a.createElement(x.Consumer,null,(function(e){return s.a.createElement(D.Consumer,null,(function(h){return c(h)&&n&&(h[n]={shouldFlip:r,shouldInvert:i,onAppear:o,onStart:a,onStartImmediate:u,onComplete:l,onExit:p,onSpringUpdate:f}),s.a.createElement(F,Object.assign({flipId:n},d,{portalKey:e}),t)}))})):null};j.displayName="Flipped"},"27+M":function(e,t,n){"use strict";var r=n("GrTZ");e.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},"28wY":function(e,t,n){"use strict";n.r(t),n.d(t,"Workbox",(function(){return l})),n.d(t,"messageSW",(function(){return r}));try{self["workbox:window:5.1.2"]&&_()}catch(r){}function r(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}try{self["workbox:core:5.1.2"]&&_()}catch(r){}var o=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function a(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var s=function(e,t){this.type=e,Object.assign(this,t)};function u(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function c(){}var l=function(e){var t,n;function c(t,n){var r,i;return void 0===n&&(n={}),(r=e.call(this)||this).t={},r.i=0,r.o=new o,r.u=new o,r.s=new o,r.v=0,r.h=new Set,r.l=function(){var e=r.g,t=e.installing;r.i>0||!a(t.scriptURL,r.m)||performance.now()>r.v+6e4?(r.P=t,e.removeEventListener("updatefound",r.l)):(r.p=t,r.h.add(t),r.o.resolve(t)),++r.i,t.addEventListener("statechange",r.k)},r.k=function(e){var t=r.g,n=e.target,i=n.state,o=n===r.P,a=o?"external":"",u={sw:n,originalEvent:e};!o&&r.j&&(u.isUpdate=!0),r.dispatchEvent(new s(a+i,u)),"installed"===i?r.O=self.setTimeout((function(){"installed"===i&&t.waiting===n&&r.dispatchEvent(new s(a+"waiting",u))}),200):"activating"===i&&(clearTimeout(r.O),o||r.u.resolve(n))},r.R=function(e){var t=r.p;t===navigator.serviceWorker.controller&&(r.dispatchEvent(new s("controlling",{sw:t,originalEvent:e,isUpdate:r.j})),r.s.resolve(t))},r.S=(i=function(e){var t=e.data,n=e.source;return u(r.getSW(),(function(){r.h.has(n)&&r.dispatchEvent(new s("message",{data:t,sw:n,originalEvent:e}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}),r.m=t,r.t=n,navigator.serviceWorker.addEventListener("message",r.S),r}n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,f,d=c.prototype;return d.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return p(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.j=Boolean(navigator.serviceWorker.controller),r.U=r.B(),u(r.L(),(function(e){r.g=e,r.U&&(r.p=r.U,r.u.resolve(r.U),r.s.resolve(r.U),r.U.addEventListener("statechange",r.k,{once:!0}));var t=r.g.waiting;return t&&a(t.scriptURL,r.m)&&(r.p=t,Promise.resolve().then((function(){r.dispatchEvent(new s("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.p&&(r.o.resolve(r.p),r.h.add(r.p)),r.g.addEventListener("updatefound",r.l),navigator.serviceWorker.addEventListener("controllerchange",r.R,{once:!0}),r.g}))}))}catch(e){return Promise.reject(e)}},d.update=function(){try{return this.g?p(this.g.update()):void 0}catch(e){return Promise.reject(e)}},d.getSW=function(){try{return void 0!==this.p?this.p:this.o.promise}catch(e){return Promise.reject(e)}},d.messageSW=function(e){try{return u(this.getSW(),(function(t){return r(t,e)}))}catch(e){return Promise.reject(e)}},d.B=function(){var e=navigator.serviceWorker.controller;return e&&a(e.scriptURL,this.m)?e:void 0},d.L=function(){try{var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return u(navigator.serviceWorker.register(e.m,e.t),(function(t){return e.v=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},l=c,(f=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&i(l.prototype,f),c}(function(){function e(){this.M=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this._(e).add(t)},t.removeEventListener=function(e,t){this._(e).delete(t)},t.dispatchEvent=function(e){e.target=this;var t=this._(e.type),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}i(e)}},t._=function(e){return this.M.has(e)||this.M.set(e,new Set),this.M.get(e)},e}());function p(e,t){if(!t)return e&&e.then?e.then(c):Promise.resolve()}},"2ANZ":function(e,t,n){"use strict";e.exports=function(e){return{name:"context_user_agent",data:n("amWn")(e,{value:{type:"string",nullable:!0}})}}},"2CfY":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var p=this.satisfies(n[l]);if(void 0!==p)return p}}if(o>0){var f=Object.keys(i),d=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},"2Era":function(e,t,n){"use strict";function r(e){this._headers={},this._init(e)}r.prototype._init=function(e){if(e)for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(": ");if(i>0){var o=r.substring(0,i).toLowerCase(),a=r.substring(i+2);this._headers[o]=a}}},r.prototype.get=function(e){return this._headers[e.toLowerCase()]||null},r.prototype.has=function(e){return this._headers.hasOwnProperty(e.toLowerCase())},e.exports=r},"2KG9":function(e,t,n){"use strict";var r=n("OmE2");e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},"2Nju":function(e,t,n){"use strict";var r=n("KPDA"),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},"2O7x":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_HIDE=t.MENU_SHOW=void 0,t.dispatchGlobalEvent=c,t.showMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];c(s,(0,o.default)({},e,{type:s}),t)},t.hideMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];c(u,(0,o.default)({},e,{type:u}),t)};var r,i=n("IL7q"),o=(r=i)&&r.__esModule?r:{default:r},a=n("UK3a");var s=t.MENU_SHOW="REACT_CONTEXTMENU_SHOW",u=t.MENU_HIDE="REACT_CONTEXTMENU_HIDE";function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),n&&(n.dispatchEvent(r),(0,o.default)(a.store,t))}},"2i/S":function(e,t,n){e.exports=n("RWAl")},"31Tc":function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),o=_("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!(t||n[a]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},"32gt":function(e,t,n){"use strict";var r=n("6H3n"),i=new TypeError("Invalid Spotify URI!"),o=(new TypeError("Not implemented!"),0),a=1,s=function(e,t){return e=encodeURIComponent(e),t===o&&(e=e.replace(/%20/g,"+")),e=(e=e.replace(/[!'()]/g,escape)).replace(/\*/g,"%2A")},u=function(e,t){var n=t==o?e.replace(/\+/g,"%20"):e;return decodeURIComponent(n)},c=function(e,t){var n,r,o,a;switch(e.id&&(n=e._base62Id),e.type){case d.Type.ALBUM:return r=[d.Type.ALBUM,n],e.disc&&r.push(e.disc),r;case d.Type.AD:return[d.Type.AD,e._base62Id];case d.Type.ARTIST:return[d.Type.ARTIST,n];case d.Type.ARTIST_TOPLIST:return[d.Type.ARTIST,n,d.Type.TOP,e.toplist];case d.Type.DAILY_MIX:return[d.Type.DAILY_MIX,n];case d.Type.SEARCH:return[d.Type.SEARCH,s(e.query,t)];case d.Type.TRACK:return(e.context||e.play)&&(n+=l({context:e.context,play:e.play})),e.anchor&&(n+="#"+e.anchor),[d.Type.TRACK,n];case d.Type.TRACKSET:var u=[];for(o=0,a=e.tracks.length;o<a;o++)u.push(e.tracks[o]._base62Id);return u=[u.join(",")],null!==e.index&&u.push("#",e.index),[d.Type.TRACKSET,s(e.name)].concat(u);case d.Type.FACEBOOK:return[d.Type.USER,d.Type.FACEBOOK,e.uid];case d.Type.AUDIO_FILE:return[d.Type.AUDIO_FILE,e.extension,e._base62Id];case d.Type.FOLDER:return[d.Type.USER,s(e.username,t),d.Type.FOLDER,e._base62Id];case d.Type.FOLLOWERS:return[d.Type.USER,s(e.username,t),d.Type.FOLLOWERS];case d.Type.FOLLOWING:return[d.Type.USER,s(e.username,t),d.Type.FOLLOWING];case d.Type.PLAYLIST:return[d.Type.USER,s(e.username,t),d.Type.PLAYLIST,n];case d.Type.PLAYLIST_V2:return[d.Type.PLAYLIST,n];case d.Type.STARRED:return[d.Type.USER,s(e.username,t),d.Type.STARRED];case d.Type.TEMP_PLAYLIST:return[d.Type.TEMP_PLAYLIST,e.origin,e.data];case d.Type.CONTEXT_GROUP:return[d.Type.CONTEXT_GROUP,e.origin,e.name];case d.Type.USER_TOPLIST:return[d.Type.USER,s(e.username,t),d.Type.TOP,e.toplist];case d.Type.USER_TOP_TRACKS:return[d.Type.USER,s(e.username,t),d.Type.TOPLIST];case d.Type.TOPLIST:return[d.Type.TOP,e.toplist].concat(e.global?[d.Type.GLOBAL]:["country",e.country]);case d.Type.INBOX:return[d.Type.USER,s(e.username,t),d.Type.INBOX];case d.Type.ROOTLIST:return[d.Type.USER,s(e.username,t),d.Type.ROOTLIST];case d.Type.PUBLISHED_ROOTLIST:return[d.Type.USER,s(e.username,t),d.Type.PUBLISHED_ROOTLIST];case d.Type.COLLECTION_TRACK_LIST:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION_TRACK_LIST,n];case d.Type.PROFILE:return e.args&&e.args.length>0?[d.Type.USER,s(e.username,t)].concat(e.args):[d.Type.USER,s(e.username,t)];case d.Type.LOCAL_ARTIST:return[d.Type.LOCAL,s(e.artist,t)];case d.Type.LOCAL_ALBUM:return[d.Type.LOCAL,s(e.artist,t),s(e.album,t)];case d.Type.LOCAL:return[d.Type.LOCAL,s(e.artist,t),s(e.album,t),s(e.track,t),e.duration];case d.Type.LIBRARY:return[d.Type.USER,s(e.username,t),d.Type.LIBRARY].concat(e.category?[e.category]:[]);case d.Type.IMAGE:return[d.Type.IMAGE,e._base62Id];case d.Type.MOSAIC:return(r=e.ids.slice(0)).unshift(d.Type.MOSAIC),r;case d.Type.RADIO:return[d.Type.RADIO,e.args];case d.Type.SPECIAL:for(r=[d.Type.SPECIAL],o=0,a=(c=e.args||[]).length;o<a;++o)r.push(s(c[o],t));return r;case d.Type.STATION:for(r=[d.Type.STATION],o=0,a=(c=e.args||[]).length;o<a;o++)r.push(s(c[o],t));return r;case d.Type.APPLICATION:var c;for(r=[d.Type.APP,e._base62Id],o=0,a=(c=e.args||[]).length;o<a;++o)r.push(s(c[o],t));return r;case d.Type.COLLECTION_ALBUM:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ALBUM,n];case d.Type.COLLECTION_MISSING_ALBUM:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ALBUM,n,"missing"];case d.Type.COLLECTION_ARTIST:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ARTIST,n];case d.Type.COLLECTION:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION].concat(e.category?[e.category]:[]);case d.Type.EPISODE:return(e.context||e.play)&&(n+=l({context:e.context,play:e.play})),[d.Type.EPISODE,n];case d.Type.SHOW:return[d.Type.SHOW,n];case d.Type.LIVE:return[d.Type.LIVE,n];case d.Type.CONCERT:return[d.Type.CONCERT,n];case d.Type.SOCIAL_SESSION:return[d.Type.SOCIAL_SESSION,n];case d.Type.INTERRUPTION:return[d.Type.INTERRUPTION,e.id];default:throw i}},l=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t.length>1&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]));return t},p=function(e){return e.split("&").reduce((function(e,t){return e[(t=t.split("="))[0]]=decodeURIComponent(t[1]),e}),{})},f=function(e,t,n){var r=0;n=n||{};var a,c,l,p=function(){return e[r++]},f=function(){var e=p();if(!e||e.length>22)throw i;return e},h=function(){var e=p();if(!e||22!==e.length)throw i;return e},y=function(){return e.slice(r)},_=function(){var n=t==o?":":"/";return e.slice(r).join(n)},m=p();switch(m){case d.Type.ALBUM:return d.albumURI(h(),parseInt(p(),10));case d.Type.AD:return d.adURI(p());case d.Type.ARTIST:return a=h(),p()==d.Type.TOP?d.artistToplistURI(a,p()):d.artistURI(a);case d.Type.AUDIO_FILE:return d.audioFileURI(p(),p());case d.Type.DAILY_MIX:return d.dailyMixURI(f());case d.Type.TEMP_PLAYLIST:return d.temporaryPlaylistURI(p(),_());case d.Type.PLAYLIST:return d.playlistV2URI(h());case d.Type.SEARCH:return d.searchURI(u(_(),t));case d.Type.TRACK:return d.trackURI(h(),p(),n.context,n.play);case d.Type.TRACKSET:var g=u(p()),v=p(),E=p(),b=parseInt(p(),10);("%23"!==E||isNaN(b))&&(b=null);var T=[];if(v)for(c=0,l=(v=u(v).split(",")).length;c<l;c++){var S=v[c];T.push(d.trackURI(S))}return d.tracksetURI(T,g,b);case d.Type.CONTEXT_GROUP:return d.contextGroupURI(p(),p());case d.Type.TOP:var w=p();return p()==d.Type.GLOBAL?d.toplistURI(w,null,!0):d.toplistURI(w,p(),!1);case d.Type.USER:var O=u(p(),t),A=p();if(O===d.Type.FACEBOOK&&A)return d.facebookURI(parseInt(A,10));if(A)switch(A){case d.Type.PLAYLIST:return d.playlistURI(O,h());case d.Type.FOLDER:return d.folderURI(O,f());case d.Type.COLLECTION_TRACK_LIST:return d.collectionTrackList(O,f());case d.Type.COLLECTION:var R=p();switch(R){case d.Type.ALBUM:return a=f(),"missing"===p()?d.collectionMissingAlbumURI(O,a):d.collectionAlbumURI(O,a);case d.Type.ARTIST:return d.collectionArtistURI(O,f());default:return d.collectionURI(O,R)}case d.Type.STARRED:return d.starredURI(O);case d.Type.FOLLOWERS:return d.followersURI(O);case d.Type.FOLLOWING:return d.followingURI(O);case d.Type.TOP:return d.userToplistURI(O,p());case d.Type.INBOX:return d.inboxURI(O);case d.Type.ROOTLIST:return d.rootlistURI(O);case d.Type.PUBLISHED_ROOTLIST:return d.publishedRootlistURI(O);case d.Type.TOPLIST:return d.userTopTracksURI(O);case d.Type.LIBRARY:return d.libraryURI(O,p())}var C=y();if(A&&C.length>0)return d.profileURI(O,[A].concat(C));if(A)return d.profileURI(O,[A]);if(O)return d.profileURI(O);throw i;case d.Type.LOCAL:var P=p(),I=P&&u(P,t),N=p(),k=N&&u(N,t),L=p(),D=L&&u(L,t),x=p(),U=parseInt(x,10);return void 0!==L?d.localURI(I,k,D,U):void 0!==N?d.localAlbumURI(I,k):d.localArtistURI(I);case d.Type.IMAGE:return d.imageURI(f());case d.Type.MOSAIC:return d.mosaicURI(e.slice(r));case d.Type.RADIO:return d.radioURI(_());case d.Type.SPECIAL:for(c=0,l=(M=y()).length;c<l;++c)M[c]=u(M[c],t);return d.specialURI(M);case d.Type.STATION:return d.stationURI(y());case d.Type.EPISODE:return d.episodeURI(h(),n.context,n.play);case d.Type.SHOW:return d.showURI(h());case d.Type.LIVE:return d.liveURI(f());case d.Type.CONCERT:return d.concertURI(f());case"":break;case d.Type.SOCIAL_SESSION:return d.socialSessionURI(p());case d.Type.INTERRUPTION:return d.interruptionURI(p());default:a=m===d.Type.APP?p():m;var M,F=u(a,t);if(s(F,t)!==a)break;for(c=0,l=(M=y()).length;c<l;++c)M[c]=u(M[c],t);return d.applicationURI(F,M)}throw i};function d(e,t){for(var n in this.type=e,t)"function"!=typeof t[n]&&(this[n]=t[n])}Object.defineProperty(d.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?d.idToHex(this._base62Id):void 0),this._hexId},set:function(e){this._base62Id=e?d.hexToId(e):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),d.prototype.toAppType=function(){if(this.type==d.Type.APPLICATION)return d.applicationURI(this.id,this.args);var e=c(this,a),t=e.shift(),n=e.length;if(n)for(;n--;)e[n]=u(e[n],a);return this.type==d.Type.RADIO&&(e=e.shift().split(":")),d.applicationURI(t,e)},d.prototype.toRealType=function(){return this.type==d.Type.APPLICATION?f([this.id].concat(this.args),o):new d(null,this)},d.prototype.toURI=function(){return"spotify:"+c(this,o).join(":")},d.prototype.toString=function(){return this.toURI()},d.prototype.toURLPath=function(e){var t=c(this,a);t[0]===d.Type.APP&&t.shift();var n=t[0]===d.Type.TRACKSET,r=t[0]===d.Type.LOCAL;if(!n&&!r){for(var i=[],o=0,s=t.length;o<s;o++){var u=t[o];u&&i.push(u)}t=i}var l=t.join("/");return e?"/"+l:l},d.prototype.toPlayURL=function(){return"https://play.spotify.com/"+this.toURLPath()},d.prototype.toURL=function(){return this.toPlayURL()},d.prototype.toOpenURL=function(){return"https://open.spotify.com/"+this.toURLPath()},d.prototype.toSecurePlayURL=function(){return this.toPlayURL()},d.prototype.toSecureURL=function(){return this.toPlayURL()},d.prototype.toSecureOpenURL=function(){return this.toOpenURL()},d.prototype.idToByteString=function(){var e=r.toHex(this._base62Id);if(!e){for(var t="",n=0;n<16;n++)t+=String.fromCharCode(0);return t}var i="";for(n=0;n<32;n+=2){var o=(r.ID16[e.charCodeAt(n)]<<4)+r.ID16[e.charCodeAt(n+1)];i+=String.fromCharCode(o)}return i},d.prototype.getPath=function(){return this.toString().replace(/[#?].*/,"")},d.prototype.getBase62Id=function(){return this._base62Id},d.prototype.isSameIdentity=function(e){var t=d.from(e);if(!t)return!1;if(this.toString()===e.toString())return!0;if(this.type!==d.Type.PLAYLIST&&this.type!==d.Type.PLAYLIST_V2||t.type!==d.Type.PLAYLIST&&t.type!==d.Type.PLAYLIST_V2){if(this.type===d.Type.STATION&&t.type===d.Type.STATION){var n=f(this.args,o);return!!n&&n.isSameIdentity(f(t.args,o))}return!1}return this.id===t.id},d.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",DAILY_MIX:"dailymix",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",INTERRUPTION:"interruption",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",LIVE:"live",MOSAIC:"mosaic",PLAYLIST:"playlist",PLAYLIST_V2:"playlist-v2",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SHOW:"show",SOCIAL_SESSION:"socialsession",CONCERT:"concert",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},d.fromString=function(e){var t=function(e){var t,n,r,s,u=e.split("?");if(u.length>1){e=u.shift();var c=(r=u.pop()).split("#");c.length>1&&(r=c.shift(),s=c.pop()),r=p(r)}var l=e.split("#");if(l.length>1&&(e=l.shift(),s=l.pop()),0===e.indexOf("spotify:"))t=e.slice("spotify:".length).split(":"),n=o;else{if(0===(e=e.split("?")[0]).indexOf("http://play.spotify.com/"))t=e.slice("http://play.spotify.com/".length).split("/");else if(0===e.indexOf("https://play.spotify.com/"))t=e.slice("https://play.spotify.com/".length).split("/");else if(0===e.indexOf("http://open.spotify.com/"))t=e.slice("http://open.spotify.com/".length).split("/");else if(0===e.indexOf("https://open.spotify.com/"))t=e.slice("https://open.spotify.com/".length).split("/");else{if(0!==e.indexOf("/"))throw i;t=e.slice("/".length).split("/")}n=a}return s&&t.push(s),{format:n,components:t,query:r}}(e);return f(t.components,t.format,t.query)},d.from=function(e){try{return e instanceof d?e:"object"==typeof e&&e.type?new d(null,e):d.fromString(e.toString())}catch(e){return null}},d.fromByteString=function(e,t,n){for(;16!=t.length;)t=String.fromCharCode(0)+t;for(var i="",o=0;o<t.length;o++){var a=t.charCodeAt(o);i+=r.HEX256[a]}var s=r.fromHex(i),u=n||{};return u.id=s,new d(e,u)},d.clone=function(e){return e instanceof d?new d(null,e):null},d.getCanonical=function(e){return this.getCanonical(e)},d.getCanonicalUsername=function(e){return s(e,o)},d.getDisplayUsername=function(e){return u(e,o)},d.idToHex=function(e){return 22==e.length?r.toHex(e):e},d.hexToId=function(e){return 32==e.length?r.fromHex(e):e},d.emptyURI=function(){return new d(d.Type.EMPTY,{})},d.albumURI=function(e,t){return new d(d.Type.ALBUM,{id:e,disc:t})},d.adURI=function(e){return new d(d.Type.AD,{id:e})},d.audioFileURI=function(e,t){return new d(d.Type.AUDIO_FILE,{id:t,extension:e})},d.artistURI=function(e){return new d(d.Type.ARTIST,{id:e})},d.artistToplistURI=function(e,t){return new d(d.Type.ARTIST_TOPLIST,{id:e,toplist:t})},d.dailyMixURI=function(e){return new d(d.Type.DAILY_MIX,{id:e})},d.searchURI=function(e){return new d(d.Type.SEARCH,{query:e})},d.trackURI=function(e,t,n,r){return new d(d.Type.TRACK,{id:e,anchor:t,context:n?d.fromString(n):n,play:r})},d.tracksetURI=function(e,t,n){return new d(d.Type.TRACKSET,{tracks:e,name:t||"",index:isNaN(n)?null:n})},d.facebookURI=function(e){return new d(d.Type.FACEBOOK,{uid:e})},d.followersURI=function(e){return new d(d.Type.FOLLOWERS,{username:e})},d.followingURI=function(e){return new d(d.Type.FOLLOWING,{username:e})},d.playlistURI=function(e,t){return new d(d.Type.PLAYLIST,{username:e,id:t})},d.playlistV2URI=function(e){return new d(d.Type.PLAYLIST_V2,{id:e})},d.folderURI=function(e,t){return new d(d.Type.FOLDER,{username:e,id:t})},d.collectionTrackList=function(e,t){return new d(d.Type.COLLECTION_TRACK_LIST,{username:e,id:t})},d.starredURI=function(e){return new d(d.Type.STARRED,{username:e})},d.userToplistURI=function(e,t){return new d(d.Type.USER_TOPLIST,{username:e,toplist:t})},d.userTopTracksURI=function(e){return new d(d.Type.USER_TOP_TRACKS,{username:e})},d.toplistURI=function(e,t,n){return new d(d.Type.TOPLIST,{toplist:e,country:t,global:!!n})},d.inboxURI=function(e){return new d(d.Type.INBOX,{username:e})},d.rootlistURI=function(e){return new d(d.Type.ROOTLIST,{username:e})},d.publishedRootlistURI=function(e){return new d(d.Type.PUBLISHED_ROOTLIST,{username:e})},d.localArtistURI=function(e){return new d(d.Type.LOCAL_ARTIST,{artist:e})},d.localAlbumURI=function(e,t){return new d(d.Type.LOCAL_ALBUM,{artist:e,album:t})},d.localURI=function(e,t,n,r){return new d(d.Type.LOCAL,{artist:e,album:t,track:n,duration:r})},d.libraryURI=function(e,t){return new d(d.Type.LIBRARY,{username:e,category:t})},d.collectionURI=function(e,t){return new d(d.Type.COLLECTION,{username:e,category:t})},d.temporaryPlaylistURI=function(e,t){return new d(d.Type.TEMP_PLAYLIST,{origin:e,data:t})},d.contextGroupURI=function(e,t){return new d(d.Type.CONTEXT_GROUP,{origin:e,name:t})},d.profileURI=function(e,t){return new d(d.Type.PROFILE,{username:e,args:t})},d.imageURI=function(e){return new d(d.Type.IMAGE,{id:e})},d.mosaicURI=function(e){return new d(d.Type.MOSAIC,{ids:e})},d.radioURI=function(e){return e=void 0===e?"":e,new d(d.Type.RADIO,{args:e})},d.specialURI=function(e){return e=void 0===e?[]:e,new d(d.Type.SPECIAL,{args:e})},d.stationURI=function(e){return e=void 0===e?[]:e,new d(d.Type.STATION,{args:e})},d.applicationURI=function(e,t){return t=void 0===t?[]:t,new d(d.Type.APPLICATION,{id:e,args:t})},d.collectionAlbumURI=function(e,t){return new d(d.Type.COLLECTION_ALBUM,{username:e,id:t})},d.collectionMissingAlbumURI=function(e,t){return new d(d.Type.COLLECTION_MISSING_ALBUM,{username:e,id:t})},d.collectionArtistURI=function(e,t){return new d(d.Type.COLLECTION_ARTIST,{username:e,id:t})},d.episodeURI=function(e,t,n){return new d(d.Type.EPISODE,{id:e,context:t?d.fromString(t):t,play:n})},d.showURI=function(e){return new d(d.Type.SHOW,{id:e})},d.liveURI=function(e){return new d(d.Type.LIVE,{id:e})},d.concertURI=function(e){return new d(d.Type.CONCERT,{id:e})},d.socialSessionURI=function(e){return new d(d.Type.SOCIAL_SESSION,{id:e})},d.interruptionURI=function(e){return new d(d.Type.INTERRUPTION,{id:e})},d.isAlbum=function(e){return(d.from(e)||{}).type===d.Type.ALBUM},d.isAd=function(e){return(d.from(e)||{}).type===d.Type.AD},d.isApplication=function(e){return(d.from(e)||{}).type===d.Type.APPLICATION},d.isArtist=function(e){return(d.from(e)||{}).type===d.Type.ARTIST},d.isCollection=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION},d.isCollectionAlbum=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION_ALBUM},d.isCollectionArtist=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION_ARTIST},d.isDailyMix=function(e){return(d.from(e)||{}).type===d.Type.DAILY_MIX},d.isEpisode=function(e){return(d.from(e)||{}).type===d.Type.EPISODE},d.isFacebook=function(e){return(d.from(e)||{}).type===d.Type.FACEBOOK},d.isFolder=function(e){return(d.from(e)||{}).type===d.Type.FOLDER},d.isLocalArtist=function(e){return(d.from(e)||{}).type===d.Type.LOCAL_ARTIST},d.isLocalAlbum=function(e){return(d.from(e)||{}).type===d.Type.LOCAL_ALBUM},d.isLocalTrack=function(e){return(d.from(e)||{}).type===d.Type.LOCAL},d.isMosaic=function(e){return(d.from(e)||{}).type===d.Type.MOSAIC},d.isPlaylistV1=function(e){return(d.from(e)||{}).type===d.Type.PLAYLIST},d.isPlaylistV2=function(e){return(d.from(e)||{}).type===d.Type.PLAYLIST_V2},d.isRadio=function(e){return(d.from(e)||{}).type===d.Type.RADIO},d.isRootlist=function(e){return(d.from(e)||{}).type===d.Type.ROOTLIST},d.isSearch=function(e){return(d.from(e)||{}).type===d.Type.SEARCH},d.isShow=function(e){return(d.from(e)||{}).type===d.Type.SHOW},d.isLive=function(e){return(d.from(e)||{}).type===d.Type.LIVE},d.isConcert=function(e){return(d.from(e)||{}).type===d.Type.CONCERT},d.isStation=function(e){return(d.from(e)||{}).type===d.Type.STATION},d.isTrack=function(e){return(d.from(e)||{}).type===d.Type.TRACK},d.isProfile=function(e){return(d.from(e)||{}).type===d.Type.PROFILE},d.isPlaylistV1OrV2=function(e){var t=d.from(e);return!!t&&(t.type===d.Type.PLAYLIST||t.type===d.Type.PLAYLIST_V2)},d.isSocialSession=function(e){return(d.from(e)||{}).type===d.Type.SOCIAL_SESSION},d.isInterruption=function(e){return(d.from(e)||{}).type===d.Type.INTERRUPTION},e.exports=d},"3ZRO":function(e,t,n){"use strict";(function(e,r,i){n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"m",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"l",(function(){return T})),n.d(t,"j",(function(){return S})),n.d(t,"e",(function(){return w}));var o=n("E6vx");n("dbjm");function a(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}var s={};function u(){return a()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function c(){var e=u(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function l(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function p(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function f(e){var t=u();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var i=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),i}function d(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function h(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}function y(){try{return document.location.href}catch(e){return""}}function _(e){try{for(var t=e,n=[],r=0,i=0,o=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=m(t))||r>1&&i+n.length*o+a.length>=80);)n.push(a),i+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function m(e){var t,n,r,i,a,s=e,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),(t=s.className)&&Object(o.k)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)u.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)r=c[a],(i=s.getAttribute(r))&&u.push("["+r+'="'+i+'"]');return u.join("")}var g=Date.now(),v=0,E={now:function(){var e=Date.now()-g;return e<v&&(e=v),v=e,e},timeOrigin:g},b=function(){if(a())try{return(e="perf_hooks",i.require(e)).performance}catch(e){return E}var e;return u().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||g),u().performance||E}();function T(){return(b.timeOrigin+b.now())/1e3}function S(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}function w(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}}).call(this,n("5IsQ"),n("pCvA"),n("Ono3")(e))},"3gDE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if(void 0===(r=n[c]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n("XrU5"),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},"4+3C":function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])y(u)||!E(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation,i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=l(e,i,r)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(_(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return p(n)}var c,E="",w=!1,A=["{","}"];(d(n)&&(w=!0,A=["[","]"]),S(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(E=" "+RegExp.prototype.toString.call(n)),b(n)&&(E=" "+Date.prototype.toUTCString.call(n)),T(n)&&(E=" "+p(n)),0!==a.length||w&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,E,A)):A[0]+E+A[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function _(e){return"number"==typeof e}function m(e){return"string"==typeof e}function g(e){return void 0===e}function v(e){return E(e)&&"[object RegExp]"===w(e)}function E(e){return"object"==typeof e&&null!==e}function b(e){return E(e)&&"[object Date]"===w(e)}function T(e){return E(e)&&("[object Error]"===w(e)||e instanceof Error)}function S(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}t.debuglog=function(n){if(g(o)&&(o=Object({DEBUG:"true",ENV:"local",NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",PATHFINDER_API_URL:"https://api-partner.spotify.com",DEBUG_EVENTSENDER:!1,CDN_FILE_URLS:'{"fonts/CircularSpUIAraOnly-Black.otf":"/fonts/CircularSpUIAraOnly-Black.otf","fonts/CircularSpUIAraOnly-Black.woff":"/fonts/CircularSpUIAraOnly-Black.woff","fonts/CircularSpUIAraOnly-Black.woff2":"/fonts/CircularSpUIAraOnly-Black.woff2","fonts/CircularSpUIAraOnly-Bold.otf":"/fonts/CircularSpUIAraOnly-Bold.otf","fonts/CircularSpUIAraOnly-Bold.woff":"/fonts/CircularSpUIAraOnly-Bold.woff","fonts/CircularSpUIAraOnly-Bold.woff2":"/fonts/CircularSpUIAraOnly-Bold.woff2","fonts/CircularSpUIAraOnly-Book.otf":"/fonts/CircularSpUIAraOnly-Book.otf","fonts/CircularSpUIAraOnly-Book.woff":"/fonts/CircularSpUIAraOnly-Book.woff","fonts/CircularSpUIAraOnly-Book.woff2":"/fonts/CircularSpUIAraOnly-Book.woff2","fonts/CircularSpUIAraOnly-Light.otf":"/fonts/CircularSpUIAraOnly-Light.otf","fonts/CircularSpUIAraOnly-Light.woff":"/fonts/CircularSpUIAraOnly-Light.woff","fonts/CircularSpUIAraOnly-Light.woff2":"/fonts/CircularSpUIAraOnly-Light.woff2","fonts/CircularSpUICyrOnly-Black.otf":"/fonts/CircularSpUICyrOnly-Black.otf","fonts/CircularSpUICyrOnly-Black.woff":"/fonts/CircularSpUICyrOnly-Black.woff","fonts/CircularSpUICyrOnly-Black.woff2":"/fonts/CircularSpUICyrOnly-Black.woff2","fonts/CircularSpUICyrOnly-Bold.otf":"/fonts/CircularSpUICyrOnly-Bold.otf","fonts/CircularSpUICyrOnly-Bold.woff":"/fonts/CircularSpUICyrOnly-Bold.woff","fonts/CircularSpUICyrOnly-Bold.woff2":"/fonts/CircularSpUICyrOnly-Bold.woff2","fonts/CircularSpUICyrOnly-Book.otf":"/fonts/CircularSpUICyrOnly-Book.otf","fonts/CircularSpUICyrOnly-Book.woff":"/fonts/CircularSpUICyrOnly-Book.woff","fonts/CircularSpUICyrOnly-Book.woff2":"/fonts/CircularSpUICyrOnly-Book.woff2","fonts/CircularSpUICyrOnly-Light.otf":"/fonts/CircularSpUICyrOnly-Light.otf","fonts/CircularSpUICyrOnly-Light.woff":"/fonts/CircularSpUICyrOnly-Light.woff","fonts/CircularSpUICyrOnly-Light.woff2":"/fonts/CircularSpUICyrOnly-Light.woff2","fonts/CircularSpUIHbrOnly-Black.otf":"/fonts/CircularSpUIHbrOnly-Black.otf","fonts/CircularSpUIHbrOnly-Black.woff":"/fonts/CircularSpUIHbrOnly-Black.woff","fonts/CircularSpUIHbrOnly-Black.woff2":"/fonts/CircularSpUIHbrOnly-Black.woff2","fonts/CircularSpUIHbrOnly-Bold.otf":"/fonts/CircularSpUIHbrOnly-Bold.otf","fonts/CircularSpUIHbrOnly-Bold.woff":"/fonts/CircularSpUIHbrOnly-Bold.woff","fonts/CircularSpUIHbrOnly-Bold.woff2":"/fonts/CircularSpUIHbrOnly-Bold.woff2","fonts/CircularSpUIHbrOnly-Book.otf":"/fonts/CircularSpUIHbrOnly-Book.otf","fonts/CircularSpUIHbrOnly-Book.woff":"/fonts/CircularSpUIHbrOnly-Book.woff","fonts/CircularSpUIHbrOnly-Book.woff2":"/fonts/CircularSpUIHbrOnly-Book.woff2","fonts/CircularSpUIHbrOnly-Light.otf":"/fonts/CircularSpUIHbrOnly-Light.otf","fonts/CircularSpUIHbrOnly-Light.woff":"/fonts/CircularSpUIHbrOnly-Light.woff","fonts/CircularSpUIHbrOnly-Light.woff2":"/fonts/CircularSpUIHbrOnly-Light.woff2","fonts/CircularSpUIv3T-Black.ttf":"/fonts/CircularSpUIv3T-Black.ttf","fonts/CircularSpUIv3T-Black.woff":"/fonts/CircularSpUIv3T-Black.woff","fonts/CircularSpUIv3T-Black.woff2":"/fonts/CircularSpUIv3T-Black.woff2","fonts/CircularSpUIv3T-Bold.ttf":"/fonts/CircularSpUIv3T-Bold.ttf","fonts/CircularSpUIv3T-Bold.woff":"/fonts/CircularSpUIv3T-Bold.woff","fonts/CircularSpUIv3T-Bold.woff2":"/fonts/CircularSpUIv3T-Bold.woff2","fonts/CircularSpUIv3T-Book.ttf":"/fonts/CircularSpUIv3T-Book.ttf","fonts/CircularSpUIv3T-Book.woff":"/fonts/CircularSpUIv3T-Book.woff","fonts/CircularSpUIv3T-Book.woff2":"/fonts/CircularSpUIv3T-Book.woff2","fonts/CircularSpUIv3T-Light.ttf":"/fonts/CircularSpUIv3T-Light.ttf","fonts/CircularSpUIv3T-Light.woff":"/fonts/CircularSpUIv3T-Light.woff","fonts/CircularSpUIv3T-Light.woff2":"/fonts/CircularSpUIv3T-Light.woff2","fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/devices/android.png":"/images/devices/android.png","images/devices/ios.png":"/images/devices/ios.png","images/devices/mac-web.png":"/images/devices/mac-web.png","images/devices/mac.png":"/images/devices/mac.png","images/devices/windowsphone.png":"/images/devices/windowsphone.png","images/embed-podcast/upsell-background.png":"/images/embed-podcast/upsell-background.png","images/embed/copy-32_circle_grey_outline_bg.svg":"/images/embed/copy-32_circle_grey_outline_bg.svg","images/embed/embed-code-32_circle_grey_outline_bg.svg":"/images/embed/embed-code-32_circle_grey_outline_bg.svg","images/embed/fb_colour.svg":"/images/embed/fb_colour.svg","images/embed/messenger_colour.svg":"/images/embed/messenger_colour.svg","images/embed/twitter_colour.svg":"/images/embed/twitter_colour.svg","images/embed/whatsapp.svg":"/images/embed/whatsapp.svg","images/emi.png":"/images/emi.png","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/follow/avatar-placeholder.png":"/images/follow/avatar-placeholder.png","images/follow/sprite.gif":"/images/follow/sprite.gif","images/follow/sprite@1.png":"/images/follow/sprite@1.png","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_64.png":"/images/icons/Spotify_64.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/merlin.png":"/images/merlin.png","images/moviebuff.png":"/images/moviebuff.png","images/og-image.png":"/images/og-image.png","images/orchard.png":"/images/orchard.png","images/rovi.png":"/images/rovi.png","images/sony.png":"/images/sony.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/universal.png":"/images/universal.png","images/vinyl-bottom-layer.svg":"/images/vinyl-bottom-layer.svg","images/vinyl-top-layer.svg":"/images/vinyl-top-layer.svg","images/warner.png":"/images/warner.png","js/gtag.js":"/js/gtag.js"}'}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){e.pid;a[n]=function(){t.format.apply(t,arguments)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=v,t.isObject=E,t.isDate=b,t.isError=T,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("EwJK");function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){},t.inherits=n("wfEq"),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(R,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n("5IsQ"))},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"4DfG":function(e,t,n){"use strict";e.exports=n("UdKW")},"4OlW":function(e,t,n){"use strict";var r=n("ovh1");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},"4OvF":function(e,t,n){"use strict";(function(t){var r=n("ccLT"),i=n("Hbaf"),o=n("Zfiy"),a=o("Object.prototype.toString"),s=n("hSmj")()&&"symbol"==typeof Symbol.toStringTag,u=i(),c=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},l=o("String.prototype.slice"),p={},f=n("mxNg"),d=Object.getPrototypeOf;s&&f&&d&&r(u,(function(e){var n=new t[e];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=d(n),i=f(r,Symbol.toStringTag);if(!i){var o=d(r);i=f(o,Symbol.toStringTag)}p[e]=i.get}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s){var t=l(a(e),8,-1);return c(u,t)>-1}return!!f&&function(e){var t=!1;return r(p,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}}).call(this,n("pCvA"))},"4w/7":function(e,t,n){"use strict";var r=n("9lfL").backoffDefaults,i=n("asuC"),o=n("R9Wo"),a=Array.prototype.slice;function s(e,t){var n=t||{};this._fn=e,this._resolver=i.defer(),this._maxDuration=n.maxDuration||r.maxDuration,this._maxRetries="maxRetries"in n?n.maxRetries:r.maxRetries,this._maxTime=n.maxTime||r.maxTime,this._retryPredicate=n.retryPredicate||r.retryPredicate,this._ts=0,this._callCount=0,this._backoffInitial=n.backoffInitial,this._tickInterval=null,this._isRunning=!1,this._counter=new o({curve:n.curve||n.algo,baseTime:n.baseTime,ceiling:n.ceiling}),this._backoffInitial&&(this._maxRetries+=1),this._tick=this._tick.bind(this)}s.init=function(e,t){return new s(e,t).start()},s.prototype.getResolver=function(){return this._resolver.promise},s.prototype.start=function(e){return!this._fn&&e&&(this._fn=e),this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(this._tick,this._counter.getTime(0))):this._tick()),this._resolver.promise},s.prototype.stop=function(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()},s.prototype._destroy=function(){this._fn=null,this._resolver=null},s.prototype._failure=function(e){if(e&&"retryAfter"in e)this._retryAfter(e);else{var t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(this._tick,t)):(this._resolver.reject(e),this._destroy())}},s.prototype._retryAfter=function(e){this._callCount++,this._tickInterval=setTimeout(this._tick,e.retryAfter)},s.prototype._success=function(){this._resolver.resolve.apply(null,a.call(arguments)),this._destroy()},s.prototype._shouldRetry=function(e,t){var n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)},s.prototype._tick=function(){this._fn().then(this._success.bind(this)).catch(this._failure.bind(this))},e.exports=s},"4y8Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i={},o={};function a(e,t,n){for(var r=0,i=0;i<e.length;++i){var o=e[i]*t+r;e[i]=o%n,r=~~(o/n)}for(;r;)e.push(r%n),r=~~(r/n)}function s(e,t,n,r){var i,o,a=0;for(o=0;o<t.length;++o)i=~~e[o]+t[o]*n+a,e[o]=i%r,a=~~(i/r);for(;a;)i=~~e[o]+a,e[o]=i%r,a=~~(i/r),++o}function u(e,t,n){for(var r=[0],i=[1],o=0;o<e.length;++o)s(r,i,e[o],n),a(i,t,n);return r}function c(e,t){for(var n=[],r=0;r<e.length;++r)n.push(t[e[r]]);return n.reverse()}function l(e,t){for(void 0===t&&(t=0);e.length<t;)e.push(0);return e}!function(){for(var e=0,t=r.length;e<t;++e)o[r[e]]=e;for(e=0;e<16;++e)i["0123456789abcdef"[e]]=e;for(e=0;e<16;++e)i["0123456789ABCDEF"[e]]=e}(),t.fromBytes=function(e,t){return c(l(u(e.slice(0).reverse(),256,62),t),r).join("")},t.toBytes=function(e,t){return l(u(c(e.split(""),o),62,256),t).reverse()},t.toHex=function(e,t){var n=u(c(e.split(""),o),62,16);return c(l(n,t),r).join("")},t.fromHex=function(e,t){var n=u(c(e.split(""),i),16,62);return c(l(n,t),r).join("")}},"4z+8":function(e,t,n){"use strict";(function(t){var r=n("c70j"),i=n("VtxT"),o=n("xAxK");e.exports=function(e){return e.HTTP=i,e.Fetch=o,e.WebSocket=t.WebSocket,r.create(e)}}).call(this,n("pCvA"))},"54X/":function(e,t,n){"use strict";e.exports=function(e){return{name:"KmPageView",data:n("amWn")(e,{type:{type:"string",nullable:!0},page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},sp_cid:{type:"string",nullable:!0},referrer:{type:"string",nullable:!0}})}}},"5FMv":function(e,t,n){"use strict";var r=n("BMKb"),i=n("WmMO"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?i(n):n}},"5IsQ":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"5QbJ":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"5R4H":function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n("pCvA"))},"5X3g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},"5xAX":function(e,t,n){"use strict";var r=n("ZQMo"),i=n("/46B"),o=n("VwiP"),a=n("V+xs"),s=n("HH6Z"),u=i(o);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},"63Ad":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"67/Z":function(e,t,n){"use strict";var r=1,i=2,o=4,a=8,s=16,u=Array.prototype.slice;function c(e,t,n){this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText="["+e+"]",this._enabled=!0,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}c.prototype.matchesTag=function(e){var t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(("*"!==t[r]||!n[r])&&t[r]!==n[r])return!1;return!0},c.prototype.setLevel=function(e){var t=0;switch(e){case"error":t=s;break;case"warn":t=a|s;break;case"info":t=o|a|s;break;case"debug":t=i|o|a|s;break;case"log":default:t=r|i|o|a|s}this._level=t},c.prototype.enable=function(){this._enabled=!0},c.prototype.disable=function(){this._enabled=!1},c.prototype.log=function(){if(this._enabled||this._level&r){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"log",tag:this.tag,args:e});this._predicate(t)}},c.prototype.debug=function(){if(this._enabled||this._level&i){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"debug",tag:this.tag,args:e});this._predicate(t)}},c.prototype.info=function(){if(this._enabled||this._level&o){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"info",tag:this.tag,args:e});this._predicate(t)}},c.prototype.warn=function(){if(this._enabled||this._level&a){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"warn",tag:this.tag,args:e});this._predicate(t)}},c.prototype.error=function(){if(this._enabled||this._level&s){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"error",tag:this.tag,args:e});this._predicate(t)}},e.exports=c},"6GjV":function(e,t,n){"use strict";function r(e,t){this.url=e||"",this.status=t||0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.ok=this.status>=200&&this.status<=299,this.metadata=null}r.prototype.getStatusFamily=function(){return 0|this.status/100},e.exports=r},"6H3n":function(e,t,n){!function(){var t="0123456789abcdef",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];r.length=256;for(var i=0;i<256;i++)r[i]=t[i>>4]+t[15&i];var o=[];o.length=128;for(i=0;i<n.length;++i)o[n.charCodeAt(i)]=i;var a=[];for(i=0;i<16;i++)a[t.charCodeAt(i)]=i;for(i=0;i<6;i++)a["ABCDEF".charCodeAt(i)]=10+i;var s={toHex:function(e){if(22!==e.length)return null;var t,n,i,a,s,u=2.3283064365386963e-10,c=4294967296,l=238328;return t=56800235584*o[e.charCodeAt(0)]+916132832*o[e.charCodeAt(1)]+14776336*o[e.charCodeAt(2)]+238328*o[e.charCodeAt(3)]+3844*o[e.charCodeAt(4)]+62*o[e.charCodeAt(5)]+o[e.charCodeAt(6)],t=(t-=(n=t*u|0)*c)*l+(s=3844*o[e.charCodeAt(7)]+62*o[e.charCodeAt(8)]+o[e.charCodeAt(9)]),t-=(s=t*u|0)*c,n=n*l+s,t=t*l+(s=3844*o[e.charCodeAt(10)]+62*o[e.charCodeAt(11)]+o[e.charCodeAt(12)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=s,t=t*l+(s=3844*o[e.charCodeAt(13)]+62*o[e.charCodeAt(14)]+o[e.charCodeAt(15)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,t=t*l+(s=3844*o[e.charCodeAt(16)]+62*o[e.charCodeAt(17)]+o[e.charCodeAt(18)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=s,t=t*l+(s=3844*o[e.charCodeAt(19)]+62*o[e.charCodeAt(20)]+o[e.charCodeAt(21)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=a*l+s,a-=(s=a*u|0)*c,s?null:r[a>>>24]+r[a>>>16&255]+r[a>>>8&255]+r[255&a]+r[i>>>24]+r[i>>>16&255]+r[i>>>8&255]+r[255&i]+r[n>>>24]+r[n>>>16&255]+r[n>>>8&255]+r[255&n]+r[t>>>24]+r[t>>>16&255]+r[t>>>8&255]+r[255&t]},fromHex:function(e){var t,r=0,i=0,o=0;for(t=0;t<10;t++)o=16*o+a[e.charCodeAt(t)];for(t=0;t<11;t++)i=16*i+a[e.charCodeAt(t+10)];for(t=0;t<11;t++)r=16*r+a[e.charCodeAt(t+21)];if(isNaN(r+i+o))return null;var s,u=17592186044416,c="";for(t=0;t<7;++t)s=((s=((s=o)-62*(o=Math.floor(s*(1/62))))*u+i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(i+=o*u;t<15;++t)s=((s=i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(r+=i*u;t<21;++t)s=r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;return n[r]+c},HEX256:r,ID16:a,ID62:o};void 0!==e.exports?e.exports=s:window.Base62=s}()},"6KKQ":function(e,t,n){"use strict";var r=Boolean.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i.call(e))}},"6ayh":function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),o=_("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!(t||n[a]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},"6cnl":function(e,t,n){"use strict";var r=n("9CQN"),i=n("teyX"),o=n("9zqp"),a=(n("W0B4"),n("Y7gb")),s=n.n(a),u=n("noPx"),c=n.n(u),l=n("mXGw"),p=n.n(l),f=n("xARA"),d=n.n(f),h=!1,y=n("ZPcf"),_=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=d.a.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;!t&&!r||h?this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!h?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=Object(i.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return p.a.createElement(y.a.Provider,{value:null},n(e,r));var o=p.a.Children.only(n);return(p.a.createElement(y.a.Provider,{value:null},p.a.cloneElement(o,r)))},t}(p.a.Component);function m(){}_.contextType=y.a,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},_.UNMOUNTED=0,_.EXITED=1,_.ENTERING=2,_.ENTERED=3,_.EXITING=4;var g=_,v=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return c()(e,t)}))},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=n?"appear":"enter";t.addClass(e,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=n?"appear":"enter";t.removeClasses(e,r),t.addClass(e,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return s()(e,t)}))}(e,r)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&v(e,r),i&&v(e,i),o&&v(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return p.a.createElement(g,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(p.a.Component);E.defaultProps={classNames:""},E.propTypes={};t.a=E},"6s8r":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"6w3l":function(e,t,n){"use strict";var r=n("RVb4");e.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},"6xt7":function(e,t,n){"use strict";var r=n("RVb4");e.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},"71kK":function(e,t,n){"use strict";var r=n("ovh1");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"73GF":function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.prototype.toString,o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i.call(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i.call(e)&&"[object Function]"===i.call(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},"77OH":function(e,t,n){"use strict";t.Event=n("P1TA"),t.Method=n("6xt7"),t.StatusCode=n("1Wwy"),t.StatusFamily=n("6w3l");var r=n("eXcQ");t.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,t.Endpoints,t.EndpointsProvider,t.TokenProvider,t.SessionProviders,t.SessionConfig,t.HTTPURI,t.HTTPArgs,t.HTTPResponse,t.DealerMessage,t.ClientEventData},"79Um":function(e,t,n){"use strict";e.exports=function(e){this.get=e.get.bind(e),this.has=e.has.bind(e)}},"7C+0":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,n)||this;return r.path=t,r}return i(t,e),t}(Error);t.VError=o;var a=function(){function e(){}return e.prototype.fail=function(e,t,n){return!1},e.prototype.unionResolver=function(){return this},e.prototype.createContext=function(){return this},e.prototype.resolveUnion=function(e){},e}();t.NoopContext=a;var s=function(){function e(){this._propNames=[""],this._messages=[null],this._score=0}return e.prototype.fail=function(e,t,n){return this._propNames.push(e),this._messages.push(t),this._score+=n,!1},e.prototype.unionResolver=function(){return new u},e.prototype.resolveUnion=function(e){for(var t,n,r=null,i=0,o=e.contexts;i<o.length;i++){var a=o[i];(!r||a._score>=r._score)&&(r=a)}r&&r._score>0&&((t=this._propNames).push.apply(t,r._propNames),(n=this._messages).push.apply(n,r._messages))},e.prototype.getError=function(e){for(var t=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];e+="number"==typeof r?"["+r+"]":r?"."+r:"";var i=this._messages[n];i&&t.push(e+" "+i)}return new o(e,t.join("; "))},e.prototype.getErrorDetail=function(e){for(var t=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];e+="number"==typeof r?"["+r+"]":r?"."+r:"";var i=this._messages[n];i&&t.push({path:e,message:i})}var o=null;for(n=t.length-1;n>=0;n--)o&&(t[n].nested=[o]),o=t[n];return o},e}();t.DetailContext=s;var u=function(){function e(){this.contexts=[]}return e.prototype.createContext=function(){var e=new s;return this.contexts.push(e),e},e}()},"7JHm":function(e,t,n){"use strict";t.counterDefaults={algo:"lin",baseTime:200,ceiling:0,curve:"linear"},t.backoffDefaults={algo:"lin",backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}}},"7L9N":function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},"7QWs":function(e,t,n){"use strict";var r=n("teyX"),i=n("9CQN"),o=n("9zqp");function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n("W0B4");var s=n("mXGw"),u=n.n(s),c=n("ZPcf");function l(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function p(e,t,n){return null!=n[t]?n[t]:e.props[t]}function f(e,t,n){var r=l(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var u=o in t,c=o in r,l=t[o],f=Object(s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(s.isValidElement)(l)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:p(a,"exit",e),enter:p(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:p(a,"exit",e),enter:p(a,"enter",e)})}})),i}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(a(a(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,l(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:p(e,"appear",n),enter:p(e,"enter",n),exit:p(e,"exit",n)})}))):f(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=l(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=d(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?u.a.createElement(c.a.Provider,{value:o},a):u.a.createElement(c.a.Provider,{value:o},u.a.createElement(t,i,a))},t}(u.a.Component);h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};t.a=h},"7UEW":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},"7oZZ":function(e,t,n){"use strict";function r(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=0,s=r.pop(),u=o(r),c=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=s,l.dependencies=u,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return i(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}))},"7zuG":function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),o=_("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!(t||n[a]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},"8IKe":function(e,t,n){"use strict";var r=n("ZjB5"),i=n("7zuG")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},"8Jek":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},"8VmE":function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},"8vwS":function(e,t,n){"use strict";var r=n("/ub/");e.exports=function(e){if(!e||e.length%2!=0)throw new TypeError("Invalid clientId value.");var t=e.match(/[0-9a-f]{2}?/g);if(!t||!t.length)throw new TypeError("Invalid clientId value.");var n=String.fromCharCode.apply(null,t.map((function(e){return parseInt(e,16)}))),i=r.encode(n);return function(){return{name:"context_client_id",data:{value:i}}}}},"99Y6":function(e,t,n){"use strict";t.counterDefaults={algo:"lin",baseTime:200,ceiling:0,curve:"linear"},t.backoffDefaults={algo:"lin",backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}}},"9CQN":function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},"9K2m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case m:case _:case o:return t}}}function b(e){return E(e)===f}t.typeOf=E,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=_,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===_||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===v)},t.isAsyncMode=function(e){return b(e)||E(e)===p},t.isConcurrentMode=b,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===_},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h}},"9OMS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("fVVT"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},"9lfL":function(e,t,n){"use strict";t.counterDefaults={algo:"lin",baseTime:200,ceiling:0,curve:"linear"},t.backoffDefaults={algo:"lin",backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}}},"9t1y":function(e,t,n){"use strict";var r=n("mXGw"),i=n("IL7q"),o=n("4DfG");function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!p[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in p[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,d=r;if(f.hasOwnProperty(d))throw a(Error(99),d);f[d]=o;var h=o.phasedRegistrationNames;if(h){for(i in h)h.hasOwnProperty(i)&&l(h[i],c,d);i=!0}else o.registrationName?(l(o.registrationName,c,d),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function l(e,t,n){if(d[e])throw a(Error(100),e);d[e]=t,h[e]=t.eventTypes[n].dependencies}var p=[],f={},d={},h={};function y(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var _=!1,m=null,g=!1,v=null,E={onError:function(e){_=!0,m=e}};function b(e,t,n,r,i,o,a,s,u){_=!1,m=null,y.apply(E,arguments)}var T=null,S=null,w=null;function O(e,t,n){var r=e.type||"unknown-event";e.currentTarget=w(n),function(e,t,n,r,i,o,s,u,c){if(b.apply(this,arguments),_){if(!_)throw a(Error(198));var l=m;_=!1,m=null,g||(g=!0,v=l)}}(r,t,void 0,e),e.currentTarget=null}function A(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function R(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function P(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)O(e,t[r],n[r]);else t&&O(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function I(e){if(null!==e&&(C=A(C,e)),e=C,C=null,e){if(R(e,P),C)throw a(Error(95));if(g)throw e=v,g=!1,v=null,e}}var N={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw a(Error(102),t);u[t]=r,n=!0}}n&&c()}};function k(e,t){var n=e.stateNode;if(!n)return null;var r=T(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw a(Error(231),t,typeof n);return n}var L=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+L,x="__reactEventHandlers$"+L;function U(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function M(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e}function F(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function j(e){return e[x]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function V(e,t,n){(t=k(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function H(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)V(n[t],"captured",e);for(t=0;t<n.length;t++)V(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=k(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function K(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function G(e){R(e,H)}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var z={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},X={},$={};function Q(e){if(X[e])return X[e];if(!z[e])return e;var t,n=z[e];for(t in n)if(n.hasOwnProperty(t)&&t in $)return X[e]=n[t];return e}Y&&($=document.createElement("div").style,"AnimationEvent"in window||(delete z.animationend.animation,delete z.animationiteration.animation,delete z.animationstart.animation),"TransitionEvent"in window||delete z.transitionend.transition);var J=Q("animationend"),Z=Q("animationiteration"),ee=Q("animationstart"),te=Q("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,ie=null,oe=null;function ae(){if(oe)return oe;var e,t,n=ie,r=n.length,i="value"in re?re.value:re.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return oe=i.slice(e,1<t?1-t:void 0)}function se(){return!0}function ue(){return!1}function ce(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:ue,this.isPropagationStopped=ue,this}function le(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function pe(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=le,e.release=pe}i(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(ce);var de=ce.extend({data:null}),he=ce.extend({data:null}),ye=[9,13,27,32],_e=Y&&"CompositionEvent"in window,me=null;Y&&"documentMode"in document&&(me=document.documentMode);var ge=Y&&"TextEvent"in window&&!me,ve=Y&&(!_e||me&&8<me&&11>=me),Ee=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Te=!1;function Se(e,t){switch(e){case"keyup":return-1!==ye.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function we(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Oe=!1;var Ae={eventTypes:be,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(_e)e:{switch(e){case"compositionstart":i=be.compositionStart;break e;case"compositionend":i=be.compositionEnd;break e;case"compositionupdate":i=be.compositionUpdate;break e}i=void 0}else Oe?Se(e,n)&&(i=be.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=be.compositionStart);return i?(ve&&"ko"!==n.locale&&(Oe||i!==be.compositionStart?i===be.compositionEnd&&Oe&&(o=ae()):(ie="value"in(re=r)?re.value:re.textContent,Oe=!0)),i=de.getPooled(i,t,n,r),o?i.data=o:null!==(o=we(n))&&(i.data=o),G(i),o=i):o=null,(e=ge?function(e,t){switch(e){case"compositionend":return we(t);case"keypress":return 32!==t.which?null:(Te=!0,Ee);case"textInput":return(e=t.data)===Ee&&Te?null:e;default:return null}}(e,n):function(e,t){if(Oe)return"compositionend"===e||!_e&&Se(e,t)?(e=ae(),oe=ie=re=null,Oe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ve&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(be.beforeInput,t,n,r)).data=e,G(t)):t=null,null===o?t:null===t?o:[o,t]}},Re=null,Ce=null,Pe=null;function Ie(e){if(e=S(e)){if("function"!=typeof Re)throw a(Error(280));var t=T(e.stateNode);Re(e.stateNode,e.type,t)}}function Ne(e){Ce?Pe?Pe.push(e):Pe=[e]:Ce=e}function ke(){if(Ce){var e=Ce,t=Pe;if(Pe=Ce=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Le(e,t){return e(t)}function De(e,t,n,r){return e(t,n,r)}function xe(){}var Ue=Le,Me=!1;function Fe(){null===Ce&&null===Pe||(xe(),ke())}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function Ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!Y)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ke(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ye=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ye.hasOwnProperty("ReactCurrentDispatcher")||(Ye.ReactCurrentDispatcher={current:null}),Ye.hasOwnProperty("ReactCurrentBatchConfig")||(Ye.ReactCurrentBatchConfig={suspense:null});var qe=/^(.*)[\\\/]/,ze="function"==typeof Symbol&&Symbol.for,Xe=ze?Symbol.for("react.element"):60103,$e=ze?Symbol.for("react.portal"):60106,Qe=ze?Symbol.for("react.fragment"):60107,Je=ze?Symbol.for("react.strict_mode"):60108,Ze=ze?Symbol.for("react.profiler"):60114,et=ze?Symbol.for("react.provider"):60109,tt=ze?Symbol.for("react.context"):60110,nt=ze?Symbol.for("react.concurrent_mode"):60111,rt=ze?Symbol.for("react.forward_ref"):60112,it=ze?Symbol.for("react.suspense"):60113,ot=ze?Symbol.for("react.suspense_list"):60120,at=ze?Symbol.for("react.memo"):60115,st=ze?Symbol.for("react.lazy"):60116;ze&&Symbol.for("react.fundamental"),ze&&Symbol.for("react.responder");var ut="function"==typeof Symbol&&Symbol.iterator;function ct(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ut&&e[ut]||e["@@iterator"])?e:null}function lt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Qe:return"Fragment";case $e:return"Portal";case Ze:return"Profiler";case Je:return"StrictMode";case it:return"Suspense";case ot:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case at:return lt(e.type);case st:if(e=1===e._status?e._result:null)return lt(e)}return null}function pt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=lt(e.type);n=null,r&&(n=lt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(qe,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,ht={},yt={};function _t(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){mt[e]=new _t(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];mt[t]=new _t(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){mt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){mt[e]=new _t(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){mt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){mt[e]=new _t(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){mt[e]=new _t(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){mt[e]=new _t(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){mt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1)}));var gt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function Et(e,t,n,r){var i=mt.hasOwnProperty(t)?mt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.call(yt,e)||!dt.call(ht,e)&&(ft.test(e)?yt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Tt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&Et(e,"checked",t,!1)}function Ot(e,t){wt(e,t);var n=bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Rt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rt(e,t.type,bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function At(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Rt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(gt,vt);mt[t]=new _t(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(gt,vt);mt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(gt,vt);mt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){mt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1)})),mt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){mt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0)}));var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Pt(e,t,n){return(e=ce.getPooled(Ct.change,e,t,n)).type="change",Ne(n),G(e),e}var It=null,Nt=null;function kt(e){I(e)}function Lt(e){if(Ge(F(e)))return e}function Dt(e,t){if("change"===e)return t}var xt=!1;function Ut(){It&&(It.detachEvent("onpropertychange",Mt),Nt=It=null)}function Mt(e){if("value"===e.propertyName&&Lt(Nt))if(e=Pt(Nt,e,Ve(e)),Me)I(e);else{Me=!0;try{Le(kt,e)}finally{Me=!1,Fe()}}}function Ft(e,t,n){"focus"===e?(Ut(),Nt=n,(It=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Ut()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lt(Nt)}function Bt(e,t){if("click"===e)return Lt(t)}function Vt(e,t){if("input"===e||"change"===e)return Lt(t)}Y&&(xt=He("input")&&(!document.documentMode||9<document.documentMode));var Ht={eventTypes:Ct,_isInputEventSupported:xt,extractEvents:function(e,t,n,r){var i=t?F(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Dt:Be(i)?xt?o=Vt:(o=jt,a=Ft):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Bt),o&&(o=o(e,t)))return Pt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Rt(i,"number",i.value)}},Wt=ce.extend({view:null,detail:null}),Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Kt[e])&&!!t[e]}function Yt(){return Gt}var qt=0,zt=0,Xt=!1,$t=!1,Qt=Wt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=qt;return qt=e.screenX,Xt?"mousemove"===e.type?e.screenX-t:0:(Xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=zt;return zt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Jt=Qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},en={eventTypes:Zt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?U(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Qt,s=Zt.mouseLeave,u=Zt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Jt,s=Zt.pointerLeave,u=Zt.pointerEnter,c="pointer");var l=null==o?i:F(o);if(i=null==t?i:F(t),(e=a.getPooled(s,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,a=t=o;a;a=B(a))c++;for(a=0,u=i;u;u=B(u))a++;for(;0<c-a;)t=B(t),c--;for(;0<a-c;)i=B(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=B(t),i=B(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=B(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=B(r);for(r=0;r<t.length;r++)W(t[r],"bubbled",e);for(r=o.length;0<r--;)W(o[r],"captured",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!nn.call(t,n[r])||!tn(e[n[r]],t[n[r]]))return!1;return!0}function on(e,t){return{responder:e,props:t}}function an(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){if(2!==an(e))throw a(Error(188))}function un(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=an(e)))throw a(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sn(i),e;if(o===r)return sn(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var cn=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ln=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pn=Wt.extend({relatedTarget:null});function fn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn=Wt.extend({key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yt,charCode:function(e){return"keypress"===e.type?fn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=Qt.extend({dataTransfer:null}),mn=Wt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yt}),gn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vn=Qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),En=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[J,"animationEnd",2],[Z,"animationIteration",2],[ee,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[te,"transitionEnd",2],["waiting","waiting",2]],bn={},Tn={},Sn=0;Sn<En.length;Sn++){var wn=En[Sn],On=wn[0],An=wn[1],Rn=wn[2],Cn="on"+(An[0].toUpperCase()+An.slice(1)),Pn={phasedRegistrationNames:{bubbled:Cn,captured:Cn+"Capture"},dependencies:[On],eventPriority:Rn};bn[An]=Pn,Tn[On]=Pn}var In={eventTypes:bn,getEventPriority:function(e){return void 0!==(e=Tn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=Tn[e];if(!i)return null;switch(e){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":e=yn;break;case"blur":case"focus":e=pn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case J:case Z:case ee:e=cn;break;case te:e=gn;break;case"scroll":e=Wt;break;case"wheel":e=vn;break;case"copy":case"cut":case"paste":e=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=ce}return G(t=e.getPooled(i,t,n,r)),t}},Nn=In.getEventPriority,kn=[];function Ln(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=U(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ve(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<p.length;s++){var u=p[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=A(a,u))}I(a)}}var Dn=!0;function xn(e,t){Un(t,e,!1)}function Un(e,t,n){switch(Nn(t)){case 0:var r=Mn.bind(null,t,1);break;case 1:r=Fn.bind(null,t,1);break;default:r=jn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Mn(e,t,n){Me||xe();var r=jn,i=Me;Me=!0;try{De(r,e,t,n)}finally{(Me=i)||Fe()}}function Fn(e,t,n){jn(e,t,n)}function jn(e,t,n){if(Dn){if(null===(t=U(t=Ve(n)))||"number"!=typeof t.tag||2===an(t)||(t=null),kn.length){var r=kn.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,Me)Ln(n);else{Me=!0;try{Ue(Ln,n,void 0)}finally{Me=!1,Fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>kn.length&&kn.push(e)}}}var Bn=new("function"==typeof WeakMap?WeakMap:Map);function Vn(e){var t=Bn.get(e);return void 0===t&&(t=new Set,Bn.set(e,t)),t}function Hn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Wn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kn(e,t){var n,r=Wn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wn(r)}}function Gn(){for(var e=window,t=Hn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Hn((e=t.contentWindow).document)}return t}function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var qn=Y&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Xn=null,$n=null,Qn=null,Jn=!1;function Zn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Jn||null==Xn||Xn!==Hn(n)?null:("selectionStart"in(n=Xn)&&Yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qn&&rn(Qn,n)?null:(Qn=n,(e=ce.getPooled(zn.select,$n,e,t)).type="select",e.target=Xn,G(e),e))}var er={eventTypes:zn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Vn(o),i=h.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?F(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Xn=o,$n=t,Qn=null);break;case"blur":Qn=$n=Xn=null;break;case"mousedown":Jn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Jn=!1,Zn(n,r);case"selectionchange":if(qn)break;case"keydown":case"keyup":return Zn(n,r)}return null}};function tr(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function nr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function rr(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ir(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:bt(n)}}function or(e,t){var n=bt(t.value),r=bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ar(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),T=j,S=M,w=F,N.injectEventPluginsByName({SimpleEventPlugin:In,EnterLeaveEventPlugin:en,ChangeEventPlugin:Ht,SelectEventPlugin:er,BeforeInputEventPlugin:Ae});var sr="http://www.w3.org/1999/xhtml",ur="http://www.w3.org/2000/svg";function cr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?cr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pr=void 0,fr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==ur||"innerHTML"in e)e.innerHTML=t;else{for((pr=pr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var hr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];function _r(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||hr.hasOwnProperty(e)&&hr[e]?(""+t).trim():t+"px"}function mr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_r(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(hr).forEach((function(e){yr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hr[t]=hr[e]}))}));var gr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vr(e,t){if(t){if(gr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw a(Error(62),"")}}function Er(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function br(e,t){var n=Vn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=h[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.has(i)){switch(i){case"scroll":Un(e,"scroll",!0);break;case"focus":case"blur":Un(e,"focus",!0),Un(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":He(i)&&Un(e,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(i)&&xn(i,e)}n.add(i)}}}function Tr(){}var Sr=null,wr=null;function Or(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ar(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Rr="function"==typeof setTimeout?setTimeout:void 0,Cr="function"==typeof clearTimeout?clearTimeout:void 0;function Pr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Ir=[],Nr=-1;function kr(e){0>Nr||(e.current=Ir[Nr],Ir[Nr]=null,Nr--)}function Lr(e,t){Nr++,Ir[Nr]=e.current,e.current=t}var Dr={},xr={current:Dr},Ur={current:!1},Mr=Dr;function Fr(e,t){var n=e.type.contextTypes;if(!n)return Dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function jr(e){return null!=(e=e.childContextTypes)}function Br(e){kr(Ur),kr(xr)}function Vr(e){kr(Ur),kr(xr)}function Hr(e,t,n){if(xr.current!==Dr)throw a(Error(168));Lr(xr,t),Lr(Ur,n)}function Wr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),lt(t)||"Unknown",o);return i({},n,r)}function Kr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Dr,Mr=xr.current,Lr(xr,t),Lr(Ur,Ur.current),!0}function Gr(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=Wr(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=t,kr(Ur),kr(xr),Lr(xr,t)):kr(Ur),Lr(Ur,n)}var Yr=o.unstable_runWithPriority,qr=o.unstable_scheduleCallback,zr=o.unstable_cancelCallback,Xr=o.unstable_shouldYield,$r=o.unstable_requestPaint,Qr=o.unstable_now,Jr=o.unstable_getCurrentPriorityLevel,Zr=o.unstable_ImmediatePriority,ei=o.unstable_UserBlockingPriority,ti=o.unstable_NormalPriority,ni=o.unstable_LowPriority,ri=o.unstable_IdlePriority,ii={},oi=void 0!==$r?$r:function(){},ai=null,si=null,ui=!1,ci=Qr(),li=1e4>ci?Qr:function(){return Qr()-ci};function pi(){switch(Jr()){case Zr:return 99;case ei:return 98;case ti:return 97;case ni:return 96;case ri:return 95;default:throw a(Error(332))}}function fi(e){switch(e){case 99:return Zr;case 98:return ei;case 97:return ti;case 96:return ni;case 95:return ri;default:throw a(Error(332))}}function di(e,t){return e=fi(e),Yr(e,t)}function hi(e,t,n){return e=fi(e),qr(e,t,n)}function yi(e){return null===ai?(ai=[e],si=qr(Zr,mi)):ai.push(e),ii}function _i(){null!==si&&zr(si),mi()}function mi(){if(!ui&&null!==ai){ui=!0;var e=0;try{var t=ai;di(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ai=null}catch(t){throw null!==ai&&(ai=ai.slice(e+1)),qr(Zr,_i),t}finally{ui=!1}}}function gi(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function vi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ei={current:null},bi=null,Ti=null,Si=null;function wi(){Si=Ti=bi=null}function Oi(e,t){var n=e.type._context;Lr(Ei,n._currentValue),n._currentValue=t}function Ai(e){var t=Ei.current;kr(Ei),e.type._context._currentValue=t}function Ri(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ci(e,t){bi=e,Si=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ta=!0),e.firstContext=null)}function Pi(e,t){if(Si!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Si=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ti){if(null===bi)throw a(Error(308));Ti=t,bi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ti=Ti.next=t;return e._currentValue}var Ii=!1;function Ni(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ki(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Li(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Di(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function xi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Ni(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Ni(e.memoizedState),i=n.updateQueue=Ni(n.memoizedState)):r=e.updateQueue=ki(i):null===i&&(i=n.updateQueue=ki(r));null===i||r===i?Di(r,t):null===r.lastUpdate||null===i.lastUpdate?(Di(r,t),Di(i,t)):(Di(r,t),i.lastUpdate=t)}function Ui(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ni(e.memoizedState):Mi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Mi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ki(t)),t}function Fi(e,t,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case 2:Ii=!0}return r}function ji(e,t,n,r,i){Ii=!1;for(var o=(t=Mi(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(bs(l,u.suspenseConfig),c=Fi(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var p=u.expirationTime;p<i?(null===l&&(l=u,null===a&&(o=c)),s<p&&(s=p)):(c=Fi(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function Bi(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Vi(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Vi(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Vi(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var Hi=Ye.ReactCurrentBatchConfig,Wi=(new r.Component).refs;function Ki(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Gi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===an(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=us(),i=Hi.suspense;(i=Li(r=cs(r,e,i),i)).payload=t,null!=n&&(i.callback=n),xi(e,i),ps(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=us(),i=Hi.suspense;(i=Li(r=cs(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),xi(e,i),ps(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=us(),r=Hi.suspense;(r=Li(n=cs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),xi(e,r),ps(e,n)}};function Yi(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!rn(n,r)||!rn(i,o))}function qi(e,t,n){var r=!1,i=Dr,o=t.contextType;return"object"==typeof o&&null!==o?o=Pi(o):(i=jr(t)?Mr:xr.current,o=(r=null!=(r=t.contextTypes))?Fr(e,i):Dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function Xi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Wi;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Pi(o):(o=jr(t)?Mr:xr.current,i.context=Fr(e,o)),null!==(o=e.updateQueue)&&(ji(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Ki(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Gi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(ji(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var $i=Array.isArray;function Qi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Wi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Ji(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Zi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Fs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Vs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Qi(e,t,n),r.return=e,r):((r=js(n.type,n.key,n.props,null,e.mode,r)).ref=Qi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Bs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Vs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Xe:return(n=js(t.type,t.key,t.props,null,e.mode,n)).ref=Qi(e,null,t),n.return=e,n;case $e:return(t=Hs(t,e.mode,n)).return=e,t}if($i(t)||ct(t))return(t=Bs(t,e.mode,n,null)).return=e,t;Ji(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xe:return n.key===i?n.type===Qe?p(e,t,n.props.children,r,i):c(e,t,n,r):null;case $e:return n.key===i?l(e,t,n,r):null}if($i(n)||ct(n))return null!==i?null:p(e,t,n,r,null);Ji(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xe:return e=e.get(null===r.key?n:r.key)||null,r.type===Qe?p(t,e,r.props.children,i,r.key):c(t,e,r,i);case $e:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if($i(r)||ct(r))return p(t,e=e.get(n)||null,r,i,null);Ji(t,r)}return null}function y(i,a,s,u){for(var c=null,l=null,p=a,y=a=0,_=null;null!==p&&y<s.length;y++){p.index>y?(_=p,p=null):_=p.sibling;var m=d(i,p,s[y],u);if(null===m){null===p&&(p=_);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m,p=_}if(y===s.length)return n(i,p),c;if(null===p){for(;y<s.length;y++)null!==(p=f(i,s[y],u))&&(a=o(p,a,y),null===l?c=p:l.sibling=p,l=p);return c}for(p=r(i,p);y<s.length;y++)null!==(_=h(p,i,y,s[y],u))&&(e&&null!==_.alternate&&p.delete(null===_.key?y:_.key),a=o(_,a,y),null===l?c=_:l.sibling=_,l=_);return e&&p.forEach((function(e){return t(i,e)})),c}function _(i,s,u,c){var l=ct(u);if("function"!=typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var p=l=null,y=s,_=s=0,m=null,g=u.next();null!==y&&!g.done;_++,g=u.next()){y.index>_?(m=y,y=null):m=y.sibling;var v=d(i,y,g.value,c);if(null===v){null===y&&(y=m);break}e&&y&&null===v.alternate&&t(i,y),s=o(v,s,_),null===p?l=v:p.sibling=v,p=v,y=m}if(g.done)return n(i,y),l;if(null===y){for(;!g.done;_++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,_),null===p?l=g:p.sibling=g,p=g);return l}for(y=r(i,y);!g.done;_++,g=u.next())null!==(g=h(y,i,_,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?_:g.key),s=o(g,s,_),null===p?l=g:p.sibling=g,p=g);return e&&y.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===Qe&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Xe:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Qe:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===Qe?o.props.children:o.props)).ref=Qi(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Qe?((r=Bs(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=js(o.type,o.key,o.props,null,e.mode,u)).ref=Qi(e,r,o),u.return=e,e=u)}return s(e);case $e:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hs(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Vs(o,e.mode,u)).return=e,e=r),s(e);if($i(o))return y(e,r,o,u);if(ct(o))return _(e,r,o,u);if(l&&Ji(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var eo=Zi(!0),to=Zi(!1),no={},ro={current:no},io={current:no},oo={current:no};function ao(e){if(e===no)throw a(Error(174));return e}function so(e,t){Lr(oo,t),Lr(io,e),Lr(ro,no);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lr(null,"");break;default:t=lr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}kr(ro),Lr(ro,t)}function uo(e){kr(ro),kr(io),kr(oo)}function co(e){ao(oo.current);var t=ao(ro.current),n=lr(t,e.type);t!==n&&(Lr(io,e),Lr(ro,n))}function lo(e){io.current===e&&(kr(ro),kr(io))}var po={current:0};function fo(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=Ye.ReactCurrentDispatcher,yo=0,_o=null,mo=null,go=null,vo=null,Eo=null,bo=null,To=0,So=null,wo=0,Oo=!1,Ao=null,Ro=0;function Co(){throw a(Error(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(yo=o,_o=t,go=null!==e?e.memoizedState:null,ho.current=null===go?Wo:Ko,t=n(r,i),Oo){do{Oo=!1,Ro+=1,go=null!==e?e.memoizedState:null,bo=vo,So=Eo=mo=null,ho.current=Ko,t=n(r,i)}while(Oo);Ao=null,Ro=0}if(ho.current=Ho,(e=_o).memoizedState=vo,e.expirationTime=To,e.updateQueue=So,e.effectTag|=wo,e=null!==mo&&null!==mo.next,yo=0,bo=Eo=vo=go=mo=_o=null,To=0,So=null,wo=0,e)throw a(Error(300));return t}function No(){ho.current=Ho,yo=0,bo=Eo=vo=go=mo=_o=null,To=0,So=null,wo=0,Oo=!1,Ao=null,Ro=0}function ko(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Eo?vo=Eo=e:Eo=Eo.next=e,Eo}function Lo(){if(null!==bo)bo=(Eo=bo).next,go=null!==(mo=go)?mo.next:null;else{if(null===go)throw a(Error(310));var e={memoizedState:(mo=go).memoizedState,baseState:mo.baseState,queue:mo.queue,baseUpdate:mo.baseUpdate,next:null};Eo=null===Eo?vo=e:Eo.next=e,go=mo.next}return Eo}function Do(e,t){return"function"==typeof t?t(e):t}function xo(e){var t=Lo(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<Ro){var r=n.dispatch;if(null!==Ao){var i=Ao.get(n);if(void 0!==i){Ao.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return tn(o,t.memoizedState)||(ta=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var p=c.expirationTime;p<yo?(l||(l=!0,u=s,i=o),p>To&&(To=p)):(bs(p,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),tn(o,t.memoizedState)||(ta=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===So?(So={lastEffect:null}).lastEffect=e.next=e:null===(t=So.lastEffect)?So.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,So.lastEffect=e),e}function Mo(e,t,n,r){var i=ko();wo|=e,i.memoizedState=Uo(t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=Lo();r=void 0===r?null:r;var o=void 0;if(null!==mo){var a=mo.memoizedState;if(o=a.destroy,null!==r&&Po(r,a.deps))return void Uo(0,n,o,r)}wo|=e,i.memoizedState=Uo(t,n,o,r)}function jo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(){}function Vo(e,t,n){if(!(25>Ro))throw a(Error(301));var r=e.alternate;if(e===_o||null!==r&&r===_o)if(Oo=!0,e={expirationTime:yo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Ao&&(Ao=new Map),void 0===(n=Ao.get(t)))Ao.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=us(),o=Hi.suspense;o={expirationTime:i=cs(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,tn(l,c))return}catch(e){}ps(e,i)}}var Ho={readContext:Pi,useCallback:Co,useContext:Co,useEffect:Co,useImperativeHandle:Co,useLayoutEffect:Co,useMemo:Co,useReducer:Co,useRef:Co,useState:Co,useDebugValue:Co,useResponder:Co},Wo={readContext:Pi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:function(e,t){return Mo(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Mo(4,36,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4,36,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Vo.bind(null,_o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:function(e){var t=ko();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e}).dispatch=Vo.bind(null,_o,e),[t.memoizedState,e]},useDebugValue:Bo,useResponder:on},Ko={readContext:Pi,useCallback:function(e,t){var n=Lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Pi,useEffect:function(e,t){return Fo(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4,36,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4,36,e,t)},useMemo:function(e,t){var n=Lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:xo,useRef:function(){return Lo().memoizedState},useState:function(e){return xo(Do)},useDebugValue:Bo,useResponder:on},Go=null,Yo=null,qo=!1;function zo(e,t){var n=Us(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Xo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function $o(e){if(qo){var t=Yo;if(t){var n=t;if(!Xo(e,t)){if(!(t=Pr(n.nextSibling))||!Xo(e,t))return e.effectTag|=2,qo=!1,void(Go=e);zo(Go,n)}Go=e,Yo=Pr(t.firstChild)}else e.effectTag|=2,qo=!1,Go=e}}function Qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Go=e}function Jo(e){if(e!==Go)return!1;if(!qo)return Qo(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ar(t,e.memoizedProps))for(t=Yo;t;)zo(e,t),t=Pr(t.nextSibling);return Qo(e),Yo=Go?Pr(e.stateNode.nextSibling):null,!0}function Zo(){Yo=Go=null,qo=!1}var ea=Ye.ReactCurrentOwner,ta=!1;function na(e,t,n,r){t.child=null===e?to(t,null,n,r):eo(t,e.child,n,r)}function ra(e,t,n,r,i){n=n.render;var o=t.ref;return Ci(t,i),r=Io(e,t,n,r,o,i),null===e||ta?(t.effectTag|=1,na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ya(e,t,i))}function ia(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Ms(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=js(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,oa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:rn)(i,r)&&e.ref===t.ref)?ya(e,t,o):(t.effectTag|=1,(e=Fs(a,r)).ref=t.ref,e.return=t,t.child=e)}function oa(e,t,n,r,i,o){return null!==e&&rn(e.memoizedProps,r)&&e.ref===t.ref&&(ta=!1,i<o)?ya(e,t,o):sa(e,t,n,r,o)}function aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function sa(e,t,n,r,i){var o=jr(n)?Mr:xr.current;return o=Fr(t,o),Ci(t,i),n=Io(e,t,n,r,o,i),null===e||ta?(t.effectTag|=1,na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ya(e,t,i))}function ua(e,t,n,r,i){if(jr(n)){var o=!0;Kr(t)}else o=!1;if(Ci(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qi(t,n,r),Xi(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Pi(c):c=Fr(t,c=jr(n)?Mr:xr.current);var l=n.getDerivedStateFromProps,p="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&zi(t,a,r,c),Ii=!1;var f=t.memoizedState;u=a.state=f;var d=t.updateQueue;null!==d&&(ji(t,d,r,a,i),u=t.memoizedState),s!==r||f!==u||Ur.current||Ii?("function"==typeof l&&(Ki(t,n,l,r),u=t.memoizedState),(s=Ii||Yi(t,n,s,r,f,u,c))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:vi(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Pi(c):c=Fr(t,c=jr(n)?Mr:xr.current),(p="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&zi(t,a,r,c),Ii=!1,u=t.memoizedState,f=a.state=u,null!==(d=t.updateQueue)&&(ji(t,d,r,a,i),f=t.memoizedState),s!==r||u!==f||Ur.current||Ii?("function"==typeof l&&(Ki(t,n,l,r),f=t.memoizedState),(l=Ii||Yi(t,n,s,r,u,f,c))?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ca(e,t,n,r,o,i)}function ca(e,t,n,r,i,o){aa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Gr(t,n,!1),ya(e,t,o);r=t.stateNode,ea.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=eo(t,e.child,null,o),t.child=eo(t,null,s,o)):na(e,t,s,o),t.memoizedState=r.state,i&&Gr(t,n,!0),t.child}function la(e){var t=e.stateNode;t.pendingContext?Hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hr(0,t.context,!1),so(e,t.containerInfo)}var pa={};function fa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=po.current,s=null,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=pa,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Lr(po,a&=1),null===e)if(u){if(o=o.fallback,(e=Bs(null,i,0,null)).return=t,0==(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=Bs(o,i,n,null)).return=t,e.sibling=n,i=e}else i=n=to(t,null,o.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,u){if(o=o.fallback,(n=Fs(a,a.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=Fs(i,o,i.expirationTime)).return=t,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=eo(t,a.child,o.children,n);else if(a=e.child,u){if(u=o.fallback,(o=Bs(null,i,0,null)).return=t,o.child=a,null!==a&&(a.return=o),0==(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=Bs(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=eo(t,a,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,n}function da(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(na(e,t,r.children,n),0!=(2&(r=po.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Ri(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lr(po,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),da(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}da(t,!0,n,null,o);break;case"together":da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Fs(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fs(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function _a(e){e.effectTag|=4}var ma,ga,va;function Ea(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ba(e){switch(e.tag){case 1:jr(e.type)&&Br();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(uo(),Vr(),0!=(64&(t=e.effectTag)))throw a(Error(285));return e.effectTag=-2049&t|64,e;case 5:return lo(e),null;case 13:return kr(po),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return kr(po),null;case 4:return uo(),null;case 10:return Ai(e),null;default:return null}}function Ta(e,t){return{value:e,source:t,stack:pt(t)}}ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ga=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(ao(ro.current),e=null,n){case"input":a=Tt(s,a),r=Tt(s,r),e=[];break;case"option":a=tr(s,a),r=tr(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=rr(s,a),r=rr(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=Tr)}vr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(d.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(d.hasOwnProperty(n)?(null!=l&&br(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&_a(t)}},va=function(e,t,n,r){n!==r&&_a(t)};var Sa="function"==typeof WeakSet?WeakSet:Set;function wa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=pt(n)),null!==n&&lt(n.type),t=t.value,null!==e&&1===e.tag&&lt(e.type)}function Oa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ps(e,t)}else t.current=null}function Aa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ra(e,t){switch("function"==typeof Ds&&Ds(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;di(97<t?97:t,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(e){Ps(i,e)}}t=t.next}while(t!==r)}))}break;case 1:Oa(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ps(e,t)}}(e,t);break;case 5:Oa(e);break;case 4:Na(e,t)}}function Ca(e,t){for(var n=e;;)if(Ra(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Pa(e){return 5===e.tag||3===e.tag||4===e.tag}function Ia(e){e:{for(var t=e.return;null!==t;){if(Pa(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(dr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==o.onclick||(o.onclick=Tr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Na(e,t){for(var n=e,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(Ca(n,t),o){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,Ca(n,t),o?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Ra(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Aa(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[x]=r,"input"===e&&"radio"===r.type&&null!=r.name&&wt(n,r),Er(e,i),t=Er(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?mr(n,u):"dangerouslySetInnerHTML"===s?fr(n,u):"children"===s?dr(n,u):Et(n,s,u,t)}switch(e){case"input":Ot(n,r);break;case"textarea":or(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?nr(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?nr(n,!!r.multiple,r.defaultValue,!0):nr(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Xa=li()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=_r("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}La(t);break;case 19:La(t);break;case 17:case 20:break;default:throw a(Error(163))}}function La(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Sa),t.forEach((function(t){var r=Ns.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Da="function"==typeof WeakMap?WeakMap:Map;function xa(e,t,n){(n=Li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qa||(Qa=!0,Ja=r),wa(e,t)},n}function Ua(e,t,n){(n=Li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return wa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Za?Za=new Set([this]):Za.add(this),wa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ma=Math.ceil,Fa=Ye.ReactCurrentDispatcher,ja=Ye.ReactCurrentOwner,Ba=0,Va=null,Ha=null,Wa=0,Ka=0,Ga=1073741823,Ya=1073741823,qa=null,za=!1,Xa=0,$a=null,Qa=!1,Ja=null,Za=null,es=!1,ts=null,ns=90,rs=0,is=null,os=0,as=null,ss=0;function us(){return 0!=(48&Ba)?1073741821-(li()/10|0):0!==ss?ss:ss=1073741821-(li()/10|0)}function cs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=pi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ba))return Wa;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw a(Error(326))}return null!==Va&&e===Wa&&--e,e}var ls=0;function ps(e,t){if(50<os)throw os=0,as=null,a(Error(185));if(null!==(e=fs(e,t))){e.pingTime=0;var n=pi();if(1073741823===t)if(0!=(8&Ba)&&0==(48&Ba))for(var r=Es(e,1073741823,!0);null!==r;)r=r(!0);else ds(e,99,1073741823),0===Ba&&_i();else ds(e,n,t);0==(4&Ba)||98!==n&&99!==n||(null===is?is=new Map([[e,t]]):(void 0===(n=is.get(e))||n>t)&&is.set(e,t))}}function fs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function ds(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ii&&zr(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=yi(hs.bind(null,e,Es.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-li()}),e.callbackNode=hi(t,hs.bind(null,e,Es.bind(null,e,n)),r))}}function hs(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?hs.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function ys(){0==(49&Ba)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e,t){yi(Es.bind(null,t,e))})),_i()}}(),As())}function _s(e,t){var n=Ba;Ba|=1;try{return e(t)}finally{0===(Ba=n)&&_i()}}function ms(e,t,n,r){var i=Ba;Ba|=4;try{return di(98,e.bind(null,t,n,r))}finally{0===(Ba=i)&&_i()}}function gs(e,t){var n=Ba;Ba&=-2,Ba|=8;try{return e(t)}finally{0===(Ba=n)&&_i()}}function vs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cr(n)),null!==Ha)for(n=Ha.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Br();break;case 3:uo(),Vr();break;case 5:lo(r);break;case 4:uo();break;case 13:case 19:kr(po);break;case 10:Ai(r)}n=n.return}Va=e,Ha=Fs(e.current,null),Wa=t,Ka=0,Ya=Ga=1073741823,qa=null,za=!1}function Es(e,t,n){if(0!=(48&Ba))throw a(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return ws.bind(null,e);if(As(),e!==Va||t!==Wa)vs(e,t);else if(3===Ka)if(za)vs(e,t);else{var r=e.lastPendingTime;if(r<t)return Es.bind(null,e,r)}if(null!==Ha){r=Ba,Ba|=16;var i=Fa.current;if(null===i&&(i=Ho),Fa.current=Ho,n){if(1073741823!==t){var o=us();if(o<t)return Ba=r,wi(),Fa.current=i,Es.bind(null,e,o)}}else ss=0;for(;;)try{if(n)for(;null!==Ha;)Ha=Ts(Ha);else for(;null!==Ha&&!Xr();)Ha=Ts(Ha);break}catch(n){if(wi(),No(),null===(o=Ha)||null===o.return)throw vs(e,t),Ba=r,n;e:{var s=e,u=o.return,c=o,l=n,p=Wa;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var f=l,d=0!=(1&po.current);l=u;do{var h;if((h=13===l.tag)&&(null!==l.memoizedState?h=!1:h=void 0!==(h=l.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!d)),h){if(null===(u=l.updateQueue)?((u=new Set).add(f),l.updateQueue=u):u.add(f),0==(2&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((p=Li(1073741823,null)).tag=2,xi(c,p))),c.expirationTime=1073741823;break e}c=s,s=p,null===(d=c.pingCache)?(d=c.pingCache=new Da,u=new Set,d.set(f,u)):void 0===(u=d.get(f))&&(u=new Set,d.set(f,u)),u.has(s)||(u.add(s),c=Is.bind(null,c,f,s),f.then(c,c)),l.effectTag|=2048,l.expirationTime=p;break e}l=l.return}while(null!==l);l=Error((lt(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+pt(c))}4!==Ka&&(Ka=1),l=Ta(l,c),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=p,Ui(c,p=xa(c,l,p));break e;case 1:if(f=l,s=c.type,u=c.stateNode,0==(64&c.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Za||!Za.has(u)))){c.effectTag|=2048,c.expirationTime=p,Ui(c,p=Ua(c,f,p));break e}}c=c.return}while(null!==c)}Ha=Ss(o)}if(Ba=r,wi(),Fa.current=i,null!==Ha)return Es.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(hi(97,(function(){return n._onComplete(),null})),!0)}(e,t))return null;switch(Va=null,Ka){case 0:throw a(Error(328));case 1:return(r=e.lastPendingTime)<t?Es.bind(null,e,r):n?ws.bind(null,e):(vs(e,t),yi(Es.bind(null,e,t)),null);case 2:return 1073741823===Ga&&!n&&10<(n=Xa+500-li())?za?(vs(e,t),Es.bind(null,e,t)):(r=e.lastPendingTime)<t?Es.bind(null,e,r):(e.timeoutHandle=Rr(ws.bind(null,e),n),null):ws.bind(null,e);case 3:if(!n){if(za)return vs(e,t),Es.bind(null,e,t);if((n=e.lastPendingTime)<t)return Es.bind(null,e,n);if(1073741823!==Ya?n=10*(1073741821-Ya)-li():1073741823===Ga?n=0:(n=10*(1073741821-Ga)-5e3,0>(n=(r=li())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ma(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=Rr(ws.bind(null,e),n),null}return ws.bind(null,e);case 4:return!n&&1073741823!==Ga&&null!==qa&&(r=Ga,0>=(t=0|(i=qa).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=li()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=Rr(ws.bind(null,e),t),null):ws.bind(null,e);default:throw a(Error(329))}}function bs(e,t){e<Ga&&1<e&&(Ga=e),null!==t&&e<Ya&&1<e&&(Ya=e,qa=t)}function Ts(e){var t=ks(e.alternate,e,Wa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ss(e)),ja.current=null,t}function Ss(e){Ha=e;do{var t=Ha.alternate;if(e=Ha.return,0==(1024&Ha.effectTag)){e:{var n=t,r=Wa,o=(t=Ha).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:jr(t.type)&&Br();break;case 3:uo(),Vr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(Jo(t),t.effectTag&=-3);break;case 5:lo(t),r=ao(oo.current);var s=t.type;if(null!==n&&null!=t.stateNode)ga(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=ao(ro.current);if(Jo(t)){o=void 0,s=(n=t).stateNode;var c=n.type,l=n.memoizedProps;switch(s[D]=n,s[x]=l,c){case"iframe":case"object":case"embed":xn("load",s);break;case"video":case"audio":for(var p=0;p<ne.length;p++)xn(ne[p],s);break;case"source":xn("error",s);break;case"img":case"image":case"link":xn("error",s),xn("load",s);break;case"form":xn("reset",s),xn("submit",s);break;case"details":xn("toggle",s);break;case"input":St(s,l),xn("invalid",s),br(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},xn("invalid",s),br(r,"onChange");break;case"textarea":ir(s,l),xn("invalid",s),br(r,"onChange")}for(o in vr(c,l),p=null,l)l.hasOwnProperty(o)&&(u=l[o],"children"===o?"string"==typeof u?s.textContent!==u&&(p=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(p=["children",""+u]):d.hasOwnProperty(o)&&null!=u&&br(r,o));switch(c){case"input":Ke(s),At(s,l,!0);break;case"textarea":Ke(s),ar(s);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(s.onclick=Tr)}r=p,n.updateQueue=r,null!==r&&_a(t)}else{l=s,n=o,c=t,p=9===r.nodeType?r:r.ownerDocument,u===sr&&(u=cr(l)),u===sr?"script"===l?((l=p.createElement("div")).innerHTML="<script><\/script>",p=l.removeChild(l.firstChild)):"string"==typeof n.is?p=p.createElement(l,{is:n.is}):(p=p.createElement(l),"select"===l&&(l=p,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):p=p.createElementNS(u,l),(l=p)[D]=c,l[x]=n,ma(n=l,t),c=n;var f=r,h=Er(s,o);switch(s){case"iframe":case"object":case"embed":xn("load",c),r=o;break;case"video":case"audio":for(r=0;r<ne.length;r++)xn(ne[r],c);r=o;break;case"source":xn("error",c),r=o;break;case"img":case"image":case"link":xn("error",c),xn("load",c),r=o;break;case"form":xn("reset",c),xn("submit",c),r=o;break;case"details":xn("toggle",c),r=o;break;case"input":St(c,o),r=Tt(c,o),xn("invalid",c),br(f,"onChange");break;case"option":r=tr(c,o);break;case"select":c._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),xn("invalid",c),br(f,"onChange");break;case"textarea":ir(c,o),r=rr(c,o),xn("invalid",c),br(f,"onChange");break;default:r=o}vr(s,r),l=void 0,p=s,u=c;var y=r;for(l in y)if(y.hasOwnProperty(l)){var _=y[l];"style"===l?mr(u,_):"dangerouslySetInnerHTML"===l?null!=(_=_?_.__html:void 0)&&fr(u,_):"children"===l?"string"==typeof _?("textarea"!==p||""!==_)&&dr(u,_):"number"==typeof _&&dr(u,""+_):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(d.hasOwnProperty(l)?null!=_&&br(f,l):null!=_&&Et(u,l,_,h))}switch(s){case"input":Ke(c),At(c,o,!1);break;case"textarea":Ke(c),ar(c);break;case"option":null!=o.value&&c.setAttribute("value",""+bt(o.value));break;case"select":r=c,c=o,r.multiple=!!c.multiple,null!=(l=c.value)?nr(r,!!c.multiple,l,!1):null!=c.defaultValue&&nr(r,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=Tr)}Or(s,o)&&_a(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)va(0,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw a(Error(166));n=ao(oo.current),ao(ro.current),Jo(t)?(r=t.stateNode,n=t.memoizedProps,r[D]=t,r.nodeValue!==n&&_a(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[D]=t,r.stateNode=n)}break;case 11:break;case 13:if(kr(po),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?Jo(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&po.current)?0===Ka&&(Ka=2):0!==Ka&&2!==Ka||(Ka=3)),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:uo();break;case 10:Ai(t);break;case 9:case 14:break;case 17:jr(t.type)&&Br();break;case 18:break;case 19:if(kr(po),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(c=o.rendering)){if(s)Ea(o,!1);else if(0!==Ka||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=fo(n))){for(t.effectTag|=64,Ea(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,s=c.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Lr(po,1&po.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=fo(c))){if(t.effectTag|=64,s=!0,Ea(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else li()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Ea(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=li()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,n=po.current,Lr(po,n=s?1&n|2:1&n),t=r;break e}break;case 20:break;default:throw a(Error(156))}t=null}if(r=Ha,1===Wa||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(c=o.childExpirationTime)>n&&(n=c),o=o.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ha.firstEffect),null!==Ha.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ha.firstEffect),e.lastEffect=Ha.lastEffect),1<Ha.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ha:e.firstEffect=Ha,e.lastEffect=Ha))}else{if(null!==(t=ba(Ha)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=Ha.sibling))return t;Ha=e}while(null!==Ha);return 0===Ka&&(Ka=4),null}function ws(e){var t=pi();return di(99,Os.bind(null,e,t)),null!==ts&&hi(97,(function(){return As(),null})),null}function Os(e,t){if(As(),0!=(48&Ba))throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===Va&&(Ha=Va=null,Wa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=Ba,Ba|=32,ja.current=null,Sr=Dn;var s=Gn();if(Yn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{u.nodeType,p.nodeType}catch(e){u=null;break e}var f=0,d=-1,h=-1,y=0,_=0,m=s,g=null;t:for(;;){for(var v;m!==u||0!==l&&3!==m.nodeType||(d=f+l),m!==p||0!==c&&3!==m.nodeType||(h=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===s)break t;if(g===u&&++y===l&&(d=f),g===p&&++_===c&&(h=f),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}u=-1===d||-1===h?null:{start:d,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;wr={focusedElem:s,selectionRange:u},Dn=!1,$a=i;do{try{for(;null!==$a;){if(0!=(256&$a.effectTag)){var E=$a.alternate;switch((s=$a).tag){case 0:case 11:case 15:Aa(2,0,s);break;case 1:if(256&s.effectTag&&null!==E){var b=E.memoizedProps,T=E.memoizedState,S=s.stateNode,w=S.getSnapshotBeforeUpdate(s.elementType===s.type?b:vi(s.type,b),T);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}$a=$a.nextEffect}}catch(e){if(null===$a)throw a(Error(330));Ps($a,e),$a=$a.nextEffect}}while(null!==$a);$a=i;do{try{for(E=t;null!==$a;){var O=$a.effectTag;if(16&O&&dr($a.stateNode,""),128&O){var A=$a.alternate;if(null!==A){var R=A.ref;null!==R&&("function"==typeof R?R(null):R.current=null)}}switch(14&O){case 2:Ia($a),$a.effectTag&=-3;break;case 6:Ia($a),$a.effectTag&=-3,ka($a.alternate,$a);break;case 4:ka($a.alternate,$a);break;case 8:Na(b=$a,E),b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null;var C=b.alternate;null!==C&&(C.return=null,C.child=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null)}$a=$a.nextEffect}}catch(e){if(null===$a)throw a(Error(330));Ps($a,e),$a=$a.nextEffect}}while(null!==$a);if(R=wr,A=Gn(),O=R.focusedElem,E=R.selectionRange,A!==O&&O&&O.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(O.ownerDocument.documentElement,O)){null!==E&&Yn(O)&&(A=E.start,void 0===(R=E.end)&&(R=A),"selectionStart"in O?(O.selectionStart=A,O.selectionEnd=Math.min(R,O.value.length)):(R=(A=O.ownerDocument||document)&&A.defaultView||window).getSelection&&(R=R.getSelection(),b=O.textContent.length,C=Math.min(E.start,b),E=void 0===E.end?C:Math.min(E.end,b),!R.extend&&C>E&&(b=E,E=C,C=b),b=Kn(O,C),T=Kn(O,E),b&&T&&(1!==R.rangeCount||R.anchorNode!==b.node||R.anchorOffset!==b.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)&&((A=A.createRange()).setStart(b.node,b.offset),R.removeAllRanges(),C>E?(R.addRange(A),R.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),R.addRange(A))))),A=[];for(R=O;R=R.parentNode;)1===R.nodeType&&A.push({element:R,left:R.scrollLeft,top:R.scrollTop});for("function"==typeof O.focus&&O.focus(),O=0;O<A.length;O++)(R=A[O]).element.scrollLeft=R.left,R.element.scrollTop=R.top}wr=null,Dn=!!Sr,Sr=null,e.current=n,$a=i;do{try{for(O=r;null!==$a;){var P=$a.effectTag;if(36&P){var I=$a.alternate;switch(R=O,(A=$a).tag){case 0:case 11:case 15:Aa(16,32,A);break;case 1:var N=A.stateNode;if(4&A.effectTag)if(null===I)N.componentDidMount();else{var k=A.elementType===A.type?I.memoizedProps:vi(A.type,I.memoizedProps);N.componentDidUpdate(k,I.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var L=A.updateQueue;null!==L&&Bi(0,L,N);break;case 3:var D=A.updateQueue;if(null!==D){if(C=null,null!==A.child)switch(A.child.tag){case 5:C=A.child.stateNode;break;case 1:C=A.child.stateNode}Bi(0,D,C)}break;case 5:var x=A.stateNode;null===I&&4&A.effectTag&&(R=x,Or(A.type,A.memoizedProps)&&R.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&P){var U=$a.ref;if(null!==U){var M=$a.stateNode;switch($a.tag){case 5:var F=M;break;default:F=M}"function"==typeof U?U(F):U.current=F}}512&P&&(es=!0),$a=$a.nextEffect}}catch(e){if(null===$a)throw a(Error(330));Ps($a,e),$a=$a.nextEffect}}while(null!==$a);$a=null,oi(),Ba=o}else e.current=n;if(es)es=!1,ts=e,rs=r,ns=t;else for($a=i;null!==$a;)t=$a.nextEffect,$a.nextEffect=null,$a=t;if(0!==(t=e.firstPendingTime)?ds(e,P=gi(P=us(),t),t):Za=null,"function"==typeof Ls&&Ls(n.stateNode,r),1073741823===t?e===as?os++:(os=0,as=e):os=0,Qa)throw Qa=!1,e=Ja,Ja=null,e;return 0!=(8&Ba)?null:(_i(),null)}function As(){if(null===ts)return!1;var e=ts,t=rs,n=ns;return ts=null,rs=0,ns=90,di(97<n?97:n,Rs.bind(null,e,t))}function Rs(e){if(0!=(48&Ba))throw a(Error(331));var t=Ba;for(Ba|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Aa(128,0,n),Aa(0,64,n)}}catch(t){if(null===e)throw a(Error(330));Ps(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ba=t,_i(),!0}function Cs(e,t,n){xi(e,t=xa(e,t=Ta(n,t),1073741823)),null!==(e=fs(e,1073741823))&&ds(e,99,1073741823)}function Ps(e,t){if(3===e.tag)Cs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Cs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Za||!Za.has(r))){xi(n,e=Ua(n,e=Ta(t,e),1073741823)),null!==(n=fs(n,1073741823))&&ds(n,99,1073741823);break}}n=n.return}}function Is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Va===e&&Wa===n?3===Ka||2===Ka&&1073741823===Ga&&li()-Xa<500?vs(e,Wa):za=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),ds(e,t=gi(t=us(),n),n)))}function Ns(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=gi(n=us(),t=cs(n,e,null)),null!==(e=fs(e,t))&&ds(e,n,t)}var ks=void 0;ks=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ur.current)ta=!0;else if(r<n){switch(ta=!1,t.tag){case 3:la(t),Zo();break;case 5:if(co(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:jr(t.type)&&Kr(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:Oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?fa(e,t,n):(Lr(po,1&po.current),null!==(t=ya(e,t,n))?t.sibling:null);Lr(po,1&po.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ha(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Lr(po,po.current),!r)return null}return ya(e,t,n)}}else ta=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Fr(t,xr.current),Ci(t,n),i=Io(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,No(),jr(r)){var o=!0;Kr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Ki(t,r,s,e),i.updater=Gi,t.stateNode=i,i._reactInternalFiber=t,Xi(t,r,e,n),t=ca(null,t,r,!0,o,n)}else t.tag=0,na(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ms(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===at)return 14}return 2}(i),e=vi(i,e),o){case 0:t=sa(null,t,i,e,n);break;case 1:t=ua(null,t,i,e,n);break;case 11:t=ra(null,t,i,e,n);break;case 14:t=ia(null,t,i,vi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,sa(e,t,r,i=t.elementType===r?i:vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ua(e,t,r,i=t.elementType===r?i:vi(r,i),n);case 3:if(la(t),null===(r=t.updateQueue))throw a(Error(282));return i=null!==(i=t.memoizedState)?i.element:null,ji(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(Zo(),t=ya(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Yo=Pr(t.stateNode.containerInfo.firstChild),Go=t,i=qo=!0),i?(t.effectTag|=2,t.child=to(t,null,r,n)):(na(e,t,r,n),Zo()),t=t.child),t;case 5:return co(t),null===e&&$o(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ar(r,i)?s=null:null!==o&&Ar(r,o)&&(t.effectTag|=16),aa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(na(e,t,s,n),t=t.child),t;case 6:return null===e&&$o(t),null;case 13:return fa(e,t,n);case 4:return so(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=eo(t,null,r,n):na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ra(e,t,r,i=t.elementType===r?i:vi(r,i),n);case 7:return na(e,t,t.pendingProps,n),t.child;case 8:case 12:return na(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Oi(t,o=i.value),null!==s){var u=s.value;if(0===(o=tn(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Ur.current){t=ya(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=Li(n,null)).tag=2,xi(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Ri(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ci(t,n),r=r(i=Pi(i,o.unstable_observedBits)),t.effectTag|=1,na(e,t,r,n),t.child;case 14:return o=vi(i=t.type,t.pendingProps),ia(e,t,i,o=vi(i.type,o),r,n);case 15:return oa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,jr(r)?(e=!0,Kr(t)):e=!1,Ci(t,n),qi(t,r,i),Xi(t,r,i,n),ca(null,t,r,!0,e,n);case 19:return ha(e,t,n)}throw a(Error(156))};var Ls=null,Ds=null;function xs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Us(e,t,n,r){return new xs(e,t,n,r)}function Ms(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fs(e,t){var n=e.alternate;return null===n?((n=Us(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function js(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Ms(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Qe:return Bs(n.children,i,o,t);case nt:s=8,i|=7;break;case Je:s=8,i|=1;break;case Ze:return(e=Us(12,n,t,8|i)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case it:return(e=Us(13,n,t,i)).type=it,e.elementType=it,e.expirationTime=o,e;case ot:return(e=Us(19,n,t,i)).elementType=ot,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case at:s=14;break e;case st:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=Us(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Bs(e,t,n,r){return(e=Us(7,e,r,t)).expirationTime=n,e}function Vs(e,t,n){return(e=Us(6,e,null,t)).expirationTime=n,e}function Hs(e,t,n){return(t=Us(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ws(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function Ks(e,t,n){return e=new Ws(e,t,n),t=Us(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function Gs(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(2!==an(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(jr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(jr(c)){n=Wr(n,c,u);break e}}n=u}else n=Dr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=Li(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),xi(s,i),ps(s,r),r}function Ys(e,t,n,r){var i=t.current,o=us(),a=Hi.suspense;return Gs(e,t,n,i=cs(o,i,a),a,r)}function qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xs(e){var t=1073741821-25*(1+((1073741821-us()+500)/25|0));t<=ls&&--t,this._expirationTime=ls=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function $s(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Qs(e,t,n){this._internalRoot=Ks(e,t,n)}function Js(e,t){this._internalRoot=Ks(e,2,t)}function Zs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(e,t,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=qs(a);s.call(e)}}Ys(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Qs(e,0,t)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=qs(a);u.call(e)}}gs((function(){Ys(t,a,e,i)}))}return qs(a)}function tu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zs(t))throw a(Error(200));return zs(e,t,null,n)}Re=function(e,t,n){switch(t){case"input":if(Ot(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=j(r);if(!i)throw a(Error(90));Ge(r),Ot(r,i)}}}break;case"textarea":or(e,n);break;case"select":null!=(t=n.value)&&nr(e,!!n.multiple,t,!1)}},Xs.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new $s;return Gs(e,t,null,n,null,r._onCommit),r},Xs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Xs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,0!=(48&Ba))throw a(Error(253));yi(Es.bind(null,e,t)),_i(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Xs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},$s.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},$s.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)throw a(Error(191),n);n()}}},Js.prototype.render=Qs.prototype.render=function(e,t){var n=this._internalRoot,r=new $s;return null!==(t=void 0===t?null:t)&&r.then(t),Ys(e,n,null,r._onCommit),r},Js.prototype.unmount=Qs.prototype.unmount=function(e){var t=this._internalRoot,n=new $s;return null!==(e=void 0===e?null:e)&&n.then(e),Ys(null,t,null,n._onCommit),n},Js.prototype.createBatch=function(){var e=new Xs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Le=_s,De=ms,xe=ys,Ue=function(e,t){var n=Ba;Ba|=2;try{return e(t)}finally{0===(Ba=n)&&_i()}};var nu,ru,iu={createPortal:tu,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=un(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!Zs(t))throw a(Error(200));return eu(null,e,t,!0,n)},render:function(e,t,n){if(!Zs(t))throw a(Error(200));return eu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!Zs(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return eu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!Zs(e))throw a(Error(40));return!!e._reactRootContainer&&(gs((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return tu.apply(void 0,arguments)},unstable_batchedUpdates:_s,unstable_interactiveUpdates:function(e,t,n,r){return ys(),ms(e,t,n,r)},unstable_discreteUpdates:ms,unstable_flushDiscreteUpdates:ys,flushSync:function(e,t){if(0!=(48&Ba))throw a(Error(187));var n=Ba;Ba|=1;try{return di(99,e.bind(null,t))}finally{Ba=n,_i()}},unstable_createRoot:function(e,t){if(!Zs(e))throw a(Error(299),"unstable_createRoot");return new Js(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!Zs(e))throw a(Error(299),"unstable_createRoot");return new Qs(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=Ba;Ba|=1;try{di(99,e)}finally{0===(Ba=t)&&_i()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,F,j,N.injectEventPluginsByName,f,G,function(e){R(e,K)},Ne,ke,jn,I,As,{current:!1}]}};ru=(nu={findFiberByHostInstance:U,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ls=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ds=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},nu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=un(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ru?ru(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var ou={default:iu},au=ou&&iu||ou;e.exports=au.default||au},"9zqp":function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},AQRb:function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return ft})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return _t})),n.d(t,"a",(function(){return en})),n.d(t,"f",(function(){return tn})),function(e){e.CAPPING_USER_IS_CAPPED="CAPPING_USER_IS_CAPPED",e.EME_API_NOT_SUPPORTED="EME_API_NOT_SUPPORTED",e.EME_MEDIA_KEYS_NOT_SUPPORTED="EME_MEDIA_KEYS_NOT_SUPPORTED",e.EME_MEDIA_KEY_SESSION_NOT_SUPPORTED="EME_MEDIA_KEY_SESSION_NOT_SUPPORTED",e.EME_NO_SUPPORTED_KEYSYSTEM="EME_NO_SUPPORTED_KEYSYSTEM",e.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED="EME_PLAYER_MEDIA_KEYS_SETTING_FAILED",e.EME_ERROR_UNKNOWN="EME_ERROR_UNKNOWN",e.EME_LICENSE_REQUEST_EMPTY_RESPONSE="EME_LICENSE_REQUEST_EMPTY_RESPONSE",e.EME_LICENSE_REQUEST_FAILED_WITH_STATUS="EME_LICENSE_REQUEST_FAILED_WITH_STATUS",e.EME_LICENSE_REQUEST_WIDEVINE_ERROR="EME_LICENSE_REQUEST_WIDEVINE_ERROR",e.EME_LICENSE_UPDATE_FAILED="EME_LICENSE_UPDATE_FAILED",e.EME_HEADER_KEY_VALUE_MISMATCH="EME_HEADER_KEY_VALUE_MISMATCH",e.EME_HEADER_MISSING_CHALLENGE="EME_HEADER_MISSING_CHALLENGE",e.EME_INIT_DATA_MALFORMED="EME_INIT_DATA_MALFORMED",e.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM="EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM",e.EME_MEDIA_KEY_SESSION_V0_1B_ERROR="EME_MEDIA_KEY_SESSION_V0_1B_ERROR",e.EME_MEDIA_KEY_SESSION_SAFARI_ERROR="EME_MEDIA_KEY_SESSION_SAFARI_ERROR",e.EME_NO_SUPPORTED_CONFIGURATION="EME_NO_SUPPORTED_CONFIGURATION",e.EME_NOT_SUPPORTED_ERROR="EME_NOT_SUPPORTED_ERROR",e.EME_INVALID_STATE_ERROR="EME_INVALID_STATE_ERROR",e.EME_UNKNOWN_ERROR="EME_UNKNOWN_ERROR",e.DISALLOW_PROTECTED_TRACK_ERROR="DISALLOW_PROTECTED_TRACK_ERROR",e.FILE_FORMAT_NOT_SUPPORTED="FILE_FORMAT_NOT_SUPPORTED",e.FILE_MALFORMED_SEEKTABLE="FILE_MALFORMED_SEEKTABLE",e.FILE_MALFORMED_PSSH="FILE_MALFORMED_PSSH",e.FILE_NOT_RESOLVED="FILE_NOT_RESOLVED",e.FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO="FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO="FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_REQUEST_FAILED_WITH_ZERO="FRAGMENT_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_REQUEST_FAILED_WITH_STATUS="FRAGMENT_REQUEST_FAILED_WITH_STATUS",e.FRAGMENT_REQUEST_EMPTY_RESPONSE="FRAGMENT_REQUEST_EMPTY_RESPONSE",e.FRAGMENT_REQUEST_UNEXPECTED_LENGTH="FRAGMENT_REQUEST_UNEXPECTED_LENGTH",e.PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE="PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE",e.PLAYER_BUFFER_QUOTA_EXCEEDED="PLAYER_BUFFER_QUOTA_EXCEEDED",e.PLAYER_CANNOT_FIND_PLAYABLE_URI="PLAYER_CANNOT_FIND_PLAYABLE_URI",e.PLAYER_MEDIA_ERROR="PLAYER_MEDIA_ERROR",e.PLAYER_PLAYBACK_ERROR="PLAYER_PLAYBACK_ERROR",e.MEDIA_ABORTED="MEDIA_ABORTED",e.MEDIA_DECODING_ERROR="MEDIA_DECODING_ERROR",e.MEDIA_NETWORK_ERROR="MEDIA_NETWORK_ERROR",e.MEDIA_NOT_SUPPORTED="MEDIA_NOT_SUPPORTED",e.LICENSE_RESOLVE_INVALID_RESPONSE="LICENSE_RESOLVE_INVALID_RESPONSE",e.LICENSE_RESOLVER_CANT_RESOLVE_URL="LICENSE_RESOLVER_CANT_RESOLVE_URL",e.LICENSE_RESOLVER_DEPRECATED_VERSION="LICENSE_RESOLVER_DEPRECATED_VERSION",e.LIST_PLAYER_NO_TRACK_PLAYER="LIST_PLAYER_NO_TRACK_PLAYER",e.LIST_PLAYER_NO_LIST="LIST_PLAYER_NO_LIST",e.LIST_PLAYER_INVALID_ARGUMENT="LIST_PLAYER_INVALID_ARGUMENT",e.LIST_PLAYER_FORBIDDEN="LIST_PLAYER_FORBIDDEN",e.STORAGE_ERROR="STORAGE_ERROR",e.STORAGE_FAILED_WITH_STATUS="STORAGE_FAILED_WITH_STATUS",e.STORAGE_RETURNED_NO_TRACKS="STORAGE_RETURNED_NO_TRACKS",e.STORAGE_TRACK_MANIFEST_FAILED="STORAGE_TRACK_MANIFEST_FAILED",e.STORAGE_TRACK_MANIFEST_EMPTY="STORAGE_TRACK_MANIFEST_EMPTY",e.STORAGE_VIDEO_MANIFEST_FAILED="STORAGE_VIDEO_MANIFEST_FAILED",e.TRACK_DATA_ALREADY_FINALIZED="TRACK_DATA_ALREADY_FINALIZED",e.TSV_SENDING_FAILED="TSV_SENDING_FAILED",e.PLAYBACK_STATS_SENDING_FAILED="PLAYBACK_STATS_SENDING_FAILED",e.PLAYBACK_START_SENDING_FAILED="PLAYBACK_START_SENDING_FAILED",e.UNKNOWN="UNKNOWN"}(r||(r={}));var i,o=n("ZK1A");!function(e){e.USER_INFO_REQUEST_EMPTY_RESPONSE="USER_INFO_REQUEST_EMPTY_RESPONSE",e.USER_INFO_REQUEST_FAILED_WITH_STATUS="USER_INFO_REQUEST_FAILED_WITH_STATUS",e.HARMONY_NO_TRACKS_LOADED="HARMONY_NO_TRACKS_LOADED",e.HARMONY_OPERATION_FORBIDDEN="HARMONY_OPERATION_FORBIDDEN",e.HARMONY_LOCAL_PLAYER_DISABLED="HARMONY_LOCAL_PLAYER_DISABLED",e.CONNECTAPI_CLIENT_INVALID_ARGUMENTS="CONNECTAPI_CLIENT_INVALID_ARGUMENTS",e.CONNECTAPI_CLIENT_NO_CONNECTION_ID="CONNECT_API_CLIENT_NO_CONNECTION_ID",e.CONNECTAPI_CLIENT_NO_DEVICE="CONNECTAPI_CLIENT_NO_DEVICE",e.CONNECTAPI_CLIENT_NO_SESSION_ID="CONNECTAPI_CLIENT_NO_SESSION_ID",e.CONNECTAPI_CLIENT_NO_STATE="CONNECTAPI_CLIENT_NO_STATE",e.CONNECTAPI_CLIENT_INVALID_POSITION="CONNECT_API_CLIENT_INVALID_POSITION",e.CONNECTAPI_CLIENT_INVALID_VOLUME="CONNECT_API_CLIENT_INVALID_VOLUME",e.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED="CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED",e.CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS="CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS",e.TP_NO_RESPONSE_BODY="TP_NO_RESPONSE_BODY",e.TP_REGISTRATION_FAILED_NON_PREMIUM="TP_REGISTRATION_FAILED_NON_PREMIUM",e.TP_REGISTRATION_FAILED_WITH_STATUS="TP_REGISTRATION_FAILED_WITH_STATUS",e.TP_MAX_SUBSCRIPTIONS_REACHED="TP_MAX_SUBSCRIPTIONS_REACHED",e.TP_UPDATE_REQUEST_EMPTY_RESPONSE="TP_UPDATE_REQUEST_EMPTY_RESPONSE",e.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS="TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS",e.TP_UNKNOWN_COMMAND="TP_UNKNOWN_COMMAND",e.TP_CANNOT_CREATE_STATE_REF="TP_CANNOT_CREATE_STATE_REF",e.TP_MISSING_INITIAL_STATE="TP_MISSING_INITIAL_STATE",e.TP_INVALID_STATE_REFERENCE="TP_INVALID_STATE_REFERENCE",e.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS="TP_CONFLICT_REQUEST_FAILED_WITH_STATUS"}(i||(i={}));n("cMU9");var a=n("vJSb");var s,u=n("j9kN");!function(e){e.APPLOAD="appload",e.BACK_BUTTON="backbtn",e.CLICK_ROW="clickrow",e.CLICK_SIDE="clickside",e.END_PLAY="endplay",e.FORWARD_BUTTON="fwdbtn",e.LOGOUT="logout",e.PLAY_BUTTON="playbtn",e.POPUP="popup",e.REMOTE="remote",e.TRACK_DONE="trackdone",e.TRACK_ERROR="trackerror",e.UNKNOWN="unknown",e.URI_OPEN="uriopen",e.CAPPED="capped"}(s||(s={}));var c,l;!function(e){e.AUTHENTICATED="authenticated",e.AUTHENTICATION_ERROR="authentication_error",e.AUTOPLAY_FAILED="autoplay_failed",e.BEFORE_DISCONNECT="before_disconnect",e.BEFORE_VOLUME_CHANGE="before_volume_change",e.BUFFERING_END="buffering_end",e.BUFFERING_START="buffering_start",e.CONNECTED="connected",e.CONNECTION_ERROR="connection_error",e.DEVICES_CHANGED="devices_changed",e.DEVICE_DESCRIPTOR_CHANGED="descriptor_changed",e.DISCONNECTED="disconnected",e.DURATION_CHANGED="duration_changed",e.ERROR="error",e.LAST_ACTIVE_DEVICE_INFO_CHANGED="last_active_device_info_changed",e.LOCAL_CONTEXT_ENDED="local_context_ended",e.LOCAL_PLAYER_DISABLED="local_player_disabled",e.LOCAL_PLAYER_ENABLED="local_player_enabled",e.LOCAL_PLAYER_LOGGED_OUT="local_player_logged_out",e.LOGGED_OUT="logged_out",e.MAX_LIST_ERRORS_REACHED="max_list_errors_reached",e.MAX_SUBSCRIPTIONS_REACHED="max_subscriptions_reached",e.PLAYBACK_CAPPED="playback_capped",e.PLAYER_INITIALIZATION_DONE="player_initialization_done",e.PLAYER_INITIALIZATION_FAILED="player_initialization_failed",e.PRODUCT_STATE_CHANGED="product_state_changed",e.PROGRESS="progress",e.RECONNECTED="reconnected",e.RECONNECTING="reconnecting",e.REMOTE_OBSERVER_DISABLED="remote_observer_disabled",e.REMOTE_OBSERVER_ENABLED="remote_observer_enabled",e.SERVICE_REGISTRATION_ERROR="service_registration_error",e.STATE_CHANGED="state_changed",e.STOPPED_ON_BACKGROUND="stopped_on_background",e.TRACK_ENDED="track_ended",e.UNRECOVERABLE_FAILURE="unrecoverable_failure",e.VIDEO_ELEMENT_APPENDED="video_element_appended",e.VIDEO_ELEMENT_REMOVED="video_element_removed"}(c||(c={})),function(e){e.CONNECT_API="connect-api",e.HARMONY="harmony",e.PLAYBACK="playback",e.TRACK_PLAYBACK="track-playback",e.TRANSPORT="transport"}(l||(l={}));class p extends Error{constructor(e,t){super(t),this.status=-1,this.unrecoverable=!1,this.debug={},this.code=e,this.name="HarmonyError"}static fatal(e,t){const n=new p(e,t);return n.unrecoverable=!0,n}}function f(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function d(e,t){return!e&&!t||!(!e||!t)&&(e.id===t.id&&e.is_active===t.is_active&&e.is_controllable===t.is_controllable&&e.is_observable===t.is_observable&&e.local===t.local&&e.name===t.name&&e.type===t.type&&e.version===t.version&&e.volume===t.volume)}class h extends u.b{constructor(e){super(),this._hasFakeState=!1,this._localPlayerEnabled=!1,this._localPlayback=!1,this._lastDeviceList=[],this._deferredStreamer=f(),this._client=e.client,this._streamer=e.streamer,this._controller=e.controller,this._hidden=!!e.hidden,this._onlyLocalState=!!e.onlyLocalState,this._preferController=!this._onlyLocalState&&!!e.preferControllerState,this._claimInactivePlayerStates=!!e.claimInactivePlayerStates,this._enableControllerWithoutStreamer=!!e.enableControllerWithoutStreamer,this._autoActivateElement=!!e.autoActivateElement,this._deactivateOnStop=!!e.experimentalDeactivateOnStop,this._init()}static create(e){return new h(e)}_init(){this._createStreamerDeferred();const e=this._client;e.on("error",this._onError.bind(this)),this.proxyEmit(e,"authenticated",c.AUTHENTICATED),this.proxyEmit(e,"authentication_error",c.AUTHENTICATION_ERROR),this.proxyEmit(e,"before_disconnect",c.BEFORE_DISCONNECT),this.proxyEmit(e,"connected",c.CONNECTED),this.proxyEmit(e,"connection_error",c.CONNECTION_ERROR),this.proxyEmit(e,"descriptor_changed",c.DEVICE_DESCRIPTOR_CHANGED),this.proxyEmit(e,"product_state_changed",c.PRODUCT_STATE_CHANGED),this.proxyEmit(e,"reconnected",c.RECONNECTED),this.proxyEmit(e,"reconnecting",c.RECONNECTING),this.proxyEmit(e,"unrecoverable_failure",c.UNRECOVERABLE_FAILURE),this.proxyEmit(e,"logged_out",c.LOGGED_OUT);const t=this._controller;t.on("device_info_changed",e=>{this._onDeviceStateChanged(e.data)}),t.on("devices_changed",this._onDevicesChanged.bind(this)),t.on("state_changed",this._onPlayerStateChanged.bind(this)),t.on("progress",this._onControllerProgress.bind(this)),this.proxyEmit(t,"max_subscriptions_reached",c.MAX_SUBSCRIPTIONS_REACHED),t.on("registered",this.emit.bind(this,c.REMOTE_OBSERVER_ENABLED,null)),t.on("deregistered",this.emit.bind(this,c.REMOTE_OBSERVER_DISABLED,null));const n=this._streamer;n?(n.on("before_volume_change",this._onStreamerBeforeVolumeChange.bind(this)),n.on("deregistered",this._onStreamerDeregistered.bind(this)),n.on("registered",this._onStreamerRegistered.bind(this)),n.on("registration_aborted",this._onStreamerRegistrationAborted.bind(this)),n.on("state_changed",this._onStreamerStateChanged.bind(this)),n.on("stopped_on_background",this._onStreamerStoppedOnBackground.bind(this)),this.proxyEmit(n,"autoplay_failed",c.AUTOPLAY_FAILED),this.proxyEmit(n,"buffering_end",c.BUFFERING_END),this.proxyEmit(n,"buffering_start",c.BUFFERING_START),this.proxyEmit(n,"duration_changed",c.DURATION_CHANGED),this.proxyEmit(n,"max_list_errors_reached",c.MAX_LIST_ERRORS_REACHED),this.proxyEmit(n,"max_subscriptions_reached",c.MAX_SUBSCRIPTIONS_REACHED),this.proxyEmit(n,"playback_capped",c.PLAYBACK_CAPPED),this.proxyEmit(n,"player_initialization_done",c.PLAYER_INITIALIZATION_DONE),this.proxyEmit(n,"player_initialization_failed",c.PLAYER_INITIALIZATION_FAILED),this.proxyEmit(n,"progress",c.PROGRESS),this.proxyEmit(n,"registration_error",c.SERVICE_REGISTRATION_ERROR),this.proxyEmit(n,"track_ended",c.TRACK_ENDED),this.proxyEmit(n,"video_element_appended",c.VIDEO_ELEMENT_APPENDED),this.proxyEmit(n,"video_element_removed",c.VIDEO_ELEMENT_REMOVED),n.on("context_ended",this.emit.bind(this,c.LOCAL_CONTEXT_ENDED,null)),n.on("logged_out",this.emit.bind(this,c.LOCAL_PLAYER_LOGGED_OUT,null))):(this._disableLocalTarget(),this.on(c.AUTHENTICATED,()=>{this.emit(c.LOCAL_PLAYER_DISABLED,null)}))}_createStreamerDeferred(){this._deferredStreamer=f(),this._deferredStreamer.promise.catch((function(){}))}_isTargetIdLocal(e){return e?"@local"===e?Promise.resolve(!0):this._client.getDeviceDescriptor().then((function(t){return e===t.getId()})):Promise.resolve(!!this._localPlayback)}_onStreamerBeforeVolumeChange(e){this.emitSync(c.BEFORE_VOLUME_CHANGE,{volume:e.data.volume}).defaultPrevented&&e.preventDefault()}_onStreamerRegistered(e){this._deferredStreamer.resolve(e.data),this._createStreamerDeferred(),this._deferredStreamer.resolve(e.data),this._localPlayerEnabled=!0,this._controller.register(),this.emit(c.LOCAL_PLAYER_ENABLED,null)}_onStreamerDeregistered(){this._disableLocalTarget(),this.emit(c.LOCAL_PLAYER_DISABLED,null)}_onStreamerRegistrationAborted(){this._disableLocalTarget(),this._enableControllerWithoutStreamer&&this._controller.register(),this.emit(c.LOCAL_PLAYER_DISABLED,null)}_disableLocalTarget(){this._localPlayerEnabled=!1;const e=new p(i.HARMONY_LOCAL_PLAYER_DISABLED,"Cannot perform command; local player is disabled.");this._deferredStreamer.reject(e),this._createStreamerDeferred(),this._deferredStreamer.reject(e)}_onStreamerConnect(){return this._deferredStreamer.promise}_onDeviceStateChanged(e){const t=!!this._localPlayback,n=(e=!1)=>{this._generateLocalDeviceInfo(e).then(e=>{this.emit(c.LAST_ACTIVE_DEVICE_INFO_CHANGED,{deviceInfo:e,hasOrphanedState:!1})})};if(this._localPlayerEnabled&&e.hasOrphanedState&&this._claimInactivePlayerStates)return this._hasFakeState=!0,void n(!0);if(this._hasFakeState=!1,this._localPlayback=!(!e.deviceInfo||!e.deviceInfo.local),this._localPlayback){if(!this._streamer)throw new p(i.HARMONY_OPERATION_FORBIDDEN,"No streamer provided.");this._streamer.getVolume().then(t=>{e.deviceInfo&&(e.deviceInfo.volume=t),this.emit(c.LAST_ACTIVE_DEVICE_INFO_CHANGED,e)}).catch((function(){}))}else this._onlyLocalState?(this._localPlayback||t)&&n():this.emit(c.LAST_ACTIVE_DEVICE_INFO_CHANGED,e)}_onDevicesChanged(e){const t=this._lastDeviceList;this._parseDeviceList(e.data).then(e=>{(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Invalid devices list.");if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!d(e[n],t[n]))return!1;return!0})(t,e)||this.emit(c.DEVICES_CHANGED,{devices:e,localDevice:null})})}_onError(e){const t=e.data.error;e.data.source===l.PLAYBACK&&t&&t.unrecoverable&&(this._disableLocalTarget(),this._streamer&&this._streamer.deregister()),this.emit(c.ERROR,e.data)}_onPlayerStateChanged(e){if(!this._onlyLocalState&&(this._preferController||!this._localPlayback)){let t;t=this._localPlayerEnabled&&this._claimInactivePlayerStates?e.data.state:e.data.orphaned?null:e.data.state,this.emit(c.STATE_CHANGED,{state:t})}}_onControllerProgress(e){this._onlyLocalState||this._localPlayback||this.emit(c.PROGRESS,e.data)}_onStreamerStateChanged(e){this._preferController||(this._onlyLocalState?this._triggerLocalStateChanges(e.data):this._hidden?this._handleHidden(e.data):this._localPlayback&&this.emit(c.STATE_CHANGED,e.data))}_onStreamerStoppedOnBackground(){this._deactivateOnStop&&(this._localPlayback=!1),this.emit(c.STOPPED_ON_BACKGROUND,null)}_handleHidden(e){e.state?(this._controller.suppressEvents(),this._triggerLocalStateChanges(e)):this._controller.unsuppressEvents()}_parseDeviceList(e){const t=e.devices.slice(0).map(e=>Promise.resolve(e));return t.length&&e.localDevice?this._hasFakeState&&e.localDevice&&(e.localDevice.is_active=!0):t.push(this._generateLocalDeviceInfo(this._hasFakeState)),Promise.all(t).then(e=>(this._lastDeviceList=e,e))}_triggerLocalStateChanges(e){this._generateLocalDeviceInfo().then(e=>{this._onDeviceStateChanged({deviceInfo:e,hasOrphanedState:!1})}),this.emit(c.STATE_CHANGED,e)}_canStartNewContext(e){return this._runOnDevice(e,()=>this._streamer?Promise.resolve(!0):Promise.reject(new p(i.HARMONY_OPERATION_FORBIDDEN,"No streamer provided.")),()=>Promise.resolve(!0),!0)}_activateElement(){this._autoActivateElement=!1,this._streamer&&this._streamer.activateElement().catch(()=>{})}_runOnDevice(e,t,n,r){return this._hasFakeState&&!r?(this._autoActivateElement&&this._activateElement(),this._claimStateAndRun(n)):this._isTargetIdLocal(e).then(e=>e?this._onStreamerConnect().then(t):n())}_claimStateAndRun(e){return this._onStreamerConnect().then(()=>(this._hasFakeState=!1,Promise.all([this._controller.transfer("@local",{paused:!0}),new Promise((e,t)=>{this._streamer?this._streamer.once("track_loaded",e):t(new p(i.HARMONY_OPERATION_FORBIDDEN,"No streamer provided."))})]))).then(()=>e())}_generateLocalDeviceInfo(e=!1){const t=this._client,n=this._streamer;let r=Promise.resolve(!1),i=Promise.resolve(-1);return this._localPlayerEnabled&&(e?r=Promise.resolve(!0):n&&(r=n.getCurrentState().then(e=>!!e)),n&&(i=n.getVolume())),Promise.all([t.getClientDescriptor(),t.getSDKId(),r,i]).then(([e,t,n,r])=>({hidden:this._hidden,id:e.id,is_active:n,is_controllable:this._localPlayerEnabled,is_observable:!!this._localPlayerEnabled&&!this._hidden,local:!0,metadata:e.metadata||{},name:e.name,type:e.type,version:t,volume:r}))}_movePosition(e,t){return this.getCurrentState().then(n=>{if(!n||isNaN(n.position))return Promise.reject(new p(i.HARMONY_OPERATION_FORBIDDEN,"Seeking not allowed with invalid track."));const r=e,o=Math.min(n.duration,Math.max(0,n.position+r));return this.seek(o,t)})}getClientDescriptor(){return this._client.getClientDescriptor()}getProductState(){return this._client.getProductState()}getPublicTransport(){return this._client.getPublicTransport()}getUserInfo(){return this._client.getUserInfo()}getVersionDescriptor(){return this._client.getVersionDescriptor()}logAppMetrics(e,t){return this._client.logAppMetrics(e,t)}setName(e){return this._client.setName(e)}setNameTemplate(e){return this._client.setNameTemplate(e)}getContextPlayerState(){return this._controller.getContextPlayerState()}updateCurrentContext(e,t){return this._controller.updateCurrentContext(e,t)}getLastActiveDevice(){return this._onlyLocalState||this._hasFakeState?this._generateLocalDeviceInfo(this._hasFakeState):this._controller.getActiveDevice().then(e=>(null==e?void 0:e.local)&&this._streamer?(e.hidden=this._hidden,this._streamer.getVolume().then(t=>(e.volume=t,e))):e)}getCurrentState(){if(!this._onlyLocalState&&(this._preferController||!this._localPlayback)){const e=!this._localPlayerEnabled||!this._claimInactivePlayerStates;return this._controller.getCurrentState(e).then(e=>!this._preferController&&this._localPlayback?this.getCurrentState():e)}return this._onStreamerConnect().then(this._streamer.getCurrentState.bind(this._streamer))}togglePlay(e){return this._runOnDevice(e,()=>this._streamer.togglePlay(),this._controller.togglePlay.bind(this._controller,e))}pause(e){return this._runOnDevice(e,()=>this._streamer.pause(),this._controller.pause.bind(this._controller,e))}resume(e){return this._runOnDevice(e,()=>this._streamer.resume(),this._controller.resume.bind(this._controller,e))}playURI(e,t,n){return this._canStartNewContext(t).then(()=>(this._autoActivateElement&&this._activateElement(),this._controller.playURI(e,t,n)))}playTracks(e,t,n){return this._canStartNewContext(t).then(()=>(this._autoActivateElement&&this._activateElement(),this._controller.playTracks(e,t,n)))}nextTrack(e){return this._runOnDevice(e,()=>this._streamer.nextTrack(s.FORWARD_BUTTON),this._controller.nextTrack.bind(this._controller,e))}smartPreviousTrack(e){return this.getCurrentState().then(t=>{if(!t)return Promise.reject(new p(i.HARMONY_NO_TRACKS_LOADED,"No current state."));return(t.disallows||{}).seeking||t.position<3e3&&t.track_window&&t.track_window.previous_tracks&&t.track_window.previous_tracks.length>0?this.previousTrack(e):this.seek(0,e)})}previousTrack(e){return this._runOnDevice(e,()=>this._streamer.previousTrack(s.BACK_BUTTON),this._controller.previousTrack.bind(this._controller,e))}seek(e,t){return this._runOnDevice(t,()=>this._streamer.seek(e),this._controller.seek.bind(this._controller,e,t))}seekForward(e=15e3,t){return this._movePosition(e,t)}seekBackward(e=15e3,t){return this._movePosition(-1*e,t)}getVolume(){return this._streamer?this._streamer.getVolume():Promise.resolve(-1)}setVolume(e,t){return this._runOnDevice(t,()=>this._streamer.setVolume(e),this._controller.setVolume.bind(this._controller,e))}getVideoProfiles(){if(!this._streamer)throw new p(i.HARMONY_OPERATION_FORBIDDEN,"No streamer provided.");return this._streamer.getVideoVariants()}setPreferredBitrate(e){if(!this._streamer)throw new p(i.HARMONY_OPERATION_FORBIDDEN,"No streamer provided.");return this._streamer.setPreferredBitrate(e)}getDevices(){return this._controller.getDevices().then(this._parseDeviceList.bind(this))}setQueue(e,t,n){const r=this._controller.setQueue.bind(this._controller,e,t,n);return this._runOnDevice(n,r,r)}addToQueue(e,t){const n=this._controller.addToQueue.bind(this._controller,e,t);return this._runOnDevice(t,n,n)}setShuffle(e,t){const n=this._controller.setShuffle.bind(this._controller,e,t);return this._runOnDevice(t,n,n)}toggleShuffle(e){const t=this._controller.toggleShuffle.bind(this._controller,e);return this._runOnDevice(e,t,t)}setRepeatMode(e,t){const n=this._controller.setRepeatMode.bind(this._controller,e,t);return this._runOnDevice(t,n,n)}cycleRepeatMode(e){const t=this._controller.cycleRepeatMode.bind(this._controller,e);return this._runOnDevice(e,t,t)}transfer(e,t){const n=e||"@local",r=this._controller.transfer.bind(this._controller,n,t);return this._autoActivateElement&&this._activateElement(),this._runOnDevice(n,r,r,!0)}activateElement(){return this._streamer?this._streamer.activateElement():Promise.reject(new p(i.HARMONY_LOCAL_PLAYER_DISABLED,"Cannot activate element; local player is disabled."))}}var y=n("e4br"),_=n("ueFH");class m extends Error{constructor(e,t,n){super(e),this.name="LoggingError",this.message=e,this.code=t,this.status=n||0}}const g="unknown",v="",E=0,b="0.0.0",T={url:"/v1/logging/client_event"},S={url:"/v1/logging/jssdk_error",allowUnauthenticated:!0},w={url:"/v1/logging/jssdk_playback_stats",allowUnauthenticated:!0},O={url:"/v1/logging/jssdk_playback_start"},A={url:"/v1/logging/jssdk_stall",allowUnauthenticated:!0},R={url:"/v1/logging/jssdk_warning",allowUnauthenticated:!0},C={url:"/v1/logging/track_stream_verification"},P={url:"/v1/metric"};class I{constructor(e){this._sdkId=null,this._platformId=null,this._clientVersion=null,this._transport=e.transport,this._endpoint=e.endpoint||"https://@webgate/melody",this._sdkIdPromise=Promise.resolve(e.sdkId||"transport:1.0.0"),this._platformPromise=Promise.resolve(e.platform||"spotify-transport"),this._clientVersionPromise=Promise.resolve(e.clientVersion||"0.0.0"),this._allowUnauthenticated=!!e.allowUnauthenticated}static create(e){return new I(e)}_getIdentData(){return this._platformId&&this._sdkId&&this._clientVersion?Promise.resolve({platform:this._platformId,sdk_id:this._sdkId,client_version:this._clientVersion}):Promise.all([this._platformPromise,this._sdkIdPromise,this._clientVersionPromise]).then(([e,t,n])=>(this._platformId=e,this._sdkId=t,this._clientVersion=n,Promise.resolve({platform:e,sdk_id:t,client_version:n})))}_decoratePayload(e){return this._getIdentData().then((function(t){return e.sdk_id=t.sdk_id,e.platform=t.platform,e.client_version=t.client_version,e}))}_sendLog(e,t){const n=!this._allowUnauthenticated||!e.allowUnauthenticated||this._transport.isAuthenticated();return this._transport.request(this._endpoint+e.url,{method:y.a.POST,authorize:n,payload:JSON.stringify(t),retry:{maxRetries:5,condition:function(e){return e.status!==_.a.ACCEPTED}}}).then(e=>{const t=e.status;return t===_.a.ACCEPTED||Promise.reject(new m(o.a.LOGGING_REQUEST_FAILED,`Logging service responded with status ${t}`,t))})}_logErrorVariant(e,t,n){const r={sdk_id:void 0,platform:void 0,client_version:void 0,source:t.source||g,source_version:t.source_version||g,type:t.type||g,message:t.message||v,stack:JSON.stringify(t.stack||v),json_data:"json"===n?t.json_data||"{}":JSON.stringify(t.json_data||{}),json_data_version:t.json_data_version||b};return this._decoratePayload(r).then(this._sendLog.bind(this,e))}logClientEvent(e,t){if(!e)return Promise.reject(new TypeError("Logger.logClientEvent `data` cannot be null."));const n={sdk_id:void 0,platform:void 0,client_version:void 0,source:e.source||g,context:e.context||g,event:e.event||g,event_version:e.event_version||v,test_version:e.test_version||v,source_version:e.source_version||g,source_vendor:e.source_vendor||g,json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{})};return this._decoratePayload(n).then(this._sendLog.bind(this,T))}logJSSDKError(e,t){return this._logErrorVariant(S,e,t)}logJSSDKWarning(e,t){return this._logErrorVariant(R,e,t)}logJSSDKPlaybackStats(e){const t={sdk_id:void 0,platform:void 0,client_version:void 0,play_track:e.play_track,file_id:e.file_id,playback_id:e.playback_id,internal_play_id:e.internal_play_id,memory_cached:e.memory_cached,persistent_cached:e.persistent_cached,audio_format:e.audio_format,video_format:e.video_format,manifest_id:e.manifest_id,protected:e.protected,key_system:e.key_system,key_system_impl:e.key_system_impl,urls_json:e.urls_json,start_time:e.start_time,end_time:e.end_time,external_start_time:e.external_start_time,ms_play_latency:e.ms_play_latency,ms_init_latency:e.ms_init_latency,ms_head_latency:e.ms_head_latency,ms_manifest_latency:e.ms_manifest_latency,ms_resolve_latency:e.ms_resolve_latency,ms_license_generation_latency:e.ms_license_generation_latency,ms_license_request_latency:e.ms_license_request_latency,ms_license_session_latency:e.ms_license_session_latency,ms_license_update_latency:e.ms_license_update_latency,ms_played:e.ms_played,ms_nominal_played:e.ms_nominal_played,ms_file_duration:e.ms_file_duration,ms_actual_duration:e.ms_actual_duration,ms_start_position:e.ms_start_position,ms_end_position:e.ms_end_position,ms_seek_rebuffer:e.ms_seek_rebuffer,ms_seek_rebuffer_longest:e.ms_seek_rebuffer_longest,ms_stall_rebuffer:e.ms_stall_rebuffer,ms_stall_rebuffer_longest:e.ms_stall_rebuffer_longest,n_stalls:e.n_stalls,n_seekback:e.n_seekback,n_seekforward:e.n_seekforward,start_bitrate:e.start_bitrate,time_weighted_bitrate:e.time_weighted_bitrate,reason_start:e.reason_start,reason_end:e.reason_end,initially_paused:e.initially_paused,had_error:e.had_error,n_warnings:e.n_warnings,n_navigator_offline:e.n_navigator_offline,session_id:e.session_id,sequence_id:e.sequence_id};return this._decoratePayload(t).then(this._sendLog.bind(this,w))}logJSSDKPlaybackStart(e){const t={sdk_id:void 0,platform:void 0,client_version:void 0,play_track:e.play_track,file_id:e.file_id,playback_id:e.playback_id,session_id:e.session_id,ms_start_position:e.ms_start_position,initially_paused:e.initially_paused};return this._decoratePayload(t).then(this._sendLog.bind(this,O))}logJSSDKStall(e){const t={sdk_id:void 0,platform:void 0,client_version:void 0,session_id:e.session_id||v,playback_id:e.playback_id||v,play_track:e.play_track||v,file_id:e.file_id||v,byte_offset:e.byte_offset||E,time_offset:e.time_offset||E,ms_stalled:e.ms_stalled||E,timed_out:!!e.timed_out};return this._decoratePayload(t).then(this._sendLog.bind(this,A))}logTrackStreamVerification(e){const t={sdk_id:void 0,platform:void 0,client_version:void 0,play_track:e.play_track,playback_id:e.playback_id,ms_played:e.ms_played,session_id:e.session_id,sequence_id:e.sequence_id,next_playback_id:e.next_playback_id};return this._decoratePayload(t).then(this._sendLog.bind(this,C))}logMetrics(e,t){if(!e&&!t)return Promise.resolve(!0);const n=e||[],r=t||[];if(!n.length&&!r.length)return Promise.resolve(!0);if(!Array.isArray(n)||!Array.isArray(r))return Promise.reject(new TypeError("Logger.logMetrics `meters` and `timers` must be null or an array."));for(const e of n)if(!("what"in e&&"result"in e&&"reason"in e))return Promise.reject(new TypeError("Logger.logMetrics: Invalid meter format in `meters` array."));for(const e of r)if(!("what"in e&&"duration"in e))return Promise.reject(new TypeError("Logger.logMetrics: Invalid timer format in `timers` array."));const i={sdk_id:void 0,platform:void 0,client_version:void 0,meters:n,timers:r};return this._decoratePayload(i).then(this._sendLog.bind(this,P))}}var N=n("YZiW"),k=n("nSpX");const L=/^wss:\/\/event$/;class D extends u.b{constructor(e){super(),this._currentState=null,this._connectionId=null,this._transport=e.transport,this._endpoint=e.endpoint||"@webgate/melody",this._handleUserUpdate=this._handleUserUpdate.bind(this),this._init()}static create(e){return new D(e)}_init(){this._transport.on(k.a.CONNECTION_ID,e=>{this.register(e.data.id).catch((function(){}))})}_handleUserUpdate(){this._transport.forceTokenRefresh().catch((function(){})),this.getCurrentState(!0).then(e=>{this.emit(k.a.PRODUCT_STATE_CHANGED,{productState:e})}).catch((function(){}))}_shouldRetry(e,t){const n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.CONNECTION_ERROR}_createSubURL(e){return`@webapi/v1/me/notifications/user?connection_id=${encodeURIComponent(e)}`}getCurrentState(e){return!e&&this._currentState?Promise.resolve(this._currentState):this._transport.request(`${this._endpoint}/v1/product_state`,{method:"GET",responseType:"json",retry:{condition:this._shouldRetry}}).then(e=>{if(e.status!==_.a.OK||!e.body)throw this._currentState=null,new Error("Cannot get the user's product state.");return this._currentState=e.body,e.body})}register(e){return e||Promise.reject(new TypeError("ConnectionId cannot be null")),this._transport.matchMessages(L,this._handleUserUpdate),this._transport.request(this._createSubURL(e),{method:"PUT",ignoreResponseBody:!0,ignoreUnauthorized:!0,retry:{condition:this._shouldRetry}}).then(t=>{if(t.status!==_.a.OK){const e=`Cannot register for product state updates: service responded with status ${t.status}`;throw new Error(e)}return this._connectionId=e,!0})}deregister(){const e=this._connectionId;return e?(this._transport.unmatchMessages(L,this._handleUserUpdate),this._transport.request(this._createSubURL(e),{method:"DELETE",ignoreResponseBody:!0,ignoreUnauthorized:!0,retry:{condition:this._shouldRetry}}).then(e=>e.status===_.a.OK&&(this._connectionId=null,!0))):Promise.resolve(!1)}}var x,U;!function(e){e.FILE_URLS_MP3="file_urls_mp3",e.FILE_URLS_EXTERNAL="file_urls_external",e.FILE_IDS_MP4="file_ids_mp4",e.FILE_IDS_MP4_DUAL="file_ids_mp4_dual",e.FILE_IDS_CBCS="file_ids_mp4_cbcs",e.MANIFEST_IDS_VIDEO="manifest_ids_video"}(x||(x={})),function(e){e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook"}(U||(U={}));var M=n("Lbf7");function F(){const e=new Uint8Array(16);return crypto.getRandomValues(e),M.Base62.toHex(e.join(""),40).slice(0,40)}function j(){const e=new Array(27);let t=e.length;for(;t--;)e[t]=Math.floor(8*Math.random());return M.Base62.toHex(e.join(""),40)}const B="undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?F:j;const V={get:function(e,t=!1){if(e&&"string"==typeof e)return e;if(t)return B();let n=localStorage.getItem("_spharmony_device_id");return n||(n=B(),localStorage.setItem("_spharmony_device_id",n)),n},generate:B,generateWithCrypto:F,generateWithRandom:j},H=/(edge)[\s\/:]([\w\d\.]+)/,W=new RegExp("(opera|ie|firefox|chrome|trident|crios|version)[\\s/:]([\\w\\d\\.]+)?.*?(safari|(?:rv[\\s\\/:]|version[\\s\\/:])([\\w\\d\\.]+)|$)"),K={};function G(e){if(!e)return e;const t=function(e,t){const n=e.toLowerCase();let r=t?t.toLowerCase():"";const i=`${n}:${r}`;if(i in K)return K[i];const o=n.match(H),a=n.match(W)||[null,"unknown",0],s=o||a;"trident"===s[1]?(s[1]="ie",s[4]&&(s[2]=s[4])):"crios"===s[1]&&(s[1]="chrome"),r=n.match(/ip(?:ad|od|hone)/)?"ios":(n.match(/(?:webos|android)/)||n.match(/mac|win|linux|cros/)||["other"])[0],"win"===r&&(r="windows");const u="version"===s[1]?s[3]:s[1],c="opera"===s[1]&&s[4]?s[4]:s[2],l={name:u?u.toString():"unknown",version:null===c?"unknown":c.toString(),platform:r};return K[i]=l,l}(navigator.userAgent,navigator.platform);return e.replace(/\{\{([^}]+?)\}\}/g,(function(e,n){return r=n,(i=t)&&i.hasOwnProperty(r)?t[n]:"";var r,i}))}class Y extends u.b{constructor(e){if(super(),this._platformVersion="",this._metadata={},!e)throw new TypeError("Invalid argument `options`.");if(!e.id)throw new TypeError("Argument `options.id` is required.");if(!e.name||!e.model||!e.type)throw new TypeError("Incomplete `options` value.");this._id=e.id,this._type=e.type,this._brand=e.brand,this._model=e.model,this._name=e.name,this._platformIdentifier=e.platform_identifier,this._platformVersion=e.platform_version||"",this._metadata=e.metadata||{},this._capabilities=e.capabilities||{manifest_formats:[]}}static create(e){return new Y({id:V.get(e.id,e.randomizeId),model:e.model||G("harmony-{{name}}.{{version}}-{{platform}}").toLowerCase(),name:e.nameTemplate?G(e.nameTemplate):e.name||(t=G("Spotify ({{name}}/{{platform}})"),t.replace(/\b[a-z]/g,e=>e.toUpperCase())),type:e.type||U.COMPUTER,brand:e.brand||"SpotifyHarmonyGeneric",platform_identifier:e.platform_identifier,platform_version:e.platform_version,metadata:e.metadata||{},capabilities:e.capabilities||{}});var t}getId(){return this._id}setCapability(e,t){switch(e){case"manifest_formats":throw new TypeError('Cannot change capability "manifest_formats"');default:return this._capabilities[e]=t,this.emit("descriptor_changed",{descriptor:this.toJSON()}),!0}}getCapability(e){switch(e){case"manifest_formats":throw new TypeError("Use `descriptor.getManifestFormats()`.");default:return this._capabilities[e]}}setName(e){return this._name=e,this.emit("descriptor_changed",{descriptor:this.toJSON()}),!0}getName(){return this._name}getPlatformIdentifier(){return this._platformIdentifier||`Partner ${this._brand} ${this._model}`}getPlatformVersion(){return this._platformVersion}getManifestFormats(){return this._capabilities.manifest_formats||[]}appendManifestFormat(...e){const t=this._capabilities.manifest_formats;Array.isArray(t)&&t.push.apply(t,e)}toJSON(){return{brand:this._brand,capabilities:Object.assign({},this._capabilities),id:this._id,metadata:Object.assign({},this._metadata),model:this._model,name:this._name,platform_identifier:this._platformIdentifier,platform_version:this._platformVersion,type:this._type}}toTrackPlaybackDeviceInfo(){return{brand:this._brand,capabilities:Object.assign({},this._capabilities),device_id:this._id,device_type:this._type,metadata:Object.assign({},this._metadata),model:this._model,name:this._name,platform_identifier:this._platformIdentifier}}}var q={tagged:"4.2.0-6f9b9aa",version:"4.2.0",revision:"6f9b9aa"};const z=N.a.forTag("harmonyclient"),X=/^[a-zA-Z0-9_%:-]{1,40}$/;class $ extends u.b{constructor(e){if(super(),this._systemInfo=f(),this._clientVersion=f(),!e)throw new TypeError("Argument `options` is not defined.");if(!e.transport)throw new TypeError("No Transport instance provided");if(!e.transport.hasPlugin("dealer"))throw new TypeError("Transport has no Dealer plugin.");const t=e.descriptor;if(t&&t.id&&!X.test(t.id))throw new TypeError("Invalid device id.");this._transport=e.transport,this._deviceDescriptor=this._initDeviceDescriptor(e),this._logger=new I({transport:this._transport,sdkId:this.getSDKId(),platform:this._systemInfo.promise,clientVersion:this._clientVersion.promise}),this._productStateObserver=D.create({transport:this._transport}),this._onConnected=this._onConnected.bind(this),this._onConnectionError=this._onConnectionError.bind(this),this._onAuthenticationError=this._onAuthenticationError.bind(this),this._onShortSessionDisconnect=this._onShortSessionDisconnect.bind(this),this._attachListeners()}static create(e){return new $(e)}static of(e){return e._client}_createDeviceDescriptor(e,t={}){var n,r;const i=t.capabilities||{},o={change_volume:null===(n=i.change_volume)||void 0===n||n,audio_podcasts:null===(r=i.audio_podcasts)||void 0===r||r,endsong_snooping:i.endsong_snooping,enable_play_token:!0,play_token_lost_behavior:e.playTokenLostBehavior||"pause",disable_connect:!!e.hidden,video_playback:i.video_playback,volume_steps:void 0!==i.volume_steps&&i.volume_steps>=0&&i.volume_steps<65535?i.volume_steps:void 0,manifest_formats:[x.FILE_URLS_MP3]},a=Y.create(Object.assign(Object.assign({},t),{capabilities:o}));return this._systemInfo.resolve(a.getPlatformIdentifier()),this._clientVersion.resolve(a.getPlatformVersion()),this.proxyEmit(a,"descriptor_changed","descriptor_changed"),a}_initDeviceDescriptor(e){return Promise.resolve(e.descriptor).then(this._createDeviceDescriptor.bind(this,e)).catch(e=>(this._onError(l.HARMONY,{error:e}),Promise.reject(e)))}_attachListeners(){const e=this._transport;e.on(a.a.CONNECTED,this._onConnected),e.on(a.a.CONNECTION_FAILED,this._onConnectionError),e.on(a.a.AUTHENTICATION_FAILED,this._onAuthenticationError),this.proxyEmit(e,a.a.AUTHENTICATED,"authenticated"),this.proxyEmit(e,a.a.RECONNECTING,"reconnecting"),this.proxyEmit(e,a.a.RECONNECTED,"reconnected"),this.proxyEmit(e,a.a.LOGGED_OUT,"logged_out"),this.proxyEmitSync(e,a.a.BEFORE_OFFLINE_DISCONNECT,"before_offline_disconnect"),this.proxyEmitSync(e,a.a.BEFORE_ONLINE_DISCONNECT,"before_disconnect"),e.on(a.a.SHORT_SESSION_DISCONNECTED,this._onShortSessionDisconnect.bind(this)),this.proxyEmit(this._productStateObserver,a.a.PRODUCT_STATE_CHANGED,"product_state_changed"),this.on("before_disconnect",e=>{const t=this._productStateObserver.deregister().catch(()=>{});e.data.awaitPromise(t)})}_onError(e,t){this.emit("error",{source:e,error:t.error}),t.error&&t.error.unrecoverable&&this.emit("unrecoverable_failure",{source:e,error:t.error})}_onConnected(){this.emit("connected",null)}_onConnectionError(e){this._onError(l.TRANSPORT,{error:e.data.error}),this.emit("connection_error",e.data)}_onAuthenticationError(e){this._onError(l.TRANSPORT,{error:e.data.error}),this.emit("authentication_error",e.data)}_onShortSessionDisconnect(e){this._logger&&this._logger.logClientEvent({source:"transport",source_version:q.tagged,source_vendor:"spotify",event:e.type,event_version:"1.0.0",json_data:{disconnectCount:e.data.disconnectCount,sessionLength:e.data.sessionLength}},"object").catch(t=>z.warn(`${e.type} Logging Error:`,t))}getVersionDescriptor(){return Object.assign({},q)}getSDKId(){return`harmony:${q.tagged}`}getUntaggedSDKId(){return`harmony:${q.version}`}getLogger(){return this._logger}logAppMetrics(e,t){if(!this._logger)throw new TypeError("Invalid logger instance");return this._logger.logMetrics(e,t)}request(e,t){return this._transport.request(e,t)}getPublicTransport(){return this._transport.toPublic()}getClientDescriptor(){return this._deviceDescriptor.then(e=>e.toJSON())}getDeviceDescriptor(){return this._deviceDescriptor}getUserInfo(){return this._transport.request("@webapi/v1/me",{responseType:"json"}).then(e=>{const t=e.body;if(200!==e.status){const t=new p(i.USER_INFO_REQUEST_FAILED_WITH_STATUS,`User info request failed with status ${e.status}`);return t.status=e.status,Promise.reject(t)}return t?{display_name:t.display_name,followers:t.followers,id:t.id,images:t.images,uri:t.uri}:Promise.reject(new p(i.USER_INFO_REQUEST_EMPTY_RESPONSE,"Unexpected empty response."))})}getProductState(){return this._productStateObserver.getCurrentState()}setName(e){return this._deviceDescriptor.then((function(t){return t.setName(e)}))}setNameTemplate(e){return this.setName(G(e))}setCapability(e,t){return this._deviceDescriptor.then(n=>n.setCapability(e,t))}notifyError(e,t){this._onError(e,{error:t})}}class Q{constructor(e){this.listId=null,this.key="",this.prev=null,this.next=null,this.value=null,this.value=e}}class J{constructor(){this._id={},this.length=0,this.first=null,this.last=null}append(e){if(e.listId)throw new Error("Node already exists in another list!");return e.listId=this._id,this.first?this.last&&(e.prev=this.last,e.next=null,this.last.next=e,this.last=e):(this.first=e,this.last=e),++this.length}insertAfter(e,t){if(t.listId)throw new Error("Node already exists in another list!");return t.listId=this._id,t.prev=e,t.next=e.next,e.next&&(e.next.prev=t),e.next=t,t.prev===this.last&&(this.last=t),++this.length}remove(e){return!(!this.length||e.listId!==this._id)&&(this.length>1?(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first?this.first=e.next:e===this.last&&(this.last=e.prev)):(this.first=null,this.last=null),e.listId=null,e.prev=null,e.next=null,this.length--,!0)}}class Z{constructor(e){this._limit=100,this._list=new J,this._map={},this._limit=e}get(e){const t=this._map[e];if(!t)return null;const n=this._list;return n.remove(t),n.append(t),t.value}set(e,t){if(!e)throw new TypeError("Cache key cannot be empty.");const n=this._list,r=this._map;if(n.length>=this._limit){const e=n.first;r[e.key]=null,n.remove(e)}let i=r[e];i?(n.remove(i),i.value=t):(i=new Q(t),i.key=e),n.append(i),r[e]=i}remove(e){const t=this._map,n=t[e];return n?(this._list.remove(n),t[e]=null,n.value):null}keys(){const e=[];let t=this._list.first;for(;t;)e.push(t.key),t=t.next;return e.reverse()}values(){const e=[];let t=this._list.first;for(;t;)e.push(t.value),t=t.next;return e.reverse()}size(){return this._list.length}clear(){const e=this._list.length;return this._list=new J,this._map={},e}}var ee,te,ne,re;!function(e){e.KEY_SESSION_MESSAGE="message",e.KEY_SESSION_STATUSES_CHANGE="keystatuseschange",e.MEDIA_SOURCE_OPEN="sourceopen",e.MEDIA_SOURCE_CLOSE="sourceclose",e.SOURCE_BUFFER_UPDATE_END="updateend",e.MS_KEY_ADDED="mskeyadded",e.MS_KEY_ERROR="mskeyerror",e.MS_KEY_MESSAGE="mskeymessage",e.MS_NEEDKEY="msneedkey",e.WEBKIT_KEY_ADDED="webkitkeyadded",e.WEBKIT_KEY_ERROR="webkitkeyerror",e.WEBKIT_KEY_MESSAGE="webkitkeymessage",e.WEBKIT_NEEDKEY="webkitneedkey",e.V0_1B_KEY_ADDED="keyadded",e.V0_1B_KEY_ERROR="keyerror",e.V0_1B_KEY_MESSAGE="keymessage",e.V0_1B_NEEDKEY="needkey",e.MEDIA_CANPLAY="canplay",e.MEDIA_CANPLAYTHROUGH="canplaythrough",e.MEDIA_DURATIONCHANGE="durationchange",e.MEDIA_ENCRYPTED="encrypted",e.MEDIA_ENDED="ended",e.MEDIA_ERROR="error",e.MEDIA_LOADEDMETADATA="loadedmetadata",e.MEDIA_PAUSE="pause",e.MEDIA_PLAYING="playing",e.MEDIA_SEEKING="seeking",e.MEDIA_TIMEUPDATE="timeupdate",e.MEDIA_WAITING="waiting",e.INTERNAL_ENCRYPTED="__encrypted",e.INTERNAL_PLAYER_CANPLAY="__canplay",e.INTERNAL_PLAYER_CANPLAYTHROUGH="__canplaythrough",e.INTERNAL_MEDIA_REQUIRES_DURATION="__requiresduration",e.INTERNAL_PLAYER_LOADED_METADATA="__loadedmetadata",e.BUFFER_APPEND_ERROR="append_error",e.BUFFER_QUOTA_EXCEEDED="quota_exceeded",e.BUFFER_STALLED="stalled",e.BUFFER_SOURCE_OPEN="source_open",e.BUFFER_SOURCE_CLOSE="source_close",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.EME_LICENSE_REQUEST_ERROR="license_request_error",e.EME_LICENSE_REQUEST_CAPPED="license_request_capped",e.LIST_PLAYER_AUTOPLAY_FAILED="player_autoplay_failed",e.LIST_PLAYER_BEFORE_LIST_CHANGE="before_list_change",e.LIST_PLAYER_BEFORE_NEXT="before_next",e.LIST_PLAYER_BEFORE_PLAYER_LOAD="before_player_load",e.LIST_PLAYER_BEFORE_PREVIOUS="before_previous",e.LIST_PLAYER_BEFORE_TRACK_LOAD="before_track_load",e.LIST_PLAYER_BEFORE_VOLUME_CHANGE="before_volume_change",e.LIST_PLAYER_BUFFER_STALLED="stalled",e.LIST_PLAYER_BUFFERING_START="buffering_start",e.LIST_PLAYER_BUFFERING_END="buffering_end",e.LIST_PLAYER_CAPPED="capped",e.LIST_PLAYER_CLEARED="cleared",e.LIST_PLAYER_DURATION_CHANGED="duration_changed",e.LIST_PLAYER_ERROR="error",e.LIST_PLAYER_ERROR_SYNC="error_sync",e.LIST_PLAYER_LIST_CHANGED="list_change",e.LIST_PLAYER_LIST_ENDED="list_ended",e.LIST_PLAYER_LOAD_VIDEO="load_video",e.LIST_PLAYER_MAX_LIST_ERRORS_REACHED="max_list_errors_reached",e.LIST_PLAYER_PAUSED="paused",e.LIST_PLAYER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.LIST_PLAYER_PLAYER_LOAD="player_load",e.LIST_PLAYER_PLAYING="playing",e.LIST_PLAYER_POSITION_CHANGED="position_changed",e.LIST_PLAYER_PROGRESS="progress",e.LIST_PLAYER_REPEAT_MODE_CHANGED="repeat_mode_changed",e.LIST_PLAYER_SHUFFLE_CHANGED="shuffle_changed",e.LIST_PLAYER_STOPPED="stopped",e.LIST_PLAYER_STOPPED_VIDEO="stopped_video",e.LIST_PLAYER_TRACKING_DATA_CREATED="tracking_data_created",e.LIST_PLAYER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.LIST_PLAYER_TRACK_ENDED="track_ended",e.LIST_PLAYER_TRACK_LOADED="track_loaded",e.LIST_PLAYER_TRACK_TIMEOUT="track_timeout",e.LIST_PLAYER_TRACK_UNPLAYABLE="track_unplayable",e.LIST_PLAYER_DATA_CREATED="tracking_data_created",e.LIST_PLAYER_DATA_FINALIZED="tracking_data_finalized",e.LIST_PLAYER_VOLUME_CHANGED="volume_changed",e.LIST_PLAYER_VIDEO_ELEMENT_APPENDED="video_element_appended",e.LIST_PLAYER_VIDEO_ELEMENT_REMOVED="video_element_removed",e.LOGGER_ERROR="error",e.PLAYER_AUTOPLAY_FAILED="player_autoplay_failed",e.PLAYER_BEFORE_LOAD="before_load",e.PLAYER_BEFORE_STOP="before_stop",e.PLAYER_BEFORE_VOLUME_CHANGE="before_volume_change",e.PLAYER_BUFFER_STALLED="stalled",e.PLAYER_BUFFERING_START="buffering_start",e.PLAYER_BUFFERING_END="buffering_end",e.PLAYER_CAN_PRELOAD="can_preload",e.PLAYER_CAPPED="capped",e.PLAYER_DURATION_CHANGED="duration_changed",e.PLAYER_ENDED="ended",e.PLAYER_ENDED_VIDEO="ended_video",e.PLAYER_ERROR="error",e.PLAYER_WARNING="warning",e.PLAYER_FIRST_BYTES="first_bytes",e.PLAYER_KEY_RECEIVED="key",e.PLAYER_LOAD="load",e.PLAYER_LOAD_VIDEO="load_video",e.PLAYER_LOADING_FAILED="loading_failed",e.PLAYER_PAUSED="paused",e.PLAYER_PLAYING="playing",e.PLAYER_POSITION_CHANGED="position_changed",e.PLAYER_PRELOADING_ERROR="preloading_error",e.PLAYER_PROGRESS="progress",e.PLAYER_STALLED="stalled",e.PLAYER_STOPPED="stopped",e.PLAYER_STOPPED_VIDEO="stopped_video",e.PLAYER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.PLAYER_TIMEOUT="timeout",e.PLAYER_PLAYBACK_START="playback_start",e.PLAYER_TRACKING_DATA_CREATED="tracking_data_created",e.PLAYER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.PLAYER_VIDEO_ELEMENT_APPENDED="video_element_appended",e.PLAYER_VIDEO_ELEMENT_REMOVED="video_element_removed",e.PLAYER_MANAGER_READY="ready",e.TRACKER_PLAYBACK_START="playback_start",e.TRACKER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.TRACKER_TRACKING_DATA_CREATED="tracking_data_created",e.TRACKER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.ABR_MANAGER_BITRATE_CHANGE="bitrate_change"}(ee||(ee={})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready",e.PLAYREADY_HARDWARE="com.microsoft.playready.hardware",e.FAIRPLAY="com.apple.fps.1_0",e.INVALID_SPOTIFY_KEY="com.spotify.invalid"}(te||(te={})),function(e){e.SHOWING="showing",e.HIDDEN="hidden"}(ne||(ne={})),function(e){e.SUCCESS="RESULT_SUCCESS",e.INVALID="RESULT_INVALID",e.FORBIDDEN="RESULT_FORBIDDEN",e.OUT_OF_BOUNDS="RESULT_OUT_OF_BOUNDS",e.NO_LIST="RESULT_NO_LIST",e.NO_TRACK="RESULT_NO_TRACK",e.LIST_END="RESULT_LIST_END",e.INVALID_TRACK="RESULT_INVALID_TRACK",e.CANCELLED="CANCELLED",e.NO_TRACK_PLAYER="NO_TRACK_PLAYER"}(re||(re={}));class ie extends Error{constructor(e,t){super(t),this.unrecoverable=!1,this.listPlayerIgnore=!1,this.debug={},this.code=e,this.message=t,this.name="PlaybackError"}static fatal(e,t){const n=new ie(e,t);return n.unrecoverable=!0,n}}class oe extends Error{constructor(e=r.EME_ERROR_UNKNOWN,t){super(t),this.status=-1,this.licenseServer="",this.shouldRefreshEndpoint=!1,this.unrecoverable=!1,this.debug={},this.code=e,this.message=t,this.name="EMEError"}static fatal(e=r.EME_ERROR_UNKNOWN,t){const n=new oe(e,t);return n.unrecoverable=!0,n}}class ae extends Error{constructor(e,t){super(t),this.name="CappingError",this.message=t,this.code=e}}function se(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function ue(e){const t=document.createEvent("Event");t.initEvent("encrypted",!1,!1),t.initDataType="cenc",t.initData=e.initData,t.fromPolyfill=!0,this.dispatchEvent(t)}class ce extends u.a{constructor(e){super(ee.KEY_SESSION_MESSAGE,null),this.messageType="license-request",this.message=e}}class le extends u.b{constructor(e){super(),this._nativeKeySession=null,this._lastUpdateDeferred=se(),this._lastGenerateDeferred=se(),this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._nativeMediaKeys=e,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}_attach(){const e=this._nativeKeySession;e&&(e.addEventListener(ee.MS_KEY_ADDED,this._onKeyAdded),e.addEventListener(ee.MS_KEY_ERROR,this._onKeyError),e.addEventListener(ee.MS_KEY_MESSAGE,this._onKeyMessage))}_detach(){const e=this._nativeKeySession;e&&(e.removeEventListener(ee.MS_KEY_ADDED,this._onKeyAdded),e.removeEventListener(ee.MS_KEY_ERROR,this._onKeyError),e.removeEventListener(ee.MS_KEY_MESSAGE,this._onKeyMessage))}_onKeyMessage(e){e.message&&e.message.buffer&&(this.emitEvent(new ce(e.message.buffer)),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null))}_onKeyAdded(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null),this.emit(ee.KEY_SESSION_STATUSES_CHANGE,null)}_onKeyError(){const e=this._nativeKeySession&&this._nativeKeySession.error;this._lastGenerateDeferred&&(this._lastGenerateDeferred.reject(e),this._lastGenerateDeferred=null),this._lastUpdateDeferred&&(this._lastUpdateDeferred.reject(e),this._lastUpdateDeferred=null),this.emit(ee.KEY_SESSION_STATUSES_CHANGE,null)}generateRequest(e,t){return new Promise((e,n)=>{this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve=e,this._lastGenerateDeferred.reject=n),this._nativeKeySession=this._nativeMediaKeys.createSession("audio/mp4",new Uint8Array(t),null),this._attach()})}update(e){return new Promise((t,n)=>{this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve=t,this._lastGenerateDeferred.reject=n),this._nativeKeySession&&this._nativeKeySession.update(new Uint8Array(e))})}close(){return new Promise(e=>{this._nativeKeySession&&this._nativeKeySession.close(),this._detach(),e(!0)})}}class pe{constructor(e){this._lastBoundSetter=null,this.shouldRefreshPerTrack=!0,this._nativeMediaKeys=new MSMediaKeys(e)}attach(e){return new Promise(t=>{if(e.readyState>=1)return e.msSetMediaKeys(this._nativeMediaKeys),void t();const n=()=>{e.removeEventListener(ee.MEDIA_LOADEDMETADATA,n),this._lastBoundSetter=null,e.msSetMediaKeys(this._nativeMediaKeys)};this._lastBoundSetter=n,e.addEventListener(ee.MEDIA_LOADEDMETADATA,n),e.addEventListener(ee.MS_NEEDKEY,ue),t()})}detach(e){this._lastBoundSetter&&(e.removeEventListener(ee.MS_NEEDKEY,ue),e.removeEventListener(ee.MEDIA_LOADEDMETADATA,this._lastBoundSetter),this._lastBoundSetter=null)}setServerCertificate(){return Promise.reject(new oe(r.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))}createSession(){return new le(this._nativeMediaKeys)}}function fe(e){const t=this.mediaKeys;return t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e,e&&e.attach(this),Promise.resolve()}class de{constructor(e,t){if(this._configuration=null,this.keySystem=e,!this._checkConfig(t))throw new oe(r.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}_checkConfig(e){const t=this.keySystem;for(let n=0,r=e.length;n<r;n++){const r=e[n],i={initDataTypes:r.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:r.label};let o,a,s,u,c;if(r.audioCapabilities&&r.audioCapabilities.length&&i.audioCapabilities)for(c=!1,o=0,a=r.audioCapabilities.length;o<a;o++)s=r.audioCapabilities[o],s.contentType&&(u=s.contentType.split(";")[0]),MSMediaKeys.isTypeSupported(t,u)&&(i.audioCapabilities.push(s),c=!0);if(r.videoCapabilities&&r.videoCapabilities.length&&i.videoCapabilities)for(c=!1,o=0,a=r.videoCapabilities.length;o<a;o++)s=r.videoCapabilities[o],s.contentType&&(u=s.contentType.split(";")[0]),MSMediaKeys.isTypeSupported(t,u)&&(i.videoCapabilities.push(s),c=!0);if(c)return this._configuration=i,!0}return!1}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise(e=>{e(new pe(this.keySystem))})}}const he=N.a.forTag("eme_polyfill.v0_1b");class ye extends u.b{constructor(e,t,n){super(),this._lastUpdateDeferred=se(),this._lastGenerateDeferred=se(),this.sessionId=null,this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._keySystem=e,this._mediaElement=t,this._prefix=n}_addPrefix(e){return this._prefix?this._prefix+e.replace(/\b[a-z]/,(function(e){return e.toUpperCase()})):e}generateComplete(e){this.emitEvent(new ce(e)),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null)}updateComplete(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this.emit(ee.KEY_SESSION_STATUSES_CHANGE,null)}handleErrorEvent(e){const t=new oe(r.EME_MEDIA_KEY_SESSION_V0_1B_ERROR,"MediaKeySession v0.1b Error");t.debug.errorCode=e.errorCode,t.debug.systemCode=e.systemCode,!e.sessionId&&this._lastGenerateDeferred?(this._lastGenerateDeferred.reject(t),this._lastGenerateDeferred=null):e.sessionId&&this._lastUpdateDeferred?(this._lastUpdateDeferred.reject(t),this._lastUpdateDeferred=null):this.emit(ee.KEY_SESSION_STATUSES_CHANGE,null)}generateRequest(e,t){return new Promise((e,n)=>{this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve=e,this._lastGenerateDeferred.reject=n);try{this._mediaElement[this._addPrefix("generateKeyRequest")](this._keySystem,new Uint8Array(t))}catch(e){n(e),this._lastGenerateDeferred=null}})}update(e){if(this._lastUpdateDeferred){const t=this.update.bind(this,e);return this._lastUpdateDeferred.promise.then(t,t)}const t=se();this._lastUpdateDeferred=t;try{this._mediaElement[this._addPrefix("addKey")](this._keySystem,new Uint8Array(e),null,this.sessionId)}catch(e){t.reject(e),this._lastUpdateDeferred=null}return t.promise}close(){if(this.sessionId)try{this._mediaElement[this._addPrefix("cancelKeyRequest")](this._keySystem,this.sessionId)}catch(e){he.warn("Could not close keysession",e)}return Promise.resolve(!0)}}class _e{constructor(e,t=""){this._mediaElement=null,this._waitingForSessionIds=[],this._sessionMap={},this.shouldRefreshPerTrack=!0,this._keySystem=e,this._prefix=t,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}attach(e){this._mediaElement=e;const t=this._prefix;e.addEventListener(t+ee.V0_1B_NEEDKEY,ue);const n=e.addEventListener.bind(e);n(t+ee.V0_1B_KEY_ADDED,this._onKeyAdded),n(t+ee.V0_1B_KEY_ERROR,this._onKeyError),n(t+ee.V0_1B_KEY_MESSAGE,this._onKeyMessage)}detach(e){this._mediaElement=null;const t=this._prefix;e.removeEventListener(t+ee.V0_1B_NEEDKEY,ue);const n=e.removeEventListener.bind(e);n(t+ee.V0_1B_KEY_ADDED,this._onKeyAdded),n(t+ee.V0_1B_KEY_ERROR,this._onKeyError),n(t+ee.V0_1B_KEY_MESSAGE,this._onKeyMessage)}_getSession(e){const t=this._sessionMap[e];if(t)return t;const n=this._waitingForSessionIds.shift();return n?(n.sessionId=e,this._sessionMap[e]=n,n):null}_onKeyMessage(e){const t=this._getSession(e.sessionId);t?t.generateComplete(e.message):he.warn("Got keymessage without session.")}_onKeyAdded(e){const t=this._getSession(e.sessionId);t?t.updateComplete():he.warn("Got keyadded without session.")}_onKeyError(e){const t=this._getSession(e.sessionId);t?t.handleErrorEvent(e):he.warn("Got keyerror without session.")}setServerCertificate(){return Promise.reject(new oe(r.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))}createSession(){if(this._mediaElement){const e=new ye(this._keySystem,this._mediaElement,this._prefix);return this._waitingForSessionIds.push(e),e}throw new ReferenceError("InvalidState: Media keys are not attached.")}}function me(e){const t=this.mediaKeys;return t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e,e&&e.attach(this),Promise.resolve()}class ge{constructor(e,t,n){if(this._configuration=null,this.keySystem=e,this._prefix=n,!this._checkConfig(t))throw new oe(r.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}_checkConfig(e){const t=document.createElement("video");for(let n=0,r=e.length;n<r;n++){const r=e[n],i={initDataTypes:r.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:r.label};let o,a,s,u,c=!1;if(r.audioCapabilities&&r.audioCapabilities.length&&i.audioCapabilities)for(c=!1,o=0,a=r.audioCapabilities.length;o<a;o++)s=r.audioCapabilities[o],s.contentType&&(u=s.contentType.split(";")[0]),u&&t.canPlayType(u)&&(i.audioCapabilities.push(s),c=!0);if(r.videoCapabilities&&r.videoCapabilities.length&&i.videoCapabilities)for(c=!1,o=0,a=r.videoCapabilities.length;o<a;o++)s=r.videoCapabilities[o],u=s.contentType,u&&t.canPlayType(u)&&(i.videoCapabilities.push(s),c=!0);if(c)return this._configuration=i,!0}return!1}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise(e=>{e(new _e(this.keySystem,this._prefix))})}}function ve(e){navigator.requestMediaKeySystemAccess=function(t,n){return new Promise(r=>{r(new ge(t,n,e))})};const t=HTMLMediaElement.prototype;delete t.mediaKeys,t.setMediaKeys=me}const Ee=N.a.forTag("eme_polyfill.safari");function be(e){const t=this.mediaKeys;return t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e,e?e.attach(this):Promise.resolve()}class Te extends u.b{constructor(e,t){super(),this._attached=!1,this._nativeKeySession=null,this._lastGenerateResolver=se(),this._lastUpdateResolver=se(),this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._nativeMediaKeys=e,this._serverCertificate=t,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}_attach(){if(this._attached)return;const e=this._nativeKeySession;e?(e.addEventListener(ee.WEBKIT_KEY_MESSAGE,this._onKeyMessage),e.addEventListener(ee.WEBKIT_KEY_ADDED,this._onKeyAdded),e.addEventListener(ee.WEBKIT_KEY_ERROR,this._onKeyError)):Ee.warn("Tried to attach with no WebKitMediaKeySession")}_detach(){if(!this._attached)return;const e=this._nativeKeySession;e?(e.removeEventListener(ee.WEBKIT_KEY_MESSAGE,this._onKeyMessage),e.removeEventListener(ee.WEBKIT_KEY_ADDED,this._onKeyAdded),e.removeEventListener(ee.WEBKIT_KEY_ERROR,this._onKeyError)):Ee.warn("Tried to detach with no WebKitMediaKeySession")}_onKeyMessage(e){e.message&&e.message.buffer&&(this.emitEvent(new ce(e.message.buffer)),this._lastGenerateResolver&&(this._lastGenerateResolver.resolve(!0),this._lastGenerateResolver=null))}_onKeyAdded(){this._lastUpdateResolver&&(this._lastUpdateResolver.resolve(!0),this._lastUpdateResolver=null),this.emit(ee.KEY_SESSION_STATUSES_CHANGE,null)}_onKeyError(){const e=this._nativeKeySession&&this._nativeKeySession.error,t=new oe(r.EME_MEDIA_KEY_SESSION_SAFARI_ERROR,e&&e.message||"MediaKeySession Safari Error");e&&(t.debug.errorCode=e.code,t.debug.systemCode=e.systemCode),this._lastGenerateResolver?(this._lastGenerateResolver.reject(t),this._lastGenerateResolver=null):this._lastUpdateResolver&&(this._lastUpdateResolver.reject(t),this._lastUpdateResolver=null)}_rebuildInitData(e){const t=new Uint8Array(e);if(new DataView(t.buffer).getUint32(0,!0)+4!==t.byteLength)throw new oe(r.EME_INIT_DATA_MALFORMED,"Malformed init data");const n=function(e){const t=Math.floor(e.byteLength/2),n=new Uint16Array(t),r=new DataView(e.buffer);for(let e=0;e<t;e++)n[e]=r.getUint16(2*e,!0);return String.fromCharCode.apply(null,n)}(t.slice(4)).match(/^skd:\/\/([0-9a-fA-F]+)/);if(!n)throw new oe(r.EME_INIT_DATA_MALFORMED,"Invalid content ID");const i=n[1],o=new Uint8Array(function(e){const t=new Uint8Array(2*e.length),n=new DataView(t.buffer),r=e.split("");for(let e=0,t=r.length;e<t;e++){const t=r[e].charCodeAt(0);n.setUint16(2*e,t,!0)}return t.buffer}(i)),a=this._serverCertificate,s=new Uint8Array(t.byteLength+4+o.byteLength+4+a.byteLength);let u=0;s.set(t,u),u+=t.byteLength;const c=new DataView(s.buffer);return c.setUint32(u,o.byteLength,!0),u+=4,s.set(o,u),u+=o.byteLength,c.setUint32(u,a.byteLength,!0),u+=4,s.set(a,u),s}generateRequest(e,t){return new Promise((e,n)=>{this._lastGenerateResolver={resolve:e,reject:n};try{const e=this._rebuildInitData(t);this._nativeKeySession=this._nativeMediaKeys.createSession("audio/mp4",new Uint8Array(e),null),this._attach()}catch(e){this._lastGenerateResolver=null,n(e)}})}update(e){return new Promise((t,n)=>{if(this._lastUpdateResolver={resolve:t,reject:n},this._nativeKeySession)try{this._nativeKeySession.update(new Uint8Array(e))}catch(e){n(e)}else Ee.warn("Tried to update with no WebKitMediaKeySession")})}close(){return new Promise(e=>{this._detach(),e(!0)})}}class Se{constructor(e){this._lastBoundSetter=null,this._serverCertificate=null,this.shouldRefreshPerTrack=!0,this._nativeMediaKeys=new WebKitMediaKeys(e)}attach(e){return new Promise(t=>{if(e.readyState>=1)return e.webkitSetMediaKeys(this._nativeMediaKeys),void t();const n=()=>{e.removeEventListener(ee.MEDIA_LOADEDMETADATA,n),this._lastBoundSetter=null,e.webkitSetMediaKeys(this._nativeMediaKeys)};this._lastBoundSetter=n,e.addEventListener(ee.MEDIA_LOADEDMETADATA,n),e.addEventListener(ee.WEBKIT_NEEDKEY,ue),t()})}detach(e){e.removeEventListener(ee.WEBKIT_NEEDKEY,ue),this._lastBoundSetter&&(e.removeEventListener(ee.MEDIA_LOADEDMETADATA,this._lastBoundSetter),this._lastBoundSetter=null)}setServerCertificate(e){return this._serverCertificate=new Uint8Array(e),Promise.resolve(!0)}createSession(){if(!this._serverCertificate)throw new oe(r.EME_INVALID_STATE_ERROR,"The server certificate is not available");return new Te(this._nativeMediaKeys,this._serverCertificate)}}class we{constructor(e,t){this.keySystem=e;const n=this._checkConfig(t);if(!n)throw new oe(r.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations");this._configuration=n}_checkConfig(e){const t=this.keySystem;let n=!1;for(const r of e){const e={initDataTypes:r.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"]};if(r.audioCapabilities)for(const i of r.audioCapabilities){if(!i.contentType)continue;const r=i.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(t,r)&&(e.audioCapabilities.push(i),n=!0)}if(r.videoCapabilities)for(const i of r.videoCapabilities){if(!i.contentType)continue;const r=i.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(t,r)&&(e.videoCapabilities.push(i),n=!0)}if(n)return e}return null}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise(e=>{e(new Se(this.keySystem))})}}const Oe=N.a.forTag("eme_polyfills.tester");function Ae(){return navigator&&navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess&&"undefined"==typeof WebKitMediaKeys&&MediaKeySystemAccess.prototype.getConfiguration?(Oe.log("Using native EME implementation."),"native"):HTMLMediaElement&&HTMLMediaElement.prototype.webkitGenerateKeyRequest?(Oe.log('Detected "webkit" Prefixed EME v0.1b. Polyfilling.'),ve("webkit"),"v0.1b-webkit"):HTMLMediaElement&&HTMLMediaElement.prototype.generateKeyRequest?(Oe.log("Detected Unprefixed EME v0.1b. Polyfilling."),ve(),"v0.1b"):"undefined"!=typeof MSMediaKeys?(Oe.log("Detected MS IE EME. Polyfilling."),function(){navigator.requestMediaKeySystemAccess=function(e,t){return new Promise(n=>{n(new de(e,t))})};const e=HTMLMediaElement.prototype;delete e.mediaKeys,e.setMediaKeys=fe}(),"ms-ie"):"function"==typeof WebKitMediaKeys?(Oe.log("Detected Safari EME. Polyfilling."),function(){navigator.requestMediaKeySystemAccess=function(e,t){return new Promise(n=>{n(new we(e,t))})};const e=HTMLMediaElement.prototype;delete e.mediaKeys,e.setMediaKeys=be}(),"safari"):(Oe.warn("Detected no EME APIs."),null)}const Re={[te.WIDEVINE]:{commonName:"widevine",licenseServer:"https://@webgate/widevine-license",withCertificate:!0,pssh_field:{audio:"pssh_widevine",video:"encryption_data"}},[te.PLAYREADY]:{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}},[te.PLAYREADY_HARDWARE]:{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}},[te.FAIRPLAY]:{commonName:"fairplay",licenseServer:"https://@webgate/fairplay-license",withCertificate:!0,pssh_field:{audio:"pssh_fairplay",video:"encryption_data"}},[te.INVALID_SPOTIFY_KEY]:{commonName:"spotify-invalid",licenseServer:"https://@webgate",withCertificate:!1,pssh_field:{audio:"pssh_invalid",video:"encryption_data"}}},Ce=[{label:"video-sw-decode",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]},{label:"video-sw-crypto",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:"SW_SECURE_CRYPTO"},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]},{label:"video-no-robustness",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:""},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:""},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:""}],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]},{label:"audio-sw-crypto",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]},{label:"audio-no-robustness",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]}],Pe=/([^;]+)(?:;\s?codecs="(.*)")?/,Ie=N.a.forTag("playback.eme_manager"),Ne={EMPTY:"-no-robustness",SW_CRYPTO:"-sw-crypto",SW_DECODE:"-sw-decode",HW_CRYPTO:"-hw-crypto",HW_DECODE:"-hw-decode",HW_ALL:"-hw-all"};class ke extends u.b{constructor(e){var t;super(),this._unauthServerCertificateBase="",this._keySystemDeferred=se(),this._configuration=se(),this._keySystemSettings=null,this._keySessions=[],this._configs=[],this._pendingCertificateRequest=null,this._certificate=null,this._transport=e.transport,this._emeImpl=e.emeImpl,this._noServerCertificate=!!e.noServerCertificate,this._precacheServerCertificate=null===(t=e.precacheServerCertificate)||void 0===t||t,this._unauthServerCertificateBase=e.unauthServerCertificateBase||"https://spclient.wg.spotify.com",this._configFilter=function(e){const t=["--ensure-no-match--"];if(e&&e.length){let n=e.length;for(;n--;)Ne.hasOwnProperty(e[n])&&t.push(Ne[e[n]])}return new RegExp(`(${t.join("|")})$`)}(e.disallowRobustnessValues||[]),this._preferredKeySystems=e.preferredKeySystems||[te.WIDEVINE,te.PLAYREADY,te.PLAYREADY_HARDWARE,te.FAIRPLAY]}static create(e){return new Promise(t=>{const n=Ae();if(!n)throw oe.fatal(r.EME_API_NOT_SUPPORTED,"Platform does not support navigator.requestMediaKeySystemAccess");t(new ke(Object.assign(Object.assign({},e),{emeImpl:n})).init())})}_prepareConfiguration(e){const t=e.getConfiguration();Ie.info("KeySystem configured as ",t.label),t.audioCapabilities&&t.audioCapabilities.length||this._appendProbableMediaCapabilities(e.keySystem,t);const n={keySystem:e.keySystem,keySystemImpl:this._emeImpl,audioFormats:this._parseCapabilities(t.audioCapabilities),videoFormats:this._parseCapabilities(t.videoCapabilities)};return this._keySystemSettings=Re[e.keySystem],this._configuration.resolve(n),n}_parseCapabilities(e){if(!e)return[];const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!r||!r.contentType)continue;const i=r.contentType.match(Pe);i&&t.push({contentType:r.contentType,mimeType:i[1],codec:i[2]})}return t}_appendProbableMediaCapabilities(e,t){const n=this._configs;for(let r=0,i=n.length;r<i;r++){const i=n[r],o={audioCapabilities:[],videoCapabilities:[]};let a,s,u,c,l=!1;if(i.audioCapabilities&&i.audioCapabilities.length)for(l=!1,a=0,s=i.audioCapabilities.length;a<s;a++)u=i.audioCapabilities[a],c=u.contentType,c&&MediaSource.isTypeSupported(c)&&(o.audioCapabilities.push(u),l=!0);if(i.videoCapabilities&&i.videoCapabilities.length)for(l=!1,a=0,s=i.videoCapabilities.length;a<s;a++)u=i.videoCapabilities[a],c=u.contentType,c&&(-1===c.indexOf("webm")||e!==te.PLAYREADY&&e!==te.PLAYREADY_HARDWARE)&&MediaSource.isTypeSupported(c)&&(o.videoCapabilities.push(u),l=!0);if(l)return t.audioCapabilities=o.audioCapabilities,void(t.videoCapabilities=o.videoCapabilities)}}_trySetServerCertificate(e,t){const n=this._certificate;return(n&&n.expiry>Date.now()?Promise.resolve(n):this._requestServerCertificate(e)).then(e=>t.setServerCertificate(e.contents)).then(()=>this).catch(e=>(Ie.warn("Error from setting server certificate",e),this))}_cacheServerCertificate(e){let t="";switch(e){case te.FAIRPLAY:t="fairplay";break;case te.WIDEVINE:t="widevine";break;default:return Promise.resolve(this)}return this._requestServerCertificate(`${this._unauthServerCertificateBase}/${t}-license`,!1).then(()=>this,e=>(Ie.warn("Cannot precache server certificate",e),this))}_requestServerCertificate(e,t=!0){if(this._pendingCertificateRequest)return this._pendingCertificateRequest;return this._transport.request(`${e}/v1/application-certificate`,{authorize:t,responseType:"arraybuffer",parseResponseHeaders:!0,retry:{condition:(e,t)=>e.getStatusFamily()===t.SERVER_ERROR}}).then(e=>{var t;if(!e.body)throw new TypeError("Response body is invalid");this._pendingCertificateRequest=null;let n=3600;const r=null===(t=e.headers)||void 0===t?void 0:t.get("cache-control");if(r){const e=r.match(/(?:^|,|\s)max-age=(\d+)(?:,|$)/);e&&e[1]&&(n=1e3*parseInt(e[1],10))}return this._certificate={expiry:Date.now()+(n-600),contents:e.body},this._certificate})}_extractPlayReadyChallenge(e,t){let n=null;const i=new Uint16Array(e),o=String.fromCharCode.apply(null,i);if(-1===o.indexOf("PlayReadyKeyMessage"))return Ie.info("Using unextracted PlayReady message."),e;const a=(new DOMParser).parseFromString(o,"application/xml"),s=a.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;if(s)try{n=atob(s);const e=a.getElementsByTagName("name"),t=a.getElementsByTagName("value");if(e.length!==t.length)throw new oe(r.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")}catch(e){this.emit(ee.EME_LICENSE_REQUEST_ERROR,{playId:t,error:e}),n=null}else this.emit(ee.EME_LICENSE_REQUEST_ERROR,{playId:t,error:new oe(r.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")});return n}_onMessage(e,t){e.timeMap.generate.end=Date.now();let n="message"in t?t.message:null;const r="messageType"in t?t.messageType:void 0;if(Ie.info("Got EME message event with type",r),n&&e.keySystem===te.PLAYREADY&&(n=this._extractPlayReadyChallenge(n,e.playId)),!n)return void Ie.info("Ignoring message event: no valid request payload");if(!e.licenseServer)return void Ie.info("Ignoring message event: no licenseServer url");e.timeMap.request.start=Date.now();let i=e.licenseServer;e.keySystem===te.FAIRPLAY&&(i+="&assetId=hex"),this._transport.request(i,{method:"POST",payload:n,responseType:"arraybuffer",retry:{condition:(e,t)=>400!==e.status&&402!==e.status&&403!==e.status&&(!e.body||e.getStatusFamily()!==t.SUCCESS)}}).then(this._handleLicenseResponse.bind(this,e))}_handleLicenseResponse(e,t){const n=t=>{t.playId=e.playId,e.licenseServer&&(t.licenseServer=e.licenseServer),this.emit(ee.EME_LICENSE_REQUEST_ERROR,{playId:e.playId,error:t})};let i,o;if(e.timeMap.request.end=Date.now(),200!==t.status){try{if(t.body){const e=new Uint8Array(t.body),n=String.fromCharCode.apply(String,e);o=JSON.parse(n).errorMsg}}catch(e){}402===t.status?this.emit(ee.EME_LICENSE_REQUEST_CAPPED,{playId:e.playId,error:new ae(r.CAPPING_USER_IS_CAPPED,"User is capped.")}):400===t.status&&"widevine error"===o?(i=oe.fatal(r.EME_LICENSE_REQUEST_WIDEVINE_ERROR,"Widevine license server failed to parse request."),i.status=t.status,i.shouldRefreshEndpoint=!0,n(i)):(i=new oe(r.EME_LICENSE_REQUEST_FAILED_WITH_STATUS,`License request failed (${o||"unknown"})`),i.status=t.status,i.shouldRefreshEndpoint=400===t.status||403===t.status,n(i))}else{if(!t.body)return i=new oe(r.EME_LICENSE_REQUEST_EMPTY_RESPONSE,"Empty license response body"),i.status=t.status,void n(i);try{e.timeMap.update.start=Date.now(),e.keySession.update(t.body).catch(e=>{n(new oe(r.EME_LICENSE_UPDATE_FAILED,e.message||"License update failed."))}),Ie.info("KeySession updated.")}catch(e){n(new oe(r.EME_LICENSE_UPDATE_FAILED,e.message||"License update failed."))}}}_selectKeySystem(e){const t=this._preferredKeySystems;for(let n=0,r=t.length;n<r;n++){const r=t[n];if(r in e)return e[r]}return null}_testMediaKeys(e){return new Promise(t=>{t(e.createMediaKeys())}).then(t=>{if(!t)return Promise.reject(oe.fatal(r.EME_MEDIA_KEYS_NOT_SUPPORTED,"Cannot create MediaKeys from KeySystemAccess"));e.keySystem===te.FAIRPLAY&&t.setServerCertificate(new ArrayBuffer(0));try{if(!t.createSession())throw new Error("")}catch(e){return Promise.reject(oe.fatal(r.EME_MEDIA_KEY_SESSION_NOT_SUPPORTED,e.message||"Cannot create MediaKeySession from KeySystemAccess"))}return Promise.resolve(e)},e=>(Ie.error(e.name),Promise.reject(oe.fatal(r.EME_MEDIA_KEYS_NOT_SUPPORTED,e.message||"Unknown error"))))}_saveSession(e){this._keySessions.push(e)}destroySessions(){const e=[],t=this._keySessions;for(let n=0,r=t.length;n<r;n++)try{const r=t[n],i=r.keySession;if(!i)continue;r.onMessageListener&&i.removeEventListener(ee.KEY_SESSION_MESSAGE,r.onMessageListener),r.onKeyStatusChangeListener&&i.removeEventListener(ee.KEY_SESSION_STATUSES_CHANGE,r.onKeyStatusChangeListener);const o=Promise.resolve(i.close()).catch(e=>{Ie.warn("Failed to close KeySession",e)});e.push(o),r.keySession=null,r.onMessageListener=null,r.onKeyStatusChangeListener=null,Ie.info("Closed KeySession")}catch(e){Ie.warn("Failed to close KeySession",e)}return this._keySessions=[],Promise.all(e)}init(){const e=this._keySystemDeferred,t={},n=[],i=[];for(let e=0,t=Ce.length;e<t;e++){const t=Ce[e];t.label&&this._configFilter.test(t.label)||i.push(t)}this._configs=i;for(const e in te){if(!Object.prototype.hasOwnProperty.call(te,e))continue;const r=e;n.push(navigator.requestMediaKeySystemAccess(te[r],i).then(e=>{t[e.keySystem]=e}).catch(()=>{}))}return Promise.all(n).then(this._selectKeySystem.bind(this,t)).then(e=>e?this._testMediaKeys(e):Promise.reject(new oe(r.EME_NO_SUPPORTED_KEYSYSTEM,"No supported keysystem was found."))).then(t=>(this._prepareConfiguration(t),e.resolve(t),this._precacheServerCertificate?this._cacheServerCertificate(t.keySystem):this)).catch(t=>{const n=t.code||r.EME_NO_SUPPORTED_KEYSYSTEM,i=t.message||"No supported keysystem";return e.reject(oe.fatal(n,i)),e.promise.then(()=>this)})}createMediaKeys(e){return this._keySystemDeferred.promise.then(e=>e.createMediaKeys()).then(t=>Promise.all([e.setMediaKeys(t),t])).then(([t,n])=>{if(!e.mediaKeys)throw new oe(r.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement");return this._configuration.promise.then(()=>{const e=this._keySystemSettings;return e&&!this._noServerCertificate&&e.withCertificate?this._trySetServerCertificate(e.licenseServer,n):this})})}removeMediaKeys(e){return Promise.resolve(e.setMediaKeys(null)).then(()=>this)}getKeySystemInfo(){return this._configuration.promise}getKeySystemImpl(){return this._emeImpl}createSessionWithParams(e){return new Promise((t,n)=>{Ie.info("Creating KeySession",e.keySystem);const i=e.mediaKeys.createSession(),o={generate:{start:0,end:0},request:{start:0,end:0},update:{start:0,end:0}},a=this._keySystemSettings&&this._keySystemSettings.licenseServer||void 0,s=this._onMessage.bind(this,{keySystem:e.keySystem,keySession:i,licenseServer:e.licenseServer||a,playId:e.playId,timeMap:o});i.addEventListener(ee.KEY_SESSION_MESSAGE,s);const u=()=>{Ie.info("KeyStatus change"),o.update.end=Date.now(),t({elapsed:{generate:Math.max(o.generate.end-o.generate.start,0),request:Math.max(o.request.end-o.request.start,0),update:Math.max(o.update.end-o.update.start,0)}})};return i.addEventListener(ee.KEY_SESSION_STATUSES_CHANGE,u),this._saveSession({keySession:i,onMessageListener:s,onKeyStatusChangeListener:u}),Ie.info("Generating KeySession request",e.keySystem),o.generate.start=Date.now(),Promise.resolve(i.generateRequest(e.initDataType,e.initData.buffer)).catch(e=>{if(!e)return;let t;switch(e.name){case"NotSupportedError":t=r.EME_NOT_SUPPORTED_ERROR;break;case"InvalidStateError":t=r.EME_INVALID_STATE_ERROR;break;default:t=r.EME_UNKNOWN_ERROR}n(new oe(t,e.message||"Unknown error message."))})})}}class Le extends Error{constructor(e=r.STORAGE_ERROR,t="File Error"){super(t),this.canPlayNext=!0,this.debug={},this.code=e,this.message=t,this.name="FileError"}}class De extends Error{constructor(e,t,n,r={}){super(t),this.code=e,this.message=t,this.status=n,this.debug=r,this.name="FragmentError"}}class xe{constructor(e){this._duration=0,this._fallbackURLs=[],this._fragments=[],this._loaded=!1,this._mediaType="audio",this._resolvedURLs=[],this._segmentLength=0,this._abrManager=e.abrManager,this._audioCodec=e.audioCodec||'audio/mp4; codecs="mp4a.40.2"',this._audioMimeType=e.audioMimeType,this._disableCache=e.disableCache,this._fileId=e.fileId,this._format=e.format,this._isAd=e.isAd||!1,this._keySystem=e.keySystem,this._keySystemSettings=Re[this._keySystem],this._licenseEndpoint=e.licenseEndpoint,this._logData=e.logData||{displayTrack:"",playbackId:""},this._resolver=e.resolver,this._resolvedURL=e.resolvedURL,this._transport=e.transport,this._uri=e.uri}_parsePSSHBox(e){const t=M.Base64.decode(e),n=new Uint8Array(t.length);for(let e=0,r=t.length;e<r;e++)n[e]=t.charCodeAt(e);return n}getCalculatedDuration(){return this._duration}getFileId(){return this._fileId}getFormat(){return this._format||""}getFragmentLength(){return this._segmentLength}getInitFragment(){return this._initFragment}getInitParams(){const e={keySystem:this._keySystem,initDataType:this._protection,initData:this._psshBox,licenseServer:null};return Promise.resolve(e)}getKeySystem(){return this._keySystem}getLicenseEndpoint(){return this._licenseEndpoint}getLogData(){return this._logData||{}}getMediaType(){return this._mediaType}getResolvedURL(){return this._resolvedURL}getResolvedURLs(){return this._resolvedURLs}getHLSURL(){if(!this._resolvedURL)throw new Le(r.FILE_NOT_RESOLVED,"Cannot return HLS Manifest URL: File not resolved.");const e=`#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-TARGETDURATION:${Math.floor(this._duration)}\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXT-X-KEY:METHOD=SAMPLE-AES,URI="skd://${this._fileId}",KEYFORMATVERSIONS="1",KEYFORMAT="com.apple.streamingkeydelivery"\n#EXTINF:${this._duration},\n${this._resolvedURL}\n#EXT-X-ENDLIST`;return`data:application/vnd.apple.mpegurl;base64,${M.Base64.encode(e)}`}getURI(){return this._uri}isAd(){return this._isAd}isProtected(){return!!this._protection&&!!this._psshBox}setLogData(e){return this._logData=e,this}toLogJSON(){return{uri:this._uri,fileId:this._fileId,format:this._format||"",resolved_url:this._resolvedURL}}}class Ue extends xe{constructor(e){super(e),this._endTime=0,this._videoCodec="",this._videoMimeType="",this._subtitleLanguages=[],this._videoProfile=null,this._videoProfiles=[],this._audioProfile=null,this._audioProfiles=[],this._baseURL="",this._initTemplate="",this._segmentTemplate="",this._subtitleTemplate="",this._audioCodec=e.audioCodec||"opus",this._audioMimeType=e.audioMimeType||"audio/webm",this._initTemplate="",this._isAd=e.isAd||!1,this._mediaType="video",this._resolver=e.resolver,this._videoCodec=e.videoCodec||"vp8",this._videoMimeType=e.videoMimeType||"video/webm"}static create(e){return new Ue(e)}_updateVariants(){const e=this._abrManager.getBandwidthEstimate();let t;const n=this._videoProfiles,r=n.length;this._audioProfile=this._audioProfiles[0];const i=this._audioProfile?this._audioProfile.audio_bitrate:0;for(let o=0;o<r;o++){const r=n[o];(r.video_bitrate+i<e-1e5||!t)&&(t=r)}this._videoProfile=t||n[r-1]}_constructAudioMimeType(e){return e?`${e.mime_type};codecs="${e.audio_codec}"`:""}_constructVideoMimeType(e){return e?`${e.mime_type};codecs="${e.video_codec}"`:""}_calculateVariants(e,t){const n=this._videoCodec,r=this._videoMimeType,i=this._audioCodec,o=this._audioMimeType,a=[],s=[];for(let u=0,c=e.length;u<c;u++){const c=e[u];"video_codec"in c&&c.video_codec===n&&c.mime_type===r&&c.encryption_index===t?a.push(c):"audio_codec"in c&&c.audio_codec===i&&c.mime_type===o&&c.encryption_index===t&&s.push(c)}this._videoProfiles=this._sortByProfilesByBitrate(a),this._audioProfiles=s}_sortByProfilesByBitrate(e){return e.sort((e,t)=>e.max_bitrate-t.max_bitrate)}_constructFragmentURL(e){if(!this._audioProfile&&!this._videoProfile)throw new Error("Both audioProfile and videoProfile is null");return e.init?this._resolver.getInitSegmentURLs(this._baseURL,this._initTemplate,this._audioProfile,this._videoProfile):this._resolver.getSegmentURLs(this._baseURL,this._segmentTemplate,e.timeStart,this._audioProfile,this._videoProfile)}_fetchBufferForFragment(e){if(!e.fetchingBufferPromise){const t=Date.now(),n=this._videoProfile?this._videoProfile.video_resolution:void 0,r={method:"GET",responseType:"arraybuffer",timing:!0,retry:{condition:(e,t)=>{if(0===e.status)return!0;const n=e.getStatusFamily();return n===t.CONNECTION_ERROR||n===t.SERVER_ERROR}}};let i;try{i=this._constructFragmentURL(e)}catch(e){return Promise.reject(e)}e.fetchingBufferPromise=Promise.all([this._transport.request(i.audio,r).then(this._parseFragmentResponse.bind(this,e,"audio")),this._transport.request(i.video,r).then(this._parseFragmentResponse.bind(this,e,"video"))]).then(([r,o])=>(e.quality=n,e.bitrate=this._videoProfile?this._videoProfile.video_bitrate:void 0,e.cacheBuffer&&(e.audio.buffer=r.buffer,e.audio.bufferURL=i.audioLogging,e.video&&(e.video.buffer=o.buffer,e.video.bufferURL=i.videoLogging)),e.fetchingBufferPromise=null,this._abrManager.sample(r.buffer.byteLength+o.buffer.byteLength,Date.now()-t),this._updateVariants(),{audio:{bandwidth:r.bandwidth,buffer:r.buffer,bufferURL:i.audioLogging,byteEnd:e.audio.byteEnd,byteStart:e.audio.byteStart,codec:e.audio.codec},video:{bandwidth:o.bandwidth,buffer:o.buffer,bufferURL:i.videoLogging,byteEnd:e.video?e.video.byteEnd:0,byteStart:e.video?e.video.byteStart:0,codec:e.video?e.video.codec:""}})).catch(t=>(e.fetchingBufferPromise=null,Promise.reject(t)))}return e.fetchingBufferPromise}_parseFragmentResponse(e,t,n){const i=`${e.timeStart}-${e.timeEnd}`;let o=null;switch(e[t]&&(o=e[t]),n.status){case 0:return Promise.reject(new De(r.FRAGMENT_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:i,codec:o,quality:e.quality}));case 200:case 206:return n.body?Promise.resolve({buffer:n.body,bandwidth:8e3*n.body.byteLength/n.timing.completed}):Promise.reject(new De(r.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",n.status,{time_range:i,codec:o,quality:e.quality}))}return Promise.reject(new De(r.FRAGMENT_REQUEST_FAILED_WITH_STATUS,`Buffer request failed with status ${n.status}`,n.status,{time_range:i,codec:o,quality:e.quality}))}_calculateFragments(e){this._duration=e.end_time_millis/1e3;const t=this._segmentLength;this._initFragment={init:!0,cacheBuffer:!this._disableCache,timeStart:-1,timeEnd:-1,quality:0,bitrate:0,audio:{bufferURL:null,buffer:null,codec:this._constructAudioMimeType(this._audioProfile),byteStart:-1,byteEnd:-1},video:{bufferURL:null,buffer:null,codec:this._constructVideoMimeType(this._videoProfile),byteStart:-1,byteEnd:-1}};for(let e=0;e<this._duration;e+=t)this._fragments.push({bitrate:0,cacheBuffer:!e&&!this._disableCache,timeStart:e,timeEnd:e+t,quality:0,fetchingBufferPromise:null,audio:{bufferURL:null,buffer:null,codec:this._constructAudioMimeType(this._audioProfile),byteStart:-1,byteEnd:-1},video:{bufferURL:null,buffer:null,codec:this._constructVideoMimeType(this._videoProfile),byteStart:-1,byteEnd:-1}})}abort(){}getBitrateForTime(e){if(null===this._fragments)return 0;const t=this._segmentLength,n=(e-e%t)/t,r=this._fragments[n].bitrate;return void 0===r?0:r}getBufferForFragment(e){return e&&e.audio.buffer&&e.video&&e.video.buffer&&e.quality&&this._videoProfile&&e.quality>=this._videoProfile.video_resolution?Promise.resolve({audio:{bufferURL:e.audio.bufferURL,buffer:e.audio.buffer,codec:e.audio.codec,bandwidth:0,byteStart:-1,byteEnd:-1},video:{bufferURL:e.video.bufferURL,buffer:e.video.buffer,codec:e.video.codec,bandwidth:0,byteStart:-1,byteEnd:-1}}):this._fetchBufferForFragment(e)}clearCachedBuffers(){this._initFragment&&(this._initFragment.audio.buffer=null,this._initFragment.video&&(this._initFragment.video.buffer=null)),this._fragments.forEach((function(e){e.audio.buffer=null,e.video&&(e.video.buffer=null)}))}getDuration(){return this._endTime}getFragmentAfterTime(e){if(null===this._fragments)return null;let t=null;if(0===e||.01===e)t=this._fragments[1];else for(let n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart>=e){t=this._fragments[n];break}return t}getFragmentForTime(e){if(null===this._fragments)return null;let t=null;if(0===e||.01===e)t=this._fragments[0];else for(let n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart<=e&&this._fragments[n].timeEnd>=e){t=this._fragments[n];break}return t}getSubtitleLanguages(){return this._subtitleLanguages}getSubtitleForLanguage(e){return this._subtitleTemplate.replace("{{profile_id}}",e)}load(e={resolveLatency:0,manifestLatency:0}){if(this._loaded)return e.resolveLatency=0,e.manifestLatency=0,Promise.resolve(this);const t=Date.now();return this._resolver.getManifest(this._fileId).then(n=>{let i;e.resolveLatency=0,e.manifestLatency=Date.now()-t;const o=n.contents[0];if(!o)return i=new Le(r.FILE_MALFORMED_SEEKTABLE,"Malformed seektable: no contents."),i.track=this.toLogJSON(),Promise.reject(i);this._resolvedURLs=n.base_urls.slice(),this._baseURL=n.base_urls.shift()||"",this._fallbackURLs=n.base_urls,this._initTemplate=n.initialization_template,this._segmentTemplate=n.segment_template,this._segmentLength=o.segment_length;let a=void 0;if(o.encryption_infos&&o.encryption_infos.length){const e=o.encryption_infos,t=this._keySystemSettings.commonName;let n;for(let r=0,i=e.length;r<i;r++){const i=e[r];if(i&&i.key_system===t){a=r,n=i[this._keySystemSettings.pssh_field.video];break}}if(!n)return i=new Le(r.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format."),i.track=this.toLogJSON(),Promise.reject(i);this._protection="cenc";try{this._psshBox=this._parsePSSHBox(n)}catch(e){return i=new Le(r.FILE_MALFORMED_PSSH,"Invalid PSSH value."),i.track=this.toLogJSON(),Promise.reject(i)}}return this._endTime=n.end_time_millis,this._calculateVariants(o.profiles,a),this._updateVariants(),this._calculateFragments(n),this._subtitleLanguages=n.subtitle_language_codes||[],this})}getResolveLatency(){}getPlayableCodecs(){return[this._constructAudioMimeType(this._audioProfile),this._constructVideoMimeType(this._videoProfile)]}getAudioProfile(){return this._audioProfile}getVideoProfile(){return this._videoProfile}getVideoProfiles(){return this._videoProfiles}}class Me extends xe{constructor(e){super(e),this._fetching=[],this._lastResolveTimestamp=0,this._endPaddingDuration=0,this._frontPaddingDuration=0,this._audioCodec=e.audioCodec||'audio/mp4; codecs="mp4a.40.2"',this._bypassResolve=!!this._resolvedURL,this._emitWarning=e.emitWarning||function(){},this._mediaType="audio",this._noManifest=!!e.noManifest,this._preloadedManifest=e.preloadedManifest,this._resolver=e.resolver,this._segmentLength=10}static create(e){return new Me(e)}_calculateFragments(e){let t=e.offset;this._initFragment={init:!0,cacheBuffer:!this._disableCache,timeStart:0,timeEnd:0,audio:{buffer:null,bufferURL:null,byteEnd:t-1,byteStart:0,codec:this._audioCodec}};const n=e.segments,r=e.timescale,i=n.length,o=new Array(i);let a=0,s=0;for(let e=0,u=i;e<u;e++){const i=n[e],u=i[0],c=i[1],l=c/r,p={byteStart:t,byteEnd:t+(u-1),codec:this._audioCodec,buffer:null,bufferURL:null},f={init:!1,cacheBuffer:!e&&!this._disableCache,timeStart:a,timeEnd:a+l,audio:p};o[e]=f,t+=u,s+=c,a+=l}const u=o[o.length-1].byteEnd;o[o.length-1].isLastFragment=!0,this._fragments=o,this._duration=s/r,this._frontPaddingDuration=1024/44100,this._endPaddingDuration=(1024-u%1024+2048)/r}_calculateFragmentsV1(e){let t=e.offset;const n={codec:this._audioCodec,buffer:null,bufferURL:null,byteStart:0,byteEnd:t-1};this._initFragment={init:!0,cacheBuffer:!this._disableCache,timeStart:0,timeEnd:0,audio:n};const r=e.references,i=e.timescale,o=r.length,a=new Array(o);let s=0,u=0;for(let e=0,n=o;e<n;e++){const n=r[e],o=n.duration/i,c={byteStart:t,byteEnd:t+(n.size-1),codec:this._audioCodec,buffer:null,bufferURL:null},l={init:!1,cacheBuffer:!e&&!this._disableCache,timeStart:u,timeEnd:u+o,audio:c};a[e]=l,t+=n.size,s+=n.duration,u+=o}a[a.length-1].isLastFragment=!0,this._fragments=a,this._duration=s/i}_endFetching(e){const t=this._fetching.indexOf(e);-1!==t&&this._fetching.splice(t,1)}_getManifest(e){if(this._noManifest)return e&&(e.manifestLatency=0),Promise.resolve(null);if(this._preloadedManifest)return e&&(e.manifestLatency=0),Promise.resolve(this._preloadedManifest);const t=Date.now();return this._resolver.getManifest(this._fileId).then((function(n){return e&&(e.manifestLatency=Date.now()-t),n}))}_startFetching(e){this._fetching.push(e)}clearCachedBuffers(){this._headFragment&&delete this._headFragment,this._initFragment&&(this._initFragment.audio.buffer=null),this._fragments&&this._fragments[0]&&(this._fragments[0].audio.buffer=null)}getPlayableCodecs(){return[this.isProtected()?this._audioCodec:'audio/mpeg; codecs="mp3"']}getFirstFragment(){return this._fragments[0]}getHeadFragment(){const e=this._initFragment,t=this._fragments[0];return this._headFragment||(this._headFragment={init:!0,cacheBuffer:!0,timeStart:0,timeEnd:0,audio:{byteStart:e.audio.byteStart,byteEnd:t.audio.byteEnd,codec:this._audioCodec,bufferURL:null,buffer:null,bandwidth:0,sliceInto:[{fragment:e,start:0,end:t.audio.byteStart},{fragment:t,start:t.audio.byteStart,end:void 0}]}}),this._headFragment}getFragmentAfterTime(e){if(0===e||.01===e)return this._fragments[1];for(const t of this._fragments)if(t.timeStart>e)return t;return null}getFragmentForTime(e){if(0===e||.01===e)return this._fragments[0];for(const t of this._fragments)if(t.timeStart<=e&&t.timeEnd>=e)return t;return null}getBufferForFragment(e){if(!e)return Promise.reject(new Error("FIXME: error type?"));if(e.audio&&e.audio.buffer)return Promise.resolve({audio:e.audio});if(!this._resolvedURL)return Promise.reject(new Le(r.FILE_NOT_RESOLVED,"Cannot fetch buffer: No resolved URL"));const t=se();this._startFetching(t);const n=e.audio.byteEnd+1-e.audio.byteStart,i=`${e.audio.byteStart}-${e.audio.byteEnd}`,o=`${e.timeStart}-${e.timeEnd}`;let a,s,u;const c=this._resolvedURL;return this._transport.request(c,{method:"GET",responseType:"arraybuffer",headers:{Range:`bytes=${i}`},timing:!0,canceller:t.promise,retry:{condition:(e,t)=>{if(0===e.status)return e.offline;const r=e.getStatusFamily();return r===t.CONNECTION_ERROR||r===t.SERVER_ERROR||!(r!==t.SUCCESS||!e.body)&&e.body.byteLength!==n}}}).then(l=>{switch(this._endFetching(t),l.status){case 0:return l.offline?Promise.reject(new De(r.FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:o,byte_range:i})):(a=new De(r.FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0),u=!1,this._resolvedURL!==c?u=!0:this._fallbackURLs.length&&this._resolvedURL===c&&(u=!0,this._resolvedURL=this._fallbackURLs.shift()),a.debug.has_fallback=u,u?(this._emitWarning(a,this.toLogJSON()),this.getBufferForFragment(e)):Promise.reject(a));case 200:case 206:if(!l.body)return Promise.reject(new De(r.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",l.status,{time_range:o,byte_range:i}));if(s=l.body,s.byteLength!==n)return Promise.reject(new De(r.FRAGMENT_REQUEST_UNEXPECTED_LENGTH,"Received buffer of unexpected length.",l.status,{time_range:o,byte_range:i,received_length:s.byteLength,expected_length:n}));if(e.cacheBuffer&&s&&s.byteLength){e.audio.bufferURL=c,e.audio.buffer=s;const t=e.audio.sliceInto;if(t&&t.length)for(let e=0,n=t.length;e<n;e++){const n=t[e];n.fragment&&n.fragment.cacheBuffer&&(n.fragment.audio.bufferURL=c,n.fragment.audio.buffer=s.slice(n.start,n.end))}}return this._abrManager.sample(s.byteLength,l.timing.completed),Promise.resolve({audio:{bufferURL:c,byteStart:e.audio.byteStart,byteEnd:e.audio.byteEnd,buffer:s,codec:this._audioCodec,bandwidth:8e3*s.byteLength/l.timing.completed}});case 403:return this.resolve().then(()=>this.getBufferForFragment(e));default:return u=!1,this._resolvedURL!==c?u=!0:this._fallbackURLs.length&&this._resolvedURL===c&&(u=!0,this._resolvedURL=this._fallbackURLs.shift()),u?this.getBufferForFragment(e):Promise.reject(new De(r.FRAGMENT_REQUEST_FAILED_WITH_STATUS,`Buffer request failed with status ${l.status}`,l.status,{time_range:o,byte_range:i}))}})}resolve(e){if(this._bypassResolve)return e&&(e.resolveLatency=0),Promise.resolve({uri:this._resolvedURL,uris:[],protection:this._preloadedManifest||!this._noManifest?"cenc":void 0});clearTimeout(this._lastResolveToken);const t=()=>(this._lastResolveTimestamp=Date.now(),this._resolver.getCDNURL(this._fileId).then(t=>(e&&(e.resolveLatency=Date.now()-this._lastResolveTimestamp),t))),n=Date.now()-this._lastResolveTimestamp;let r;return r=n<1001?new Promise((e,r)=>{this._lastResolveToken=setTimeout(()=>{t().then(e,r)},1001-n)}):t(),r.then(e=>{this._resolvedURLs=[];for(let t=0,n=e.uris.length;t<n;t++){const n=e.uris[t].split("?")[0];this._resolvedURLs.push(n)}return this._fallbackURLs=e.uris,this._resolvedURL=this._fallbackURLs.shift(),e}).catch(e=>(e&&(e.track=this.toLogJSON()),Promise.reject(e)))}load(e={resolveLatency:0,manifestLatency:0}){return this._loaded?(e.resolveLatency=0,e.manifestLatency=0,Promise.resolve(this)):Promise.all([this.resolve(e),this._getManifest(e)]).then(([e,t])=>{if(this._loaded=!0,!e.protection||!t)return this;if(this._keySystem===te.INVALID_SPOTIFY_KEY)return this._protection=t.protection||"cenc",this._psshBox=new Uint8Array(0),this;let n;const i=this._keySystemSettings.pssh_field.audio;let o=function(e,t){return t.hasOwnProperty(e)}(i,t)?t[i]:null;if(o||"pssh_widevine"!==i||(o=t.pssh),!o)return n=new Le(r.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format."),n.track=this.toLogJSON(),Promise.reject(n);if(this._protection=t.protection||"cenc",this._psshBox=this._parsePSSHBox(o),t.segments)this._calculateFragments(t);else{if(!t.references)return n=new Le(r.FILE_MALFORMED_SEEKTABLE,"Malformed seektable."),n.track=this.toLogJSON(),Promise.reject(n);this._calculateFragmentsV1(t)}return this})}abort(){this._fetching.forEach(e=>{"function"==typeof e.resolve&&e.resolve(!0)}),this._fetching=[]}}const Fe=N.a.forTag("playback.content_buffer");function je(){}class Be extends u.b{constructor(e,t=[],n={}){super(),this._mediaSource=null,this._sourceBuffers={},this._appendingFragments=[],this._updateQueue=[],this._codecs=[],this._playId=0,this._lastBufferClearTime=Date.now(),this._codecs=t,this._tracker=e,this._disableBufferAbort=!!n.disableBufferAbort,this._onSourceOpen=this._onSourceOpen.bind(this),this._onSourceClose=this._onSourceClose.bind(this),this.dequeueUpdates=this.dequeueUpdates.bind(this),n.noInit||this._init()}static create(e,t=[],n={}){return new Be(e,t,n)}_init(){this._mediaSource=new MediaSource,this._mediaSource.addEventListener(ee.MEDIA_SOURCE_OPEN,this._onSourceOpen),this._mediaSource.addEventListener(ee.MEDIA_SOURCE_CLOSE,this._onSourceClose),this._sourceBuffers={}}_onSourceOpen(){Fe.info("MediaSource opened.");const e=this._mediaSource;if(e&&0===e.sourceBuffers.length&&"open"===e.readyState){Fe.info("Creating source buffers for codecs",this._codecs);for(let e=0,t=this._codecs.length;e<t;e++)this._addSourceBuffer(this._codecs[e])}this.dequeueUpdates(),this.emit(ee.BUFFER_SOURCE_OPEN,null)}_onSourceClose(){Fe.info("MediaSource closed."),this._destroySourceBuffers(),this.emit(ee.BUFFER_SOURCE_CLOSE,null)}_removeAppendingFragment(e){if(!e)return;const t=this._appendingFragments,n=t.indexOf(e);-1!==n&&t.splice(n,1)}_addSourceBuffer(e){if(this._mediaSource){const t=this._mediaSource.addSourceBuffer(e);t.addEventListener(ee.SOURCE_BUFFER_UPDATE_END,this.dequeueUpdates),this._sourceBuffers[e]=t}}_trackBufferingProgress(e){e.audio&&e.audio.buffer&&this._tracker.trackBytesDownloaded(e.audio.buffer.byteLength),e.video&&e.video.buffer&&this._tracker.trackBytesDownloaded(e.video.buffer.byteLength)}_checkStalling(e,t,n){const r=t.video?t.video.byteStart:t.audio.byteStart;var i;e>9e3&&this.emit(ee.BUFFER_STALLED,{byteStart:r,timeStart:(i=t.timeStart,Math.ceil(1e3*i)),stallAmount:e-9e3,didTimeout:n})}_appendBufferData(e,t,n,r=Date.now()){this.emit(ee.BUFFERING_END,null);const i=[],o=se();if(this.tryUpdate({playId:n,timestamp:r,fragment:t,type:"append",buffer:e.audio.buffer,codec:e.audio.codec,init:!!t.init,resolve:o.resolve}),i.push(o.promise),null!==e.audio.bandwidth&&this._tracker.trackBufferURL(e.audio.bufferURL||"",{bandwidth:e.audio.bandwidth||0}),e.video){const o=se();this.tryUpdate({playId:n,timestamp:r,fragment:t,type:"append",buffer:e.video.buffer,codec:e.video.codec,init:!!t.init,resolve:o.resolve}),i.push(o.promise),null!==e.video.bandwidth&&this._tracker.trackBufferURL(e.video.bufferURL||"",{bandwidth:e.video.bandwidth||0})}return Promise.all(i)}_appendUpdate(e){const t=this._sourceBuffers[e.codec];if(!t||t.updating)this._updateQueue.push(e);else{this._removeAppendingFragment(e.fragment);try{t.appendBuffer(e.buffer)}catch(t){if("QuotaExceededError"===t.name&&this.emitSync(ee.BUFFER_QUOTA_EXCEEDED,null),Fe.warn("Failed to append buffer",t),Promise.resolve().then(this.dequeueUpdates).then(()=>{e.init&&this._updateQueue.push(e)}),e.init)return}e.resolve&&e.resolve(!0)}}_abortUpdate(e){"fragment"in e&&this._removeAppendingFragment(e.fragment),e.resolve&&e.resolve(!1),Promise.resolve().then(this.dequeueUpdates)}_processUpdate(e){"end"===e.type?this._endUpdate(e):"duration"===e.type?this._durationUpdate(e):"append"===e.type&&this._appendUpdate(e)}_isUpdating(){if(!this._mediaSource)return!1;const e=this._mediaSource.sourceBuffers;for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&n.updating)return!0}return!1}_endUpdate(e){this._isUpdating()?this._updateQueue.push(e):this._mediaSource&&"open"===this._mediaSource.readyState&&(this._mediaSource.endOfStream(),e.resolve&&e.resolve(!0))}_durationUpdate(e){this._isUpdating()?this._updateQueue.push(e):(this._mediaSource&&(this._mediaSource.duration=e.duration),e.resolve&&e.resolve(!0))}_destroySourceBuffers(){const e=this._mediaSource;if(!e)return;const t=e.sourceBuffers;if(t.length)for(let n=0,r=t.length;n<r;n++){const r=t[n];r.removeEventListener("updateend",this.dequeueUpdates);try{e.removeSourceBuffer(r),Fe.info("Removed source buffer")}catch(e){Fe.warn("Failed to remove sourcebuffer",e)}}this._sourceBuffers={}}_endOfStream(){this._mediaSource&&"ended"!==this._mediaSource.readyState&&this.tryUpdate({playId:this._playId,timestamp:Date.now(),type:"end"})}dequeueUpdates(){const e=this._updateQueue.shift();e&&this.tryUpdate(e)}appendFragment(e,t,n=!1){if(-1!==this._appendingFragments.indexOf(t))return Promise.resolve([]);this._appendingFragments.push(t),this.emit(ee.BUFFERING_START,null);const r=Date.now(),i=this._playId,o=e.toLogJSON();return e.getBufferForFragment(t).then(e=>(this._trackBufferingProgress(e),i!==this._playId?(Fe.info("Append fragment dropped: playId has changed."),[]):(n||this._checkStalling(Date.now()-r,t,!1),this._appendBufferData(e,t,i,r)))).catch(e=>(this._removeAppendingFragment(t),n||this._checkStalling(Date.now()-r,t,!0),this.emit(ee.BUFFER_APPEND_ERROR,{error:e,canPlayNext:!0,track:o}),Promise.reject(e)))}abort(e=!1){if(this._disableBufferAbort)Fe.info("Buffer abort skipped; action disabled.");else{if(this._lastBufferClearTime=Date.now(),this._mediaSource){const t=this._mediaSource.sourceBuffers;for(let n=0,r=t.length;n<r;n++)if("open"===this._mediaSource.readyState){const r=t[n];try{r.abort();const t=r.buffered;if(e&&t.length){const e=t.start(0),n=t.end(t.length-1);r.remove(e,n),Fe.info("Cleared buffer range",e,n)}}catch(e){Fe.warn("ACMEBuffer.clear failed.",e)}}}this._appendingFragments=[]}}getMediaSource(){return this._mediaSource}tryUpdate(e){if(!e)return;if(e.playId!==this._playId)return Fe.info("Try update dropped: playId has changed"),void this._abortUpdate(e);if(e.timestamp<this._lastBufferClearTime)return Fe.info("Try update dropped: update is older than the last clear"),void this._abortUpdate(e);const t=this._mediaSource;t&&"open"!==t.readyState&&"ended"!==t.readyState?this._updateQueue.push(e):this._processUpdate(e)}destroy(){const e=this._mediaSource;e&&(Fe.info("Source destroyed"),e.removeEventListener("sourceopen",this._onSourceOpen),e.removeEventListener("sourceclose",this._onSourceClose),this._destroySourceBuffers(),this._mediaSource=null)}progress(e,t,n){const r=this._mediaSource;if(r&&("open"===r.readyState||"ended"===r.readyState)){let i,o;const a="video"===e.getMediaType(),s=function(e,t){const n=e.sourceBuffers&&e.sourceBuffers.length>0&&e.sourceBuffers[0].buffered;if(n){let e,r;for(let i=0;i<n.length;i++)if(e=n.start(i),r=n.end(i),e<=t&&t<=r)return{start:e,end:r}}return null}(r,n);if(s){if(n+10>r.duration)return void("open"===r.readyState&&this._endOfStream());const a=e.getFragmentLength();Math.ceil(n/a)>Math.floor(s.end/a)&&(i=e.getFragmentForTime(n),i&&this.appendFragment(e,i,t).catch(je));const u=Math.floor(s.end-n);if(u>10)return;const c=Math.min(e.getFragmentLength(),10-u);if(c<1)return;o=Math.floor(s.end+c),i=e.getFragmentForTime(o),i?this.appendFragment(e,i,t).catch(je):this._endOfStream()}else if(i=e.getFragmentForTime(n),i){if(this.appendFragment(e,i,t).catch(je),i.timeEnd<n+5){o=a?Math.floor(n):n;const r=e.getFragmentAfterTime(o);r?this.appendFragment(e,r,t).catch(je):this._endOfStream()}}else this._endOfStream()}}recreate(e){this.abort(),this.destroy(),this._codecs=e,this._init()}setDuration(e){this.tryUpdate({playId:this._playId,timestamp:Date.now(),type:"duration",duration:e})}setPlayId(e){this._playId=e}}class Ve{constructor(e){if(this._estimate=0,this._totalWeight=0,e<0)throw new TypeError("Halflife must be set to a positive value.");this._weightingDecrease=Math.exp(Math.log(.5)/e)}sample(e,t){const n=Math.pow(this._weightingDecrease,e/1e3),r=t*(1-n)+n*this._estimate;isNaN(r)||(this._estimate=r,this._totalWeight+=t)}getEstimate(){return this._estimate/1-Math.pow(this._weightingDecrease,this._totalWeight)}}class He{constructor(e=4e5){this._totalBytes=0,this._overrideBitrate=0,this._currentBandwidth=e,this._short=new Ve(2),this._long=new Ve(5),this._init()}_init(){if("undefined"==typeof navigator)return;const e=navigator;e.connection&&e.connection.downlink&&(this._currentBandwidth=1e6*e.connection.downlink,this._onConnectionChange=this._onConnectionChange.bind(this),e.connection.addEventListener("change",this._onConnectionChange))}_onConnectionChange(e){const t=e.target.downlink||0;this._setBandwidth(t)}_setBandwidth(e){this._currentBandwidth=1e6*e}getBandwidthEstimate(){if(this._overrideBitrate)return this._overrideBitrate;if(this._totalBytes<128e3)return this._currentBandwidth;const e=this._short.getEstimate(),t=this._long.getEstimate();return Math.min(e,t)}sample(e,t){if(e<16e3)return;const n=8e3*e/t;this._totalBytes+=e,this._short.sample(t,n),this._long.sample(t,n)}overrideBitrate(e){this._overrideBitrate=e<=0?0:e}}const We=N.a.forTag("playback.player"),Ke=/^blob:/;function Ge(e){return Math.ceil(1e3*e)}function Ye(e){return e/1e3}function qe(e){return document.createElement(e)}class ze extends u.b{constructor(e){super(),this._subtitlesVisible=!1,this._cubicVolume=!1,this._subtitleLanguage="",this._player=null,this._emeManager=null,this._currentContent=null,this._upcomingContent=null,this._preloadingTracks={},this._playId=0,this._loaded=!1,this._playerActivated=!1,this._pauseToken=0,this._syntheticEndedToken=0,this._activeCodecs=[],this._playerVolume=1,this._fatalOnNextError=!1,this._canPreloadEmitted=!1,this._lastTimeUpdatePostion=0,this._audioResolver=e.audioResolver,this._clearBufferOnSeek=!!e.clearBufferOnSeek,this._createPlayer=e.createPlayer||qe,this._cubicVolume=e.cubicVolume,this._disableCache=!!e.disableCache,this._licenseURLResolver=e.licenseURLResolver,this._newBufferPerTrack=!!e.newBufferPerTrack,this._newElementPerTrack=!!e.newElementPerTrack,this._newMediaKeysPerTrack=!!e.newMediaKeysPerTrack,this._rebufferOnQuotaExceeded=!!e.rebufferOnQuotaExceeded,this._synthesizeEnded=!!e.synthesizeEnded,this._tracker=e.tracker,this._transport=e.transport,this._videoPlayerContainer=e.videoPlayerContainer,this._videoResolver=e.videoResolver,this._abrManager=new He,this._emeManager=e.disallowProtectedTracks?null:e.emeManager||null,this._cache=new Z(e.trackCacheSize||2),We.info("Setting Player track cache to:",e.trackCacheSize||2),this._buffer=Be.create(this._tracker,void 0,{disableBufferAbort:!!e.disableBufferAbort,noInit:!0}),this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onPause=this._onPause.bind(this),this._onSeeking=this._onSeeking.bind(this),this._onEncrypted=this._onEncrypted.bind(this),this._onEnded=this._onEnded.bind(this),this._onError=this._onError.bind(this),this._onRequiresDuration=this._onRequiresDuration.bind(this),this._onQuotaExceeded=this._onQuotaExceeded.bind(this),this._onLoadedMetadata=this._onLoadedMetadata.bind(this),this._onWaiting=this._onWaiting.bind(this),this._onPlayedThresholdReached=this._onPlayedThresholdReached.bind(this),this._onSyntheticEnded=this._onSyntheticEnded.bind(this),this._onLicenseRequestCapped=this._onLicenseRequestCapped.bind(this),this._onLicenseRequestError=this._onLicenseRequestError.bind(this),this._onNavigatorOffline=this._onNavigatorOffline.bind(this),this._onBufferError=this._onBufferError.bind(this),this._emitWarning=this._emitWarning.bind(this),this._handleLoadingComplete=this._handleLoadingComplete.bind(this),this.proxyEmitSync(this._tracker,ee.TRACKER_TRACKING_DATA_CREATED,ee.PLAYER_TRACKING_DATA_CREATED),this.proxyEmitSync(this._tracker,ee.TRACKER_TRACKING_DATA_FINALIZED,ee.PLAYER_TRACKING_DATA_FINALIZED),this.proxyEmitSync(this._tracker,ee.TRACKER_PLAYBACK_START,ee.PLAYER_PLAYBACK_START),this._tracker.on(ee.TRACKER_PLAYED_THRESHOLD_REACHED,this._onPlayedThresholdReached),this._emeManager&&(this._emeManager.on(ee.EME_LICENSE_REQUEST_CAPPED,this._onLicenseRequestCapped),this._emeManager.on(ee.EME_LICENSE_REQUEST_ERROR,this._onLicenseRequestError)),this._disableCache&&We.info("Cache disabled."),this._transport.on(this._transport.EVENT_CONNECTION_OFFLINE,this._onNavigatorOffline),this._buffer.on(ee.BUFFER_APPEND_ERROR,this._onBufferError),this._buffer.on(ee.BUFFER_QUOTA_EXCEEDED,this._onQuotaExceeded),this.proxyEmit(this._buffer,ee.BUFFER_STALLED,ee.PLAYER_BUFFER_STALLED),this.proxyEmit(this._buffer,ee.BUFFERING_START,ee.PLAYER_BUFFERING_START),this.proxyEmit(this._buffer,ee.BUFFERING_END,ee.PLAYER_BUFFERING_END)}static create(e){const t=Object.assign({},e);return ke.create({transport:e.transport,disallowRobustnessValues:e.disallowRobustnessValues,noServerCertificate:e.noServerCertificate,precacheServerCertificate:e.precacheServerCertificate,unauthServerCertificateBase:e.unauthServerCertificateBase,preferredKeySystems:e.preferredKeySystems}).then(e=>{t.emeManager=e;const n=new ze(t);return t.preinitMediaElement?n._preinitMediaElement():n})}static createWithOptions(e){return new Promise(t=>{const n=new ze(e);t(e.preinitMediaElement?n._preinitMediaElement():n)})}_onLicenseRequestError(e){if(e.data.playId!==this._playId)return;const t=this._currentContent;if(!t)return;const n=e.data.error;n.shouldRefreshEndpoint&&this._licenseURLResolver.remove(t.getKeySystem(),t.getMediaType()),this._emitError(n,!n.unrecoverable,t.toLogJSON())}_onLicenseRequestCapped(e){if(e.data.playId!==this._playId)return;this._currentContent&&(this.pause(),this.emit(ee.PLAYER_CAPPED,null))}_shouldNextErrorBeFatal(){const e=this._currentContent;if(!e)return!1;if(e.isAd()||!e.isProtected())return!1;if(!this._player)return!1;const t=this._player.error;if(!(t&&t instanceof MediaError))return this._fatalOnNextError=!1,!1;switch(t.code){case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:case MediaError.MEDIA_ERR_DECODE:return!0;default:return!1}}_onNavigatorOffline(){this._tracker.trackNavigatorOffline()}_onBufferError(e){this._emitError(e.error,e.canPlayNext,e.track)}_addPlayerEvents(e){e.addEventListener(ee.MEDIA_TIMEUPDATE,this._onTimeUpdate),e.addEventListener(ee.MEDIA_PLAYING,this._onPlaying),e.addEventListener(ee.MEDIA_PAUSE,this._onPause),e.addEventListener(ee.MEDIA_SEEKING,this._onSeeking),e.addEventListener(ee.MEDIA_ENCRYPTED,this._onEncrypted),e.addEventListener(ee.MEDIA_ENDED,this._onEnded),e.addEventListener(ee.MEDIA_ERROR,this._onError),e.addEventListener(ee.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),e.addEventListener(ee.MEDIA_DURATIONCHANGE,this._onDurationChange),e.addEventListener(ee.MEDIA_WAITING,this._onWaiting),e.addEventListener(ee.MEDIA_CANPLAY,this._onCanPlay),e.addEventListener(ee.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),e.addEventListener(ee.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration)}_removePlayerEvents(e){e.removeEventListener(ee.MEDIA_TIMEUPDATE,this._onTimeUpdate),e.removeEventListener(ee.MEDIA_PLAYING,this._onPlaying),e.removeEventListener(ee.MEDIA_PAUSE,this._onPause),e.removeEventListener(ee.MEDIA_SEEKING,this._onSeeking),e.removeEventListener(ee.MEDIA_ENCRYPTED,this._onEncrypted),e.removeEventListener(ee.MEDIA_ENDED,this._onEnded),e.removeEventListener(ee.MEDIA_ERROR,this._onError),e.removeEventListener(ee.MEDIA_WAITING,this._onWaiting),e.removeEventListener(ee.MEDIA_CANPLAY,this._onCanPlay),e.removeEventListener(ee.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),e.removeEventListener(ee.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),e.removeEventListener(ee.MEDIA_DURATIONCHANGE,this._onDurationChange),e.removeEventListener(ee.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration)}_recreateMediaElement(e,t,n,r){if(t!==this._playId)return We.info("Recreate player dropped: playId has changed."),Promise.resolve(!1);const i=this._player;if(i){if(!this._newElementPerTrack||"AUDIO"!==i.tagName||"video"!==n){let t=!0;for(let n=0,r=e.length;n<r;n++)if(!i.canPlayType(e[n])){t=!1;break}if(t)return We.info("Reusing media element."),e.join(",")===this._activeCodecs.join(",")&&!this._newBufferPerTrack||r||(We.info("Recreating buffer."),this._buffer.recreate(e),this._activeCodecs=e),Promise.resolve(!0)}this._removePlayerEvents(i),i.pause(),this._emeManager&&this._emeManager.removeMediaKeys(i).catch((function(e){We.warn("Failed to remove media keys.",e)})),this._player=null}We.info("Creating new media element.");const o=this._createPlayer(n),a=this._playerVolume;return o.autoplay=!1,o.loop=!1,o.volume=this._cubicVolume?a*a*a:a,"playsInline"in o&&(o.playsInline=!0),this._player=o,this._playerActivated=!1,this._addPlayerEvents(o),r||this._buffer.recreate(e),this._activeCodecs=e,Promise.resolve(!0)}_getVideoContainer(){return"string"==typeof this._videoPlayerContainer?document.querySelector(this._videoPlayerContainer):this._videoPlayerContainer||null}_onDurationChange(){const e=this._playId,t=()=>{if(!this._player)return;if(e!==this._playId)return void We.info("Duration changed drop: playId has changed.");const t=Ge(this._player.duration),n=Ge(this._player.currentTime);this._tracker.setActualDuration(t),this.emit(ee.PLAYER_DURATION_CHANGED,{timestamp:Date.now(),position:n,duration:t})};this._loaded?t():this.once(ee.PLAYER_LOAD,t)}_onPlaying(){if(!this._player)return;this._playerActivated=!0;const e=this._currentContent,t=Ge(this._player.currentTime);this._tracker.trackPlaying(t),this.emit(ee.PLAYER_PLAYING,{timestamp:Date.now(),position:t,logData:e?e.getLogData():null})}_onPause(){if(!this._player)return;const e=Ge(this._player.currentTime);this._tracker.trackPaused(e);const t=this._currentContent?this._currentContent.getLogData():null;this._pauseToken=setTimeout(()=>{clearTimeout(this._syntheticEndedToken),this.emit(ee.PLAYER_PAUSED,{position:e,logData:t})},10)}_onSeeking(){this._buffer.abort(this._clearBufferOnSeek),this._onTimeUpdate()}_onRequiresDuration(){this._currentContent&&this._currentContent.isProtected()&&this._player&&(this._player.duration=this._currentContent.getCalculatedDuration())}_onQuotaExceeded(){if(this._player)if(this._rebufferOnQuotaExceeded)We.info("Exceeded quota: rebuffering current track."),this._buffer.abort(!0),this._player.currentTime=this._player.currentTime,this._onTimeUpdate();else{We.info("Exceeded quota: moving to next track."),this._player.pause(),this._buffer.abort();const e=new ie(r.PLAYER_BUFFER_QUOTA_EXCEEDED,"Buffer quota exceeded.");this._emitError(e,!0,this._currentContent?this._currentContent.toLogJSON():void 0)}}_onEncrypted(e){We.info("Got Encrypted event");const t=this._currentContent;t&&t.getKeySystem()===te.FAIRPLAY&&this.emitSync(ee.INTERNAL_ENCRYPTED,{initData:e.initData,fromPolyfill:!!e.fromPolyfill})}_onEnded(){!this._currentContent||this._synthesizeEnded&&this._currentContent.isProtected()||(We.info("Native ended emitted."),this._emitEnded())}_onSyntheticEnded(){this._synthesizeEnded&&this._currentContent&&this._currentContent.isProtected()&&(We.info("Synthetic ended emitted."),this._emitEnded())}_onError(){if(!this._player)return;const e=this._player,t=e.error;let n,i=!1;const o=this._currentContent;let a,s,u,c=!1;o&&(i=o.isProtected(),n=o.toLogJSON(),c=o.isAd(),o.clearCachedBuffers());let l=!0;const p=!o||c||!this._fatalOnNextError,f=t&&t.msExtendedCode?`0x${(t.msExtendedCode>>>0).toString(16).toUpperCase()}`:null;if(t instanceof MediaError){switch(t.code){case MediaError.MEDIA_ERR_ABORTED:a=r.MEDIA_ABORTED,s="Media aborted.";break;case MediaError.MEDIA_ERR_NETWORK:a=r.MEDIA_NETWORK_ERROR,s="Network error.";break;case MediaError.MEDIA_ERR_DECODE:a=r.MEDIA_DECODING_ERROR,s="Media decoding error.",l=p;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:a=r.MEDIA_NOT_SUPPORTED,s="Media not supported.",l=p;break;default:a=r.PLAYER_MEDIA_ERROR,s="Media error.",u=!0}s+=` (${t.message||f||t.toString()})`}else a=r.PLAYER_PLAYBACK_ERROR,s="Error message undefined",u=!0;this._buffer.abort(!0);const d=new ie(a,s);l||(d.unrecoverable=!0),d.listPlayerIgnore=c,d.debug.src_url=e.src,d.debug.protected=i,d.debug.extendedCode=f,d.debug.rawExCode=t&&t.msExtendedCode||null,u&&t&&(d.debug.nativeCode=t.code||null,d.debug.errorData=t),this._emitError(d,l,n)}_onLoadedMetadata(){this.emitSync(ee.INTERNAL_PLAYER_LOADED_METADATA,null)}_onCanPlay(){this.emitSync(ee.INTERNAL_PLAYER_CANPLAY,null),this.emit(ee.PLAYER_FIRST_BYTES,null)}_onCanPlayThrough(){this.emitSync(ee.INTERNAL_PLAYER_CANPLAYTHROUGH,null)}_onWaiting(){clearTimeout(this._syntheticEndedToken),this._player&&!this._player.seeking&&this._getBufferingLatency().then(e=>{this._tracker.trackMsStalled(e)})}_onPlayedThresholdReached(e){this._currentContent&&this._player&&this.emit(ee.PLAYER_PLAYED_THRESHOLD_REACHED,{played:e.data.played,threshold:e.data.threshold,position:Ge(this._player.currentTime)})}_emitEnded(){this._currentContent&&"video"===this._currentContent.getMediaType()&&this.emit(ee.PLAYER_ENDED_VIDEO,null),clearTimeout(this._pauseToken),this.emit(ee.PLAYER_ENDED,null)}_emitError(e,t,n){We.error("Player Error",e,n,t),this._tracker.setHadError(!0),!this._disableCache&&n&&n.fileId&&this._cache.remove(n.fileId),this.emit(ee.PLAYER_ERROR,{playId:this._playId,error:e,track:n,canPlayNext:t,position:this._player?Ge(this._player.currentTime):0})}_emitWarning(e,t){We.error("Player Warning",e,t,!0),this._tracker.trackWarning(),this.emit(ee.PLAYER_WARNING,{playId:this._playId,error:e,track:t,canPlayNext:!0,position:this._player?Ge(this._player.currentTime):0})}_prepareMediaElement(e,t){return t===this._playId&&this._upcomingContent?this._recreateMediaElement(this._upcomingContent.getPlayableCodecs(),t,this._upcomingContent.getMediaType(),this._upcomingContent.getKeySystem()===te.FAIRPLAY).then(e=>{if(!e||t!==this._playId)return We.info("Loading content dropped after recreate: playId has changed."),Promise.resolve(!1);const n=this._player;return n&&this._upcomingContent&&this._upcomingContent.isProtected()&&this._emeManager&&(!n.mediaKeys||n.mediaKeys.shouldRefreshPerTrack||this._newMediaKeysPerTrack)?this._emeManager.createMediaKeys(n).then(()=>!0).catch(e=>(e.unrecoverable=!0,this._emitError(e,!1,this._upcomingContent?this._upcomingContent.toLogJSON():void 0),Promise.reject(e))):Promise.resolve(!0)}):(We.info("Loading content dropped: playId has changed."),Promise.resolve(!1))}_handleLoadingComplete(e){const t=this._currentContent&&this._currentContent.getMediaType(),n=this._getVideoContainer();return"video"===t&&n&&this._player&&this._player.parentNode!==n&&(n.appendChild(this._player),this.emit(ee.PLAYER_VIDEO_ELEMENT_APPENDED,null)),this._upcomingContent=null,e}_handleLoadingError(e,t,n,r){if(this._upcomingContent=null,n!==this._playId)return Promise.resolve(!1);if(this._tracker.trackLoadFailed(),this.emit(ee.PLAYER_LOADING_FAILED,{uri:e,logData:t.logData}),r){const n=r.track||{uri:e,fileId:t.fileId,format:t.format,deviceId:t.logData.deviceId};this._emitError(r,"StorageError"!==r.name||!!r.canPlayNext,n)}return Promise.reject(r)}_handleLoadedMetadata(e,t,n){if(e!==this._playId)return void We.info("LoadedMetadata operations dropped: playId has changed.");this._loaded=!0;const r=this._player;if(!r)return;this._buffer.dequeueUpdates();let i=n.position||0;i>r.duration&&(i=0),this._lastTimeUpdatePostion=0,r.currentTime=i,this._tracker.trackLoadDone(Ge(r.currentTime)),setTimeout(this._onTimeUpdate,10),this.emitSync(ee.PLAYER_LOAD,{autoplay:n.autoplay,position:Ge(i),logData:t});let o=()=>{r.currentTime!==i&&(We.info("Resetting initial position."),r.currentTime=i)};n.autoplay&&!r.error&&(o=()=>{if(r.currentTime!==i&&(We.info("Resetting initial position."),r.currentTime=i),this._playId!==e)return void We.info("Play trigger dropped; different playId");new Promise(e=>e(this._player&&this._player.play())).catch(e=>{if(e){if("NotSupportedError"===e.name)return Promise.reject(e);if("NotAllowedError"===e.name)return this.emit(ee.PLAYER_AUTOPLAY_FAILED,null),Promise.reject(e)}return this._player?this._player.play():Promise.resolve()}).catch(()=>{this._onPause()})}),r.readyState>2?(We.info("Ready to play, triggering play."),o()):(We.info("Waiting to be playable."),this.once(ee.INTERNAL_PLAYER_CANPLAY,o))}_handleCanPlayThrough(e){e===this._playId?this._tracker.trackCanPlayThrough():We.info("CanPlayThrough operations dropped: playId has changed.")}_loadContent(e,t){if(t!==this._playId||!this._upcomingContent)return We.info("Loading content dropped: playId has changed."),Promise.resolve(!1);this._canPreloadEmitted=!1;const n=this._upcomingContent;this._upcomingContent=null,this._currentContent=n;const r=e.callback;r&&this.once(ee.PLAYER_LOAD,()=>{this._playId&&t===this._playId?r():We.info("Load content event dropped: playId has changed.")}),this.once(ee.INTERNAL_PLAYER_LOADED_METADATA,this._handleLoadedMetadata.bind(this,t,this._currentContent.getLogData(),e)),this.once(ee.INTERNAL_PLAYER_CANPLAYTHROUGH,this._handleCanPlayThrough.bind(this,t));const i=n.isProtected();return this._tracker.setProtected(i),n instanceof Ue?this._loadVideoTrack(e,t):i?n.getKeySystem()===te.FAIRPLAY?Promise.resolve(this._loadHLSProtectedTrack(e,t)):this._loadProtectedTrack(e,t):Promise.resolve(this._loadUnprotectedTrack())}_getBufferingLatency(){return new Promise(e=>{if(!this._player)return void e(0);const t=Date.now();this._player.addEventListener("canplaythrough",(function n(){this.removeEventListener("canplaythrough",n),e(Date.now()-t)}))})}_loadVideoTrack(e,t){if(!(this._player&&this._currentContent&&this._currentContent instanceof Ue))return Promise.resolve(!1);const n=this._currentContent;We.info("_loadVideoTrack"),this._buffer.once(ee.BUFFER_SOURCE_OPEN,()=>{this._currentContent&&this._currentContent.isProtected()&&this._requestLicense(t)}),this._player.src=URL.createObjectURL(this._buffer.getMediaSource());const r=n.getVideoProfile(),i=n.getAudioProfile();if(!i||!r)return Promise.resolve(!1);this._tracker.trackVideoLoadStart({bitrate:r.video_bitrate,audioProfile:i,videoProfile:r}),this._tracker.trackBufferLoadStart();const o=n.getInitFragment();return o?this._buffer.appendFragment(n,o).then(this._buffer.setDuration.bind(this._buffer,n.getCalculatedDuration())).then(()=>(this._subtitleLanguage&&this.setSubtitleLanguage(this._subtitleLanguage),Promise.resolve(!0))).then(this._onAppendedHeadSegment(t)):Promise.resolve(!1)}_loadHLSProtectedTrack(e,t){if(We.info("Load HLS Protected Track"),!this._player||!this._currentContent)return!1;const n=this._currentContent.getResolvedURL();if(!n)return!1;const r=e=>{e.data.fromPolyfill&&(this.removeListener(ee.INTERNAL_ENCRYPTED,r),this._requestLicense(t,{initData:e.data.initData}))};return this.on(ee.INTERNAL_ENCRYPTED,r),this._tracker.trackBufferLoadStart(),this._tracker.trackBufferURL(n,{bandwidth:0}),this._player.src=this._currentContent.getHLSURL(),this._player.load(),!0}_loadUnprotectedTrack(){if(!this._player||!this._currentContent)return!1;const e=this._currentContent.getResolvedURL();return!!e&&(We.info("_loadUnprotectedTrack",this._currentContent.getURI()),this._tracker.trackBufferLoadStart(),this._tracker.trackBufferURL(e,{bandwidth:0}),this._player.src=e,this._player.load(),!0)}_onAppendedHeadSegment(e){return()=>e===this._playId&&(this._player&&this._player.spload&&this._player.spload(),We.info("Head segment appended."),!0)}_loadProtectedTrack(e,t){if(!(this._currentContent&&this._player&&this._currentContent instanceof Me))return Promise.resolve(!1);const n=this._currentContent;We.info("_loadProtectedTrack",n.getURI()),this._buffer.once(ee.BUFFER_SOURCE_OPEN,this._requestLicense.bind(this,t,void 0)),this._player.src=URL.createObjectURL(this._buffer.getMediaSource()),this._tracker.trackBufferLoadStart();let r=null;const i=n.getFragmentForTime(e.position||0);if(i===n.getFirstFragment())We.info("Appending combined init and playable fragment."),r=this._buffer.appendFragment(n,n.getHeadFragment());else{We.info("Appending split init and playable fragment.");const e=n.getInitFragment();r=Promise.all([e?this._buffer.appendFragment(n,e).then(()=>!0):Promise.resolve(!1),i?n.getBufferForFragment(i).then(()=>!0):Promise.resolve(!1)])}return r.then(this._onAppendedHeadSegment(t)).then(()=>Promise.resolve(t===this._playId))}_requestLicense(e,t={}){if(e!==this._playId){const e="Request license dropped: playId has changed.";return We.info(e),Promise.resolve(!1)}if(!this._player||!this._currentContent||!this._emeManager)return Promise.resolve(!1);const n=Date.now(),r=this._player.mediaKeys,i=this._currentContent,o=i.getFileId(),a=i.getLogData(),s=i.toLogJSON(),u=i.getKeySystem(),c=this._emeManager,l=this._tracker;return l.setKeySystem(u),l.setKeySystemImpl(c.getKeySystemImpl()),Promise.all([i.getLicenseEndpoint()||this._licenseURLResolver.get(u,i.getMediaType()),i.getInitParams()]).then(([i,a])=>{l.setLicenseSessionLatency(Date.now()-n);const s=i.replace(/\{contentId\}/,o),u=a.initDataType,p=t.initData||a.initData;if(r&&p&&u){const t=Object.assign(Object.assign({},a),{playId:e,initData:p,mediaKeys:r,licenseServer:s,initDataType:u});return c.createSessionWithParams(t)}return Promise.resolve(!1)}).then(t=>{if(e!==this._playId)return We.info("License tracking dropped: playId has changed."),Promise.resolve(!1);"boolean"!=typeof t&&"elapsed"in t&&(l.setLicenseGenerationLatency(t.elapsed.generate),l.setLicenseRequestLatency(t.elapsed.request),l.setLicenseUpdateLatency(t.elapsed.update));const r=Date.now()-n;return l.setKeyLatency(r),this.emit(ee.PLAYER_KEY_RECEIVED,{requestTime:r,logData:a}),We.info("License updated."),Promise.resolve(!0)}).catch(t=>{if(!t||e!==this._playId)return Promise.resolve(!1);const n=!(t&&"canPlayNext"in t)||t.canPlayNext;return this._emitError(t,n,s),Promise.reject(t)})}_onTimeUpdate(){if(!this._loaded||!this._player||!this._currentContent)return;let e=0;const t=this._player.seeking,n=this._player.currentTime,r="video"===this._currentContent.getMediaType();if("getBitrateForTime"in this._currentContent&&(e=this._currentContent.getBitrateForTime(this._player.currentTime)),!t&&this._lastTimeUpdatePostion&&this._lastTimeUpdatePostion===n)return void We.warn("Dropping duplicate time update.");this._lastTimeUpdatePostion=t?0:n,this._currentContent.getKeySystem()!==te.FAIRPLAY&&(r||this._currentContent.isProtected())&&this._buffer.progress(this._currentContent,t,n);const i=Ge(n),o=this._currentContent?this._currentContent.getLogData():null;t?(this._tracker.trackPositionChanged(i,this._player.paused),this.emit(ee.PLAYER_POSITION_CHANGED,{position:i,logData:o})):(this._tracker.trackProgress(i,e),this.emit(ee.PLAYER_PROGRESS,{timestamp:Date.now(),position:i,played:this._tracker.getMSPlayed(),interval:500,logData:o})),!this._canPreloadEmitted&&this._player.duration-n<=10?(this._canPreloadEmitted=!0,this.emit(ee.PLAYER_CAN_PRELOAD,null)):this._canPreloadEmitted=!1,clearTimeout(this._syntheticEndedToken),this._synthesizeEnded&&this._currentContent.isProtected()&&this._isPlaying()&&(this._syntheticEndedToken=setTimeout(this._onSyntheticEnded,Ge(this._player.duration-n)))}_isPlaying(){return!!this._player&&!this._player.paused}_createAudioContent(e,t){const n={manifestLatency:0,resolveLatency:0};return(this._emeManager?this._emeManager.getKeySystemInfo():Promise.resolve({keySystem:te.INVALID_SPOTIFY_KEY})).then(r=>Me.create({abrManager:this._abrManager,keySystem:r.keySystem,licenseEndpoint:t.licenseEndpoint,transport:this._transport,resolver:this._audioResolver,uri:e,fileId:t.fileId,format:t.format,isAd:t.isAd,resolvedURL:t.resolvedURL,noManifest:t.noManifest,preloadedManifest:t.preloadedManifest,logData:t.logData,disableCache:this._disableCache,emitWarning:this._emitWarning}).load(n)).then(e=>{const r=this._tracker;return r.setResolveLatency(n.resolveLatency),r.setManifestLatency(n.manifestLatency),e.isProtected()&&t.fileId&&!this._disableCache&&this._cache.set(t.fileId,e),e})}_createVideoContent(e,t){const n={manifestLatency:0,resolveLatency:0},r=t.fileId;return(this._emeManager?this._emeManager.getKeySystemInfo():Promise.resolve({keySystem:te.INVALID_SPOTIFY_KEY,audioFormats:[],videoFormats:[]})).then(i=>{const o=i.audioFormats[0],a=i.videoFormats[0];return Ue.create({uri:e,abrManager:this._abrManager,resolver:this._videoResolver,keySystem:i.keySystem,licenseEndpoint:t.licenseEndpoint,fileId:r,isAd:t.isAd,transport:this._transport,videoCodec:a.codec,videoMimeType:a.mimeType,audioCodec:o.codec,audioMimeType:o.mimeType,disableCache:this._disableCache}).load(n)}).then(e=>{const t=this._tracker;return t.setResolveLatency(n.resolveLatency),t.setManifestLatency(n.manifestLatency),e.isProtected()&&r&&!this._disableCache&&this._cache.set(r,e),e})}_preinitMediaElement(){return this._player||!this._emeManager?Promise.resolve(this):this._emeManager.getKeySystemInfo().then(e=>{var t,n;const r=[];return(null===(t=e.audioFormats)||void 0===t?void 0:t[0])&&r.push(e.audioFormats[0].contentType),(null===(n=e.videoFormats)||void 0===n?void 0:n[0])&&r.push(e.videoFormats[0].contentType),!!r.length&&this._recreateMediaElement(r,this._playId,r.length>1?"video":"audio",e.keySystem!==te.FAIRPLAY)}).then(()=>this,e=>(We.warn("Cannot precreate media element:",null==e?void 0:e.message),this))}getCodecInfo(){return{audiocodec:"mp3",bitrate:160}}getMediaSource(){return this._buffer.getMediaSource()}load(e,t,n){const i=function(e,t){return t&&t.hasOwnProperty(e)}(t.uriProperty,e)?t.uriProperty:"uri",o=e[i];if(We.info("load",o),!o)return Promise.reject(new ie(r.PLAYER_CANNOT_FIND_PLAYABLE_URI,"Cannot find a playable URI."));if(!e.logData)return Promise.reject(Error("Invalid track: logging info not specified"));this.stop(e.logData,e.mediaType),this._loaded=!1,this._currentContent=null;const a=++this._playId,s=this._tracker;s.trackLoadStart(o,e.fileId,a.toString(),e.logData),this.emit(ee.PLAYER_BEFORE_LOAD,{track:e,options:t,logData:e.logData,uri:o,timestamp:Date.now()}),this._buffer.setPlayId(a);const u={position:Ye(t.position||0),autoplay:!("autoplay"in t)||t.autoplay,callback:n};let c;s.setPlayIntended(u.autoplay),s.setPlayedThreshold(t.playedThreshold);const l=this._cache;if("video"===e.mediaType&&!this._emeManager)return Promise.reject(new ie(r.DISALLOW_PROTECTED_TRACK_ERROR,"Protected tracks not supported"));const p="video"===e.mediaType?this._createVideoContent.bind(this,o,e):this._createAudioContent.bind(this,o,e,a),f=this._preloadingTracks[e.fileId],d=this._disableCache?null:l.get(e.fileId);return f?(We.info("Waiting for preloading track.",e.fileId),c=f.then(t=>(We.info("Preloading succeeded.",e.fileId),s.setResolveLatency(t.resolveLatency),s.setManifestLatency(t.manifestLatency),l.get(e.fileId)),()=>(We.info("Preloading failed, creating new track",e.fileId),p()))):d?(We.info("Using cached track.",e.fileId,d),s.setMemoryCached(!0),c=Promise.resolve(d)):(We.info("Creating new track",e.fileId),c=p()),c.then(t=>t.isProtected()&&!this._emeManager?Promise.reject(new ie(r.DISALLOW_PROTECTED_TRACK_ERROR,"Protected tracks not supported")):(t.setLogData(e.logData),s.setCalculatedDuration(Ge(t.getCalculatedDuration())),this._upcomingContent=t,Promise.resolve())).then(this._prepareMediaElement.bind(this,u,a)).then(this._loadContent.bind(this,u,a)).then(this._handleLoadingComplete,this._handleLoadingError.bind(this,o,e,a))}preload(e){const t=e.uri,n=e.fileId,r=this._cache;if(!n)return Promise.resolve(null);if(!this._emeManager)return Promise.resolve(null);const i=!this._disableCache,o="video"===e.mediaType,a="MP4"===e.format||"MP4_DUAL"===e.format||"MP4_CBCS"===e.format;if(!(i&&a&&!o)||i&&r.get(n))return Promise.resolve(null);const s=this._preloadingTracks;if(s[n])return s[n];We.info("Preloading track",n);const u={manifestLatency:0,resolveLatency:0},c=this._emeManager.getKeySystemInfo().then(r=>Me.create({abrManager:this._abrManager,keySystem:r.keySystem,licenseEndpoint:e.licenseEndpoint,transport:this._transport,resolver:this._audioResolver,uri:t,fileId:n,format:e.format,isAd:e.isAd,resolvedURL:e.resolvedURL,noManifest:e.noManifest,preloadedManifest:e.preloadedManifest,logData:e.logData,disableCache:this._disableCache,emitWarning:this._emitWarning}).load(u)).then(t=>Promise.all([t,"MP4_CBCS"!==e.format?t.getBufferForFragment(t.getHeadFragment()):null])).then(([e])=>(r.set(n,e),delete s[n],We.info("Cached",n),u)).catch(e=>(delete s[n],this.emit(ee.PLAYER_PRELOADING_ERROR,{error:e,track:e.track||null,canPlayNext:!("canPlayNext"in e)||e.canPlayNext,preloading:!0}),Promise.reject(e)));return s[n]=c,c}togglePlay(){this._isPlaying()?this.pause():this.resume()}setSubtitleLanguage(e){if(this._subtitleLanguage=e,!(this._player&&this._currentContent&&this._currentContent instanceof Ue))return;const t=this._currentContent.getSubtitleLanguages();if(t&&t.indexOf(e)<0)return void We.warn("No available subtitle for language: ",e);const n=document.createElement("track");n.label=`${e} subtitles`,n.kind="subtitles",n.srclang=e,n.src=this._currentContent.getSubtitleForLanguage(e),this._player.appendChild(n),this._subtitlesVisible&&this.showSubtitles()}getSubtitleLanguages(){return this._currentContent instanceof Ue?this._currentContent.getSubtitleLanguages():[]}setVolume(e){if(!this.emitSync(ee.PLAYER_BEFORE_VOLUME_CHANGE,{volume:e}).defaultPrevented){if(e<0||e>1)throw new ie(r.PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE,"Volume should be in range [0, 1]");this._playerVolume=e,this._player&&(this._player.volume=this._cubicVolume?e*e*e:e)}}getVolume(){return this._playerVolume}getPlayerState(){const e=this._player;return{playing:this._isPlaying(),position:e?Ge(e.currentTime):0,duration:e?Ge(e.duration):0,volume:e?this._playerVolume:1}}seek(e){if(!this._player)return;const t=this._playId,n=()=>{if(!this._player||t!==this._playId)return void We.info("Seek dropped: playId has changed.");let n=Ye(e);n<0?n=0:n>=this._player.duration&&(n=this._player.duration),this._player.currentTime=n};this._loaded?n():this.once(ee.PLAYER_LOAD,n),this._getBufferingLatency().then(e=>{this._tracker.trackSeekRebuffering(e)})}pause(){this._player&&this._isPlaying()&&new Promise(e=>{e(this._player&&this._player.pause())}).catch((function(){}))}resume(){this._player&&!this._isPlaying()&&new Promise(e=>{e(this._player&&this._player.play())}).catch((function(){}))}stop(e,t){const n=[],r=e||{};if(this.emit(ee.PLAYER_BEFORE_STOP,{timestamp:Date.now(),logData:r}),this._tracker.trackStopped(e),this._buffer.abort(!0),this._emeManager&&n.push(this._emeManager.destroySessions()),this._player){this._fatalOnNextError=this._shouldNextErrorBeFatal(),this._fatalOnNextError&&We.warn("MediaError detected: next immediate media error will be fatal.");const e=this._player.src;Ke.test(e)&&URL.revokeObjectURL(e),this._player.removeAttribute("src"),this._player.load()}if(this._currentContent&&this._disableCache&&this._currentContent.clearCachedBuffers(),this._player&&this._currentContent&&"video"===this._currentContent.getMediaType()){const e=this._player.children;for(let t=0,n=e.length;t<n;t++)this._player.removeChild(e[t]);const n=this._getVideoContainer();n&&this._player.parentNode===n&&(this._newElementPerTrack||"video"!==t)&&(n.removeChild(this._player),this.emit(ee.PLAYER_VIDEO_ELEMENT_REMOVED,null))}return this.emit(ee.PLAYER_STOPPED,null),Promise.all(n).then(()=>!0)}hideSubtitles(){if(!this._player)return;const e=this._player.textTracks;for(let t=0,n=e.length;t<n;t++)e[t].mode=ne.HIDDEN;this._subtitlesVisible=!1}showSubtitles(){if(!this._player)return;const e=this._player.textTracks;for(let t=0,n=e.length;t<n;t++){const n=e[t];n.language===this._subtitleLanguage?n.mode=ne.SHOWING:n.mode=ne.HIDDEN}this._subtitlesVisible=!0}getKeySystemInfo(){return this._emeManager?this._emeManager.getKeySystemInfo():Promise.resolve(null)}getVideoVariants(){if(!(this._currentContent&&this._currentContent instanceof Ue))return[];const e=[],t=this._currentContent.getVideoProfiles();for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push({width:r.video_width,height:r.video_height,bitrate:r.video_bitrate})}return e}setPreferredBitrate(e){return"number"!=typeof e?Promise.resolve(re.INVALID):(this._currentContent&&"video"===this._currentContent.getMediaType()&&e>0&&this._buffer.abort(!0),this._abrManager.overrideBitrate(e),Promise.resolve(re.SUCCESS))}activateElement(){return!(this._playerActivated||!this._player||this._player.src)&&(this._player.load(),this._playerActivated=!0,!0)}}class Xe extends Error{constructor(e,t){super(t),this.debug={},this.name="LoggingError",this.message=t,this.code=e}}var $e="6.2.0-0c6f7cd";const Qe=N.a.forTag("playback.logger");class Je extends u.b{constructor(e){super(),this._currentTrackingData=null,this._sequenceId=0,this._sequenceSessionStorage={},this._sessionId="0",this._transport=e.transport,this._transportLogger=e.logger,this._player=e.player,this._init()}_init(){const e=this._player;e.on(ee.PLAYER_LOAD,this._onPlayerLoad.bind(this)),e.on(ee.PLAYER_ERROR,this._onError.bind(this,!1)),e.on(ee.PLAYER_WARNING,this._onError.bind(this,!0)),e.on(ee.PLAYER_PRELOADING_ERROR,this._onError.bind(this,!1)),e.on(ee.PLAYER_TRACKING_DATA_CREATED,this._onTrackingDataCreated.bind(this)),e.on(ee.PLAYER_TRACKING_DATA_FINALIZED,this._onTrackingDataFinalized.bind(this)),e.on(ee.PLAYER_PLAYBACK_START,this._onPlaybackStart.bind(this))}_emitError(e,t){this.emit(ee.LOGGER_ERROR,{error:e,trackingData:t})}_onError(e,t){const n=t.data,i=n.error,o=this._currentTrackingData;if(!o||o.noLog)return;const a=i&&i.debug||{};a.position="position"in n?n.position:0;const s={track:n.track||{},debug:a,preloading:"preloading"in n&&!!n.preloading,session_id:this._sessionId,playback_id:o.playbackId||null,player_play_id:"playId"in n?n.playId:null,http_status_code:"status"in i?i.status:null,license_server:i.licenseServer||null};this._logError(i.code||r.UNKNOWN,i,s,e)}_onPlayerLoad(e){const t=e.data.logData;if(t)if(t.impressionURLs){let e=t.impressionURLs.length;for(;e--;)this._logImpression(t.impressionURLs[e])}else t.impressionURL&&this._logImpression(t.impressionURL)}_onPlaybackStart(e){const t=e.data.trackingData;t.noLog||t.noStats||this._logPlaybackStart(t)}_onTrackingDataCreated(e){const t=e.data.trackingData;t.noLog?this._currentTrackingData=null:(this._currentTrackingData=t,this._setSessionId(),t.noTSV||this._setSequenceId())}_setSessionId(){this._sessionId=this._transport.getInitTime().toString()}_setSequenceId(){this._sessionId&&(this._sequenceId=this._getSequenceId(this._sessionId))}_onTrackingDataFinalized(e){const t=e.data.trackingData;if(t.noLog)return;const n=this._sessionId!==this._transport.getInitTime().toString();if(n&&this._setSessionId(),t.playbackId&&!t.noTSV){if(n&&this._setSequenceId(),!t.playIntended&&!t.played)return void this._rollbackSequenceId(this._sessionId);this._logTrackStreamVerification(t)}t.noStats||this._logPlaybackStats(t)}_logTrackStreamVerification(e){const t={play_track:e.currentTrackUri,playback_id:e.playbackId,ms_played:e.msPlayed,session_id:this._sessionId,sequence_id:this._sequenceId,next_playback_id:e.nextPlaybackId};Qe.debug("Logged TrackStreamVerification",t),this._transportLogger.logTrackStreamVerification(t).catch(n=>{const i=new Xe(r.TSV_SENDING_FAILED,n.message||"Unknown reason.");this._logError(i.code,n,t),this._emitError(i,e)})}_logPlaybackStats(e){const t={play_track:e.currentTrackUri,file_id:e.fileId,playback_id:e.playbackId,internal_play_id:e.internalPlayId,memory_cached:e.memoryCached,persistent_cached:e.persistentCached,audio_format:e.audiocodec||"",video_format:e.videocodec||"",manifest_id:e.fileId,protected:!1,isProtected:e.isProtected,key_system:e.keySystem,key_system_impl:e.keySystemImpl,urls_json:JSON.stringify(e.urls),start_time:e.loadTime,end_time:e.stopTime,external_start_time:e.externalLoadTime,ms_play_latency:e.msPlayLatency,ms_init_latency:e.msInitLatency,ms_head_latency:e.msHeadLatency,ms_manifest_latency:e.msManifestLatency,ms_resolve_latency:e.msResolveLatency,ms_license_session_latency:e.msLicenseSessionLatency,ms_license_generation_latency:e.msLicenseGenerationLatency,ms_license_request_latency:e.msLicenseRequestLatency,ms_license_update_latency:e.msLicenseUpdateLatency,ms_played:e.msPlayed,ms_nominal_played:e.msPlayed,ms_file_duration:e.msFileDuration,ms_actual_duration:e.msActualDuration,ms_start_position:e.startPosition,ms_end_position:e.position,ms_seek_rebuffer:e.msSeekRebuffering,ms_seek_rebuffer_longest:e.maxMsSeekRebuffering,ms_stall_rebuffer:e.msStalled,ms_stall_rebuffer_longest:e.maxMsStalled,n_stalls:e.nStalls,n_seekback:e.nSeeksBackward,n_seekforward:e.nSeeksForward,start_bitrate:e.startBitrate||0,time_weighted_bitrate:e.timeWeightedBitrate,reason_start:e.reasonStart,reason_end:e.reasonEnd,initially_paused:!e.playIntended,had_error:e.hadError,n_warnings:e.nWarnings,n_navigator_offline:e.nOffline,session_id:this._sessionId,sequence_id:this._sequenceId};Qe.info("Logging PlaybackStats"),this._transportLogger.logJSSDKPlaybackStats(t).catch(n=>{const i=new Xe(r.PLAYBACK_STATS_SENDING_FAILED,n.message||"Unknown reason.");this._logError(i.code,n,t),this._emitError(i,e)})}_logPlaybackStart(e){const t={play_track:e.currentTrackUri,file_id:e.fileId,playback_id:e.playbackId,session_id:this._sessionId,ms_start_position:e.startPosition,initially_paused:!e.playIntended};Qe.info("Logging PlaybackStart"),this._transportLogger.logJSSDKPlaybackStart(t).catch(n=>{const i=new Xe(r.PLAYBACK_START_SENDING_FAILED,n.message||"Unknown reason.");this._logError(i.code,n,t),this._emitError(i,e)})}_getSequenceId(e){let t=this._sequenceSessionStorage[e];return t||(t=0),t+1>=9007199254740991&&(t=0),this._sequenceSessionStorage[e]=t+1,t}_rollbackSequenceId(e){const t=this._sequenceSessionStorage[e];t&&(this._sequenceSessionStorage[e]=Math.max(t-1,0))}_logImpression(e){this._transport.request(e,{forget:!0}).catch((function(e){Qe.warn("Unable to send impression request",e)}))}_logError(e,t,n,r){let i="";t&&(i=t.stack||"",i||(i=t.toString()));const o={source:"playback",source_version:$e,type:e,message:t&&t.message,stack:i,json_data:n,json_data_version:"1.0.0"};r?this._transportLogger.logJSSDKWarning(o,"object").catch(e=>Qe.warn("Failed to log warning",o,e)):this._transportLogger.logJSSDKError(o,"object").catch(e=>Qe.warn("Failed to log error",o,e))}}Je.create=e=>new Je(e);class Ze extends Error{constructor(e=r.STORAGE_ERROR,t="Storage Error"){super(t),this.status=-1,this.fileId="",this.debug={},this.canPlayNext=!0,this.code=e,this.message=t,this.name="StorageError"}}const et=N.a.forTag("playback.storage_resolve");class tt{constructor(e){this._transport=e}_parseResponse(e,t){let n;if(200!==t.status)return n=new Ze(r.STORAGE_FAILED_WITH_STATUS,`Storage Resolve responded with ${t.status}`),n.status=t.status,n.fileId=e,Promise.reject(n);const i=t.body;if(!i||!i.cdnurl||!i.cdnurl.length)return n=new Ze(r.STORAGE_RETURNED_NO_TRACKS,`Storage Resolve returned no tracks for fileId ${e}`),n.fileId=e,Promise.reject(n);const o={uri:i.cdnurl[0],uris:i.cdnurl,protection:"cenc"};return Promise.resolve(o)}getCDNURL(e){et.info("Requesting CDN URL for ",e);const t=`@webgate/storage-resolve/files/audio/interactive/${e}?version=10000000&product=9&platform=39&alt=json`;return this._transport.request(t,{responseType:"json",retry:{condition:(e,t)=>e.getStatusFamily()!==t.SUCCESS}}).then(this._parseResponse.bind(this,e))}getManifest(e){const t=`https://seektables.scdn.co/seektable/${e}.json`;return et.info("Requesting JSON manifest for ",e),this._transport.request(t,{responseType:"json",retry:{condition:(e,t)=>e.getStatusFamily()!==t.SUCCESS}}).then(t=>{let n;return 200!==t.status?(n=new Ze(r.STORAGE_TRACK_MANIFEST_FAILED,`Track manifest request failed with status code ${t.status}`),n.debug.file_id=e,n.status=t.status,Promise.reject(n)):t.body?t.body:(n=new Ze(r.STORAGE_TRACK_MANIFEST_EMPTY,"Received empty manifest."),n.debug.file_id=e,n.status=t.status,Promise.reject(n))})}}class nt extends Error{constructor(e,t){super(t),this.debug={},this.name="TrackingError",this.message=t,this.code=e}}class rt{constructor(){this._version="1.0.0",this._list=new J,this._map={}}clear(){this._list=new J,this._map={}}track(e,t){let n=this._map[e];n||(n=new Q({url:e,segments:0,bandwidths:[]}),this._list.append(n),this._map[e]=n);const{value:r}=n;r&&(r.segments+=1,r.bandwidths.push(t.bandwidth))}toJSON(){const e=[];let t=this._list.first;for(;t;){const{value:n}=t;if(!n)continue;const{bandwidths:r}=n;let i=0,o=r.length;for(;o--;)i+=r[o];e.push({url:n.url,segments:n.segments,avg_bw:parseFloat((i/r.length).toFixed(7))}),t=t.next}return{version:this._version,urls:e}}}class it{constructor(){this._bitrates={},this._isFinalized=!1,this._needsEndSegment=!1,this._segments=[],this._cdnURLTracker=new rt,this.audiocodec=null,this.bandwidth=0,this.bitrate=16e4,this.bufferingPercentage=0,this.bufferLoadStartTime=0,this.urls={},this.currentTrackUri="",this.displayTrack="",this.externalLoadTime=0,this.fileId="",this.gaiaDevId="none",this.hadError=!1,this.internalPlayId="",this.isProtected=!1,this.keySystem="",this.keySystemImpl="",this.lastPlayStartTime=0,this.loadTime=0,this.localTimeMs=-1,this.maxContinuous=0,this.maxMsSeekRebuffering=0,this.maxMsStalled=0,this.memoryCached=!1,this.msActualDuration=0,this.msFileDuration=0,this.msHeadLatency=0,this.msInitLatency=0,this.msKeyLatency=0,this.msLicenseGenerationLatency=0,this.msLicenseRequestLatency=0,this.msLicenseSessionLatency=0,this.msLicenseUpdateLatency=0,this.msManifestLatency=0,this.msPlayed=0,this.msPlayedUnion=0,this.msPlayLatency=0,this.msResolveLatency=0,this.msSeekRebuffering=0,this.msSeeksBackward=0,this.msSeeksForward=0,this.nextPlaybackId="",this.nOffline=0,this.noLog=!1,this.noTSV=!1,this.noStats=!1,this.nWarnings=0,this.msStalled=0,this.nSeeksBackward=0,this.nSeeksForward=0,this.nStalls=0,this.persistentCached=!1,this.playbackId="",this.playContext="",this.played=!1,this.position=0,this.reasonEnd="unknown",this.reasonStart="unknown",this.referrer="unknown",this.referrerVendor="unknown",this.referrerVersion="unknown",this.sourceEnd="unknown",this.sourceStart="unknown",this.startPosition=0,this.stopTime=0,this.streamingRule="none",this.timeWeightedBitrate=0,this.totalBytes=0,this.playIntended=!1,this.videocodec=null}static create(){return new it}_calculateUnion(){const e=this._segments.slice(0);let t=0,n=0,r=0,i=0,o=0,a=0,s=this.maxContinuous;for(;o<e.length;o++)o%2!=0&&void 0!==e[o-1]&&"start"===e[o-1].type&&(a=e[o].time-e[o-1].time,s=a>s?a:s);for(this.maxContinuous=s,e.sort((e,t)=>e.time-t.time);i<e.length;i++)"start"===e[i].type&&(0===n&&(r=i),++n),"end"===e[i].type&&(--n,0===n&&(t+=e[i].time-e[r].time));return t}_calculateWeightedBitrate(e){const t=this._bitrates;let n=0;for(const r in t)r&&t.hasOwnProperty(r)&&e>0&&(n+=parseInt(r,10)*t[r]/e);return Math.round(n)}registerVideoVariant(e){const t=e.bitrate;this._bitrates[t]=this._bitrates[t]||0,t&&!this.startBitrate&&(this.startBitrate=t),e.audioProfile&&e.audioProfile.audio_codec&&(this.audiocodec=e.audioProfile.audio_codec),e.videoProfile&&e.videoProfile.video_codec&&(this.videocodec=e.videoProfile.video_codec)}addStartSegment(){this._segments.push({type:"start",time:this.position}),this._needsEndSegment=!0}addEndSegment(){this._needsEndSegment&&(this._segments.push({type:"end",time:this.position}),this._needsEndSegment=!1)}addMSPlayed(e){e&&(this.msPlayed+=e)}trackBitrate(e,t){const n=e||"dummy";this._bitrates[n]=this._bitrates[n]||0,this._bitrates[n]+=t}trackBufferURL(e,t){this._cdnURLTracker.track(e,t)}finalize(){if(this._isFinalized)throw new nt(r.TRACK_DATA_ALREADY_FINALIZED,"TrackData already finalized.");return this.msPlayedUnion=this._calculateUnion(),this.nSeeksBackward||this.nSeeksForward||(this.msPlayed=this.maxContinuous=this.msPlayedUnion),this.timeWeightedBitrate=this._calculateWeightedBitrate(this.msPlayed),this.bufferingPercentage=this.msStalled/this.msPlayed,this.urls=this._cdnURLTracker.toJSON(),this._isFinalized=!0,!0}getPlaybackStats(){let e;switch(this.keySystem){case te.WIDEVINE:e="widevine";break;case te.PLAYREADY:case te.PLAYREADY_HARDWARE:e="playready";break;default:e="none"}return{ms_total_est:this.msActualDuration,ms_manifest_latency:this.msManifestLatency,ms_latency:this.msPlayLatency,start_offset_ms:this.startPosition,ms_initial_buffering:this.msPlayLatency,ms_seek_rebuffering:this.msSeekRebuffering,ms_stalled:this.msStalled,max_ms_seek_rebuffering:this.maxMsSeekRebuffering,max_ms_stalled:this.maxMsStalled,n_stalls:this.nStalls,audiocodec:this.audiocodec?this.audiocodec.toLowerCase():void 0,videocodec:this.videocodec?this.videocodec.toLowerCase():void 0,start_bitrate:this.startBitrate||void 0,full_screen:void 0,time_weighted_bitrate:this.timeWeightedBitrate,buffering_percentage:void 0,prefetched_bytes:void 0,prefetched_bytes_loaded:void 0,prefetched_initial_bitrate:void 0,key_system:e,ms_key_latency:this.msKeyLatency,total_bytes:this.totalBytes,local_time_ms:this.localTimeMs,ms_played_background:void 0}}isFinalized(){return this._isFinalized}}const ot=N.a.forTag("playback.tracker");class at extends u.b{constructor(e={}){super(),this._playedThreshold=31e3,this._playedThresholdReached=!1,this._trackingData=null,this._playedThreshold=e.playerThreshold||31e3}static create(e){return new at(e)}_checkPlayedThreshold(){const e=this._trackingData;!e||!this._playedThreshold||this._playedThresholdReached||e.msPlayed<this._playedThreshold||(this._playedThresholdReached=!0,this.emit(ee.TRACKER_PLAYED_THRESHOLD_REACHED,{played:e&&e.msPlayed||0,threshold:this._playedThreshold}))}getMSPlayed(){return this._trackingData?this._trackingData.msPlayed:0}trackLoadStart(e,t,n,r){const i=it.create();this._trackingData=i,this._playedThresholdReached=!1,i.fileId=t,i.currentTrackUri=e,i.loadTime=Date.now(),i.internalPlayId=n,i.externalLoadTime=r.externalLoadTime||0,i.displayTrack=r.displayTrack||"",i.playbackId=r.playbackId||"",i.playContext=r.playContext||"",i.reasonStart=r.reason||"unknown",i.sourceStart=r.source||"unknown";const o=r.referrer||{};i.referrer=void 0!==o.name?o.name:"unknown",i.referrerVersion=void 0!==o.version?o.version:"unknown",i.referrerVendor=void 0!==o.vendor?o.vendor:"unknown";const a=r.format||{};a.codec&&(i.audiocodec=a.codec.toLowerCase()),a.bitrate&&(i.bitrate=a.bitrate),i.gaiaDevId=r.deviceId||"none",i.noLog=r.noLog||!1,i.noTSV=r.noTSV||!1,i.noStats=r.noStats||!1,this.emit(ee.TRACKER_TRACKING_DATA_CREATED,{trackingData:i})}trackBufferLoadStart(){const e=this._trackingData;e&&(e.bufferLoadStartTime=Date.now())}trackBytesDownloaded(e){const t=this._trackingData;t&&(t.totalBytes+=e)}trackLoadDone(e){const t=this._trackingData;if(!t)return;const n=Date.now();t.msInitLatency=n-t.bufferLoadStartTime,t.lastPlayStartTime=n,t.localTimeMs=n,t.position=e,t.startPosition=e,t.addStartSegment()}trackCanPlayThrough(){const e=this._trackingData;if(!e||e.msPlayLatency)return;const t=Date.now();e.msPlayLatency=t-e.loadTime,e.msHeadLatency=t-e.bufferLoadStartTime}trackBufferURL(e,t){const n=this._trackingData;n&&n.trackBufferURL(e,t)}trackNavigatorOffline(){const e=this._trackingData;e&&(e.nOffline+=1)}trackSeekRebuffering(e){const t=this._trackingData;t&&(e>t.maxMsSeekRebuffering&&(t.maxMsSeekRebuffering=e),t.msSeekRebuffering+=e)}trackMsStalled(e){const t=this._trackingData;t&&(e>t.maxMsStalled&&(t.maxMsStalled=e),t.msStalled+=e,t.nStalls++)}trackLoadFailed(){const e=this._trackingData;e&&(e.msPlayLatency=Date.now()-e.loadTime,e.position=0,e.addStartSegment())}trackStopped(e){const t=this._trackingData;if(!t||t.isFinalized())return;const n=Date.now();t.stopTime=n,t.lastPlayStartTime&&(t.addMSPlayed(n-t.lastPlayStartTime),this._checkPlayedThreshold()),t.addEndSegment(),t.sourceEnd=e.source||"unknown",t.reasonEnd=e.reason||"unknown",t.nextPlaybackId=e.playbackId||"",t.finalize(),ot.info("Tracker data finalized.");const r=t.getPlaybackStats();this.emit(ee.TRACKER_TRACKING_DATA_FINALIZED,{trackingData:t,playbackStats:r})}trackPositionChanged(e,t){const n=this._trackingData;if(!n)return;const r=n.position;e!==r&&(n.addEndSegment(),e>r?(n.nSeeksForward++,n.msSeeksForward+=e-r):e<r&&(n.nSeeksBackward++,n.msSeeksBackward+=r-e),t||(n.lastPlayStartTime=Date.now()),n.position=e,n.addStartSegment())}trackPlaying(e){const t=this._trackingData;t&&(t.played||this.emit(ee.TRACKER_PLAYBACK_START,{trackingData:t}),t.played=!0,t.lastPlayStartTime=Date.now(),t.position=e)}trackPaused(e){const t=this._trackingData;t&&(t.lastPlayStartTime=0,t.position=e)}trackProgress(e,t){const n=this._trackingData;if(!n)return;const r=Date.now();let i=0;n.lastPlayStartTime&&(i=r-n.lastPlayStartTime),n.lastPlayStartTime=r,n.addMSPlayed(i),this._checkPlayedThreshold(),n.position=e,t&&n.trackBitrate(t,i)}trackVideoLoadStart(e){const t=this._trackingData;t&&t.registerVideoVariant(e)}trackWarning(){const e=this._trackingData;e&&e.nWarnings++}trackOffline(){const e=this._trackingData;e&&e.nOffline++}setActualDuration(e){const t=this._trackingData;t&&(t.msActualDuration=e)}setKeySystem(e){const t=this._trackingData;t&&(t.keySystem=e)}setKeySystemImpl(e){const t=this._trackingData;t&&(t.keySystemImpl=e)}setManifestLatency(e){const t=this._trackingData;t&&(t.msManifestLatency=e)}setPlayIntended(e){const t=this._trackingData;t&&(t.playIntended=e)}setKeyLatency(e){const t=this._trackingData;t&&(t.msKeyLatency=e)}setMemoryCached(e){const t=this._trackingData;t&&(t.memoryCached=e)}setPersistentCached(e){const t=this._trackingData;t&&(t.persistentCached=e)}setProtected(e){const t=this._trackingData;t&&(t.isProtected=e)}setHadError(e){const t=this._trackingData;t&&(t.hadError=e)}setLicenseSessionLatency(e){const t=this._trackingData;t&&(t.msLicenseSessionLatency=e)}setLicenseGenerationLatency(e){const t=this._trackingData;t&&(t.msLicenseGenerationLatency=e)}setLicenseRequestLatency(e){const t=this._trackingData;t&&(t.msLicenseRequestLatency=e)}setLicenseUpdateLatency(e){const t=this._trackingData;t&&(t.msLicenseUpdateLatency=e)}setResolveLatency(e){const t=this._trackingData;t&&(t.msResolveLatency=e)}setCalculatedDuration(e){const t=this._trackingData;t&&(t.msFileDuration=e)}setPlayedThreshold(e){this._playedThreshold=e}}class st{constructor(e){this._transport=e}static create(e){return new st(e)}_parseManifestResponse(e){if(200!==e.status){const t=new Ze(r.STORAGE_VIDEO_MANIFEST_FAILED,`Video manifest request failed with status ${e.status}`);return t.status=e.status,Promise.reject(t)}return Promise.resolve(e.body)}getInitSegmentURLs(e,t,n,r){const i=e+t.replace("{{profile_id}}",n.id).replace("{{file_type}}",n.file_type),o=e+t.replace("{{profile_id}}",r.id).replace("{{file_type}}",r.file_type);return{audio:i,video:o,audioLogging:i,videoLogging:o}}getSegmentURLs(e,t,n,r,i){const o=e+t.replace("{{profile_id}}",r.id).replace("{{file_type}}",r.file_type),a=e+t.replace("{{profile_id}}",i.id).replace("{{file_type}}",i.file_type);return{audio:o.replace("{{segment_timestamp}}",n.toString()),video:a.replace("{{segment_timestamp}}",n.toString()),audioLogging:o,videoLogging:a}}getManifest(e){const t=`@webgate/manifests/v6/json/sources/${e}/options/supports_drm`;return this._transport.request(t,{authorize:!0,responseType:"json",retry:{condition:(e,t)=>e.getStatusFamily()!==t.SUCCESS}}).then(this._parseManifestResponse)}}class ut extends Error{constructor(e,t){super(),this.status=-1,this.debug={},this.canPlayNext=!0,this.unrecoverable=!1,this.name="LicenseError",this.code=e,this.message=t}static fatal(e,t){const n=new ut(e,t);return n.unrecoverable=!0,n.canPlayNext=!1,n}}class ct{constructor(e){this._sdk={name:"",version:""},this._securityLevel=null,this._urls={},e.sdk&&(this._sdk=e.sdk),e.securityLevel&&(this._securityLevel=e.securityLevel),this._transport=e.transport,this._transport.on(this._transport.EVENT_CONNECTION_ID,()=>{this._urls={}})}get(e,t){const n=`${e}:${t}`,i=this._urls[n];if(i&&i.expires>Date.now()+6e4)return Promise.resolve(i.uri);const o=`@webgate/melody/v1/license_url?keysystem=${e}&mediatype=${t}&sdk_name=${this._sdk.name}&sdk_version=${this._sdk.version}`;return this._transport.request(o,{responseType:"json",retry:{condition:(e,t)=>{const n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.CONNECTION_ERROR}}}).then(e=>{const t=e.body;if(t&&200===e.status)return t.expires*=1e3,t.uri=`@webgate/${t.uri}`,this._securityLevel&&(t.uri+=[-1!==t.uri.indexOf("?")?"&":"?","sl=",this._securityLevel].join("")),this._urls[n]=t,t.uri;let i;return i=t?400===e.status&&t&&"deprecated-version"===t.code?ut.fatal(r.LICENSE_RESOLVER_DEPRECATED_VERSION,"This version of the SDK is no longer supported. Please upgrade"):new ut(r.LICENSE_RESOLVER_CANT_RESOLVE_URL,`License URL endpoint responded with status ${e.status}`):ut.fatal(r.LICENSE_RESOLVE_INVALID_RESPONSE,"License URL endpoint responded with invalid response"),i.status=e.status,Promise.reject(i)})}remove(e,t){this._urls[`${e}:${t}`]=null}}var lt,pt,ft;!function(e){e.NULL_VALUE="NULL_VALUE",e.LIST_START="LIST_START",e.LIST_END="LIST_END",e.FORBIDDEN="FORBIDDEN"}(lt||(lt={})),function(e){e.NONE="NONE",e.CONTEXT="CONTEXT",e.TRACK="TRACK"}(pt||(pt={})),function(e){e.EMPTY="EMPTY",e.SW_CRYPTO="SW_CRYPTO",e.SW_DECODE="SW_DECODE",e.HW_CRYPTO="HW_CRYPTO",e.HW_DECODE="HW_DECODE",e.HW_ALL="HW_ALL"}(ft||(ft={}));class dt extends Error{constructor(e,t){super(),this.unrecoverable=!1,this.listPlayerIgnore=!1,this.debug={},this.name="PlaybackError",this.code=e,this.message=t}static fatal(e,t){const n=new dt(e,t);return n.unrecoverable=!0,n}}function ht(e){return"uri"in e}class yt extends u.b{constructor(e){if(super(),this._trackPlayerPromise=se(),this._maxListErrors=5,this._uid=0,this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this._listPlayCount=0,this._listErrorCount=0,this._shuffled=!1,this._repeatMode=pt.NONE,this._currentSeqId=0,!e.trackPlayer)throw new TypeError("Argument `options.trackPlayerManager` not found.");e.maxListErrors&&(this._maxListErrors=e.maxListErrors),this._setListOptions=this._setListOptions.bind(this),this._replaceCurrentList=this._replaceCurrentList.bind(this),this._handleBeforeVolumeChange=this._handleBeforeVolumeChange.bind(this),this._handleCapped=this._handleCapped.bind(this),this._handlePlaying=this._handlePlaying.bind(this),this._handlePaused=this._handlePaused.bind(this),this._handleEnded=this._handleEnded.bind(this),this._handleCanPreload=this._handleCanPreload.bind(this),this._handleError=this._handleError.bind(this),this._handlePositionChanged=this._handlePositionChanged.bind(this),this._handleDurationChanged=this._handleDurationChanged.bind(this),this._handleTimeout=this._handleTimeout.bind(this),this._handlePlayerInitError=this._handlePlayerInitError.bind(this),this._handlePlayedThresholdReached=this._handlePlayedThresholdReached.bind(this),this._init(e.trackPlayer)}static create(e){return new yt(e)}_init(e){this._trackPlayerPromise.promise.catch(()=>{}),Promise.resolve(e).then(e=>{this._attachPlayerEvents(e),this._trackPlayerPromise.resolve(e)}).catch(this._handlePlayerInitError)}_attachPlayerEvents(e){e.on(ee.PLAYER_BEFORE_VOLUME_CHANGE,this._handleBeforeVolumeChange),e.on(ee.PLAYER_CAN_PRELOAD,this._handleCanPreload),e.on(ee.PLAYER_CAPPED,this._handleCapped),e.on(ee.PLAYER_ENDED,this._handleEnded),e.on(ee.PLAYER_ERROR,this._handleError),e.on(ee.PLAYER_PAUSED,this._handlePaused),e.on(ee.PLAYER_PLAYING,this._handlePlaying),e.on(ee.PLAYER_TIMEOUT,this._handleTimeout),e.on(ee.PLAYER_POSITION_CHANGED,this._handlePositionChanged),e.on(ee.PLAYER_DURATION_CHANGED,this._handleDurationChanged),e.on(ee.PLAYER_PLAYED_THRESHOLD_REACHED,this._handlePlayedThresholdReached),this.proxyEmit(e,ee.PLAYER_PROGRESS,ee.LIST_PLAYER_PROGRESS),this.proxyEmit(e,ee.PLAYER_AUTOPLAY_FAILED,ee.LIST_PLAYER_AUTOPLAY_FAILED),this.proxyEmit(e,ee.PLAYER_BEFORE_LOAD,ee.LIST_PLAYER_BEFORE_PLAYER_LOAD),this.proxyEmitSync(e,ee.PLAYER_LOAD,ee.LIST_PLAYER_PLAYER_LOAD),this.proxyEmit(e,ee.PLAYER_TRACKING_DATA_CREATED,ee.LIST_PLAYER_TRACKING_DATA_CREATED),this.proxyEmit(e,ee.PLAYER_TRACKING_DATA_FINALIZED,ee.LIST_PLAYER_TRACKING_DATA_FINALIZED),this.proxyEmit(e,ee.PLAYER_BUFFER_STALLED,ee.LIST_PLAYER_BUFFER_STALLED),this.proxyEmit(e,ee.PLAYER_BUFFERING_START,ee.LIST_PLAYER_BUFFERING_START),this.proxyEmit(e,ee.PLAYER_BUFFERING_END,ee.LIST_PLAYER_BUFFERING_END),this.proxyEmit(e,ee.PLAYER_VIDEO_ELEMENT_APPENDED,ee.LIST_PLAYER_VIDEO_ELEMENT_APPENDED),this.proxyEmit(e,ee.PLAYER_VIDEO_ELEMENT_REMOVED,ee.LIST_PLAYER_VIDEO_ELEMENT_REMOVED)}_handlePlayerInitError(e){this._trackPlayerPromise.reject(new dt(r.LIST_PLAYER_NO_TRACK_PLAYER,e.message||"Track player promise was rejected."))}_handleCapped(){const e=this._currentTrack;e&&this.emit(ee.LIST_PLAYER_CAPPED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList})}_handlePlaying(e){const t=this._currentTrack;t&&this.emit(ee.LIST_PLAYER_PLAYING,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.data.position})}_handlePaused(e){const t=this._currentTrack;t&&this.emit(ee.LIST_PLAYER_PAUSED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.data.position})}_handleBeforeVolumeChange(e){this.emitSync(ee.LIST_PLAYER_BEFORE_VOLUME_CHANGE,{volume:e.data.volume}).defaultPrevented&&e.preventDefault()}_handleCanPreload(){this._preloadUpcomingTrack().catch(()=>{})}_handleEnded(){const e=this._currentTrack;e&&(this.emit(ee.LIST_PLAYER_TRACK_ENDED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList}),this.next(s.TRACK_DONE))}_handleTimeout(){const e=this._currentTrack;e&&(this.emit(ee.LIST_PLAYER_TRACK_TIMEOUT,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList}),this.next(s.TRACK_ERROR))}_handlePositionChanged(e){const t=this._currentTrack;t&&this.emit(ee.LIST_PLAYER_POSITION_CHANGED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.data.position})}_handleDurationChanged(e){const t=this._currentTrack;t&&this.emit(ee.LIST_PLAYER_DURATION_CHANGED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.data.position,duration:e.data.duration})}_handlePlayedThresholdReached(e){const t=this._currentTrack;t&&this.emit(ee.LIST_PLAYER_PLAYED_THRESHOLD_REACHED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,threshold:e.data.threshold,position:e.data.position})}_handleError(e){const t=this._currentTrack,n=e.data;if(!t)return;this.emit(ee.LIST_PLAYER_ERROR,n),this.emitSync(ee.LIST_PLAYER_ERROR_SYNC,n);const r=!!n.error&&n.error.listPlayerIgnore;r||this._listErrorCount++,n.canPlayNext&&(r||this._listErrorCount<=this._maxListErrors?this.next(s.TRACK_ERROR):this.emit(ee.LIST_PLAYER_MAX_LIST_ERRORS_REACHED,{count:this._listErrorCount,threshold:this._maxListErrors}))}_handleTrackLoaded(e){this.emitSync(ee.LIST_PLAYER_TRACK_LOADED,e)}_incrementSeqId(){return this._currentSeqId>=9007199254740991?this._currentSeqId=0:this._currentSeqId+=1,this._currentSeqId}_getTrackPlayer(){return this._trackPlayerPromise.promise}_setListIndex(e,t){const n=t.index&&-1!==t.index?t.index:0;return Promise.all([e,t,e.startAt(n)])}_setListOptions([e,t,n]){return Promise.all([e.setShuffle(!!this._shuffled),e.setRepeatMode(this._repeatMode)]).then(()=>[e,t])}_replaceCurrentList([e,t]){return this.emitSync(ee.LIST_PLAYER_BEFORE_LIST_CHANGE,{newList:e,newOptions:t,oldList:this._loadedList,oldOptions:this._loadedOptions}),this._loadedList=e,this._loadedOptions=t,this._listPlayCount=0,this._listErrorCount=0,this.emit(ee.LIST_PLAYER_LIST_CHANGED,{list:e,options:t}),re.SUCCESS}_preloadTrack(e){return this._getTrackPlayer().then(t=>(t.preload(e).catch(()=>{}),re.SUCCESS))}_changeTrack(e,t,n){if(this._currentSeqId!==n)return Promise.resolve(re.CANCELLED);this.emitSync(ee.LIST_PLAYER_BEFORE_TRACK_LOAD,{list:this._loadedList,newTrack:e,oldTrack:this._currentTrack}),this._uid++;const r=++this._listPlayCount,i=this._loadedOptions;let o=!0,a=0,u=3e4;i&&(1===r?(o=!i.paused,a=i.initialPosition||i.position||0):a=i.position||0);const c=t===s.TRACK_DONE;if("options"in e){const t=e.options;"paused"in t&&(o=!t.paused),"position"in t&&(a=t.position),"playedThreshold"in t&&(u=t.playedThreshold)}this._currentTrack=e,this._currentTrackOptions={reason:t,paused:!o,position:a,playedThreshold:u};const l=this._handleTrackLoaded.bind(this,{uid:this._uid,track:this._currentTrack,options:this._currentTrackOptions,list:this._loadedList});return this._getTrackPlayer().then(t=>this._currentSeqId!==n?re.CANCELLED:(Promise.resolve(t.load(e,{uriProperty:"playableURI",autoplay:o,position:a,playedThreshold:u,continuePrevious:c},l)).catch(()=>{}),re.SUCCESS))}_preloadUpcomingTrack(){const e=this._loadedList;if(!e)return Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));const t={reason:s.TRACK_DONE,listConstants:lt};return e.peekNext(t).then(e=>e===lt.FORBIDDEN?re.FORBIDDEN:e===lt.NULL_VALUE?this._preloadUpcomingTrack():e===lt.LIST_END?re.LIST_END:ht(e)&&e.playable?this._preloadTrack(e):re.INVALID)}activateElement(){return this._getTrackPlayer().then(e=>(e.activateElement(),re.SUCCESS))}load(e,t){const n=function(e={}){const t={index:-1,position:0,initialPosition:0,duration:-1,paused:!1,reason:s.UNKNOWN};return void 0!==e.index&&(t.index=e.index),void 0!==e.position&&(t.position=e.position),void 0!==e.initialPosition&&(t.initialPosition=e.initialPosition),void 0!==e.duration&&(t.duration=e.duration),void 0!==e.paused&&(t.paused=e.paused),void 0!==e.reason&&(t.reason=e.reason),t}(t||this._loadedOptions||{});return this._setListIndex(e,n).then(this._setListOptions).then(this._replaceCurrentList)}play(e,t){return this.load(e,t).then(()=>{if(this._loadedList!==e)return re.CANCELLED;const t=this._loadedOptions?this._loadedOptions.reason:s.UNKNOWN;return this.next(t)})}canChangeTrack(){return this._loadedList?this._loadedList.peekNext({reason:s.FORWARD_BUTTON,listConstants:lt}).then(e=>e!==lt.FORBIDDEN):Promise.resolve(!0)}next(e){if(!e)return Promise.reject(new dt(r.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));const t=this._loadedList;if(!t)return Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(ee.LIST_PLAYER_BEFORE_NEXT,{list:t,reason:e});const n=this._incrementSeqId(),i={reason:e,listConstants:lt};return t.next(i).then(r=>this._currentSeqId!==n?re.CANCELLED:r===lt.FORBIDDEN?re.FORBIDDEN:r===lt.NULL_VALUE?this.next(e):r===lt.LIST_END?(this.emit(ee.LIST_PLAYER_LIST_ENDED,{list:t,reason:s.END_PLAY}),this.clear(e),re.LIST_END):ht(r)?r.playable?this._changeTrack(r,e,n):(this.emit(ee.LIST_PLAYER_TRACK_UNPLAYABLE,{track:r,list:t}),this.next(e)):re.INVALID)}previous(e){if(!e)return Promise.reject(new dt(r.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));const t=this._loadedList;if(!t)return Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(ee.LIST_PLAYER_BEFORE_PREVIOUS,{list:t,reason:e});const n=this._incrementSeqId(),i={reason:e,listConstants:lt};return t.previous(i).then(r=>this._currentSeqId!==n?re.CANCELLED:r===lt.FORBIDDEN?re.FORBIDDEN:r===lt.NULL_VALUE?this.previous(e):r===lt.LIST_START?(this.emit(ee.LIST_PLAYER_LIST_ENDED,{list:t,reason:s.END_PLAY}),this.clear(e),re.LIST_END):ht(r)?r.playable?this._changeTrack(r,e,n):(this.emit(ee.LIST_PLAYER_TRACK_UNPLAYABLE,{track:r,list:t}),this.previous(e)):re.INVALID)}pause(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(e=>(e.pause(),re.SUCCESS)):Promise.resolve(re.SUCCESS):Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}resume(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(e=>(e.resume(),re.SUCCESS)):Promise.resolve(re.SUCCESS):Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}togglePlay(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(e=>(e.togglePlay(),re.SUCCESS)):Promise.resolve(re.SUCCESS):Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}stop(e){const t={reason:e||s.UNKNOWN},n=this._currentTrack;return n&&n.logData&&(t.source=n.logData.source),this._incrementSeqId(),this._getTrackPlayer().then(e=>(e.stop(t),this.emit(ee.LIST_PLAYER_STOPPED,{uid:this._uid,options:this._currentTrackOptions,list:this._loadedList}),re.SUCCESS))}clear(e){return this.stop(e).then(()=>(this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this.emit(ee.LIST_PLAYER_CLEARED,null),re.SUCCESS))}setShuffle(e){const t=!!e;if(this._shuffled!==t){this._shuffled=t,this.emit(ee.LIST_PLAYER_SHUFFLE_CHANGED,{player:this,shuffled:t});const e=this._loadedList;e&&e.setShuffle(this._shuffled)}return Promise.resolve(re.SUCCESS)}setRepeatMode(e){if(!(e in pt))return Promise.reject(new dt(r.LIST_PLAYER_INVALID_ARGUMENT,"The value of repeat mode is not a correct RepeatMode enum value"));if(this._repeatMode!==e){this._repeatMode=e,this.emit(ee.LIST_PLAYER_REPEAT_MODE_CHANGED,{player:this,repeatMode:e});const t=this._loadedList;t&&t.setRepeatMode(this._repeatMode)}return Promise.resolve(re.SUCCESS)}getVolume(){return this._getTrackPlayer().then(e=>e.getVolume())}setVolume(e,t=null){return this._getTrackPlayer().then(n=>(n.setVolume(e),this.emit(ee.LIST_PLAYER_VOLUME_CHANGED,{volume:e,commandId:t}),re.SUCCESS))}seek(e){const t=this._loadedList;return t?"function"!=typeof t.allowSeeking||t.allowSeeking()?this._currentTrack?this._getTrackPlayer().then(t=>(t.seek(e),re.SUCCESS)):Promise.resolve(re.SUCCESS):Promise.reject(new dt(r.LIST_PLAYER_FORBIDDEN,"The operation is not allowed.")):Promise.reject(new dt(r.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}getListConstants(){return lt}getLoadedList(){return this._loadedList}getLoadedOptions(){return this._loadedOptions}getPlayerState(){return this._getTrackPlayer().then(e=>e.getPlayerState())}getState(){return this.getPlayerState().then(e=>({playbackState:e,track:this._currentTrack,list:this._loadedList,options:this._loadedOptions}))}}var _t,mt=n("32gt");!function(e){e[e.OFF=0]="OFF",e[e.CONTEXT=1]="CONTEXT",e[e.TRACK=2]="TRACK"}(_t||(_t={}));const gt=/^disallow_([^]+)_reasons$/,vt=N.a.forTag("stream.PlaybackStateObserver");class Et extends u.b{constructor(e,t={}){super(),this._tpApiClient=e,this._numPreviousTracks=t.numPrevious||2,this._numNextTracks=t.numNextTracks||2,this._state=null,this._init()}static create(e,t){return new Et(e,t)}_init(){this._tpApiClient.on("state_changed",this._onStateChanged.bind(this)),this._tpApiClient.on("state_cleared",this._onStateCleared.bind(this))}_parseRestrictions(e,t){const n={};for(const t in e)e.hasOwnProperty(t)&&"disallow_resuming_reasons"!==t&&"disallow_pausing_reasons"!==t&&(n[t]=e[t]);return t?n.disallow_pausing_reasons=["already_paused"]:n.disallow_resuming_reasons=["not_paused"],n}_parseDisallows(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n],i=!(!r||!r.length);t[n.replace(gt,"$1")]=i}return t}_onStateChanged(e){const{position:t,paused:n,stateMachine:r,stateRef:i}=e.data,o=r&&r.states||[];if(!r||!o.length||!i)return void vt.warn("_onStateChanged called with no current state",e);let a=e.data.duration;const s=Date.now(),u=o[i.state_index],c=this._parseRestrictions(u&&u.restrictions||{},n),l=this._parseDisallows(c),p={current_track:this._getTrackMetadata(r,u,a),next_tracks:this._getNextStates(u,o).map(e=>this._getTrackMetadata(r,e,null)).filter(e=>!!e),previous_tracks:this._getPreviousStates(u,o).map(e=>this._getTrackMetadata(r,e,null)).filter(e=>!!e)};a||(a=p.current_track&&p.current_track.duration_ms?p.current_track.duration_ms:0);const f=this._getRepeatSetting(r),d={context:{uri:null,metadata:{}},position:t,duration:a,paused:n,shuffle:this._getShuffleSetting(r),repeat_mode:f,track_window:p,timestamp:s,restrictions:c,disallows:l},h=r.tracks[u.track];h&&h.metadata&&(h.metadata.context_uri&&(d.context.uri=h.metadata.context_uri),h.metadata.context_description&&(d.context.metadata.context_description=h.metadata.context_description)),this._state=d,this.emit("state_changed",{state:d?Object.assign({},d):null})}_onStateCleared(){this._state=null,this.emit("state_changed",{state:null})}_getRepeatSetting(e){const t=e.attributes.options;return t.repeating_track?_t.TRACK:t.repeating_context?_t.CONTEXT:_t.OFF}_getShuffleSetting(e){return e.attributes.options.shuffling_context}_getNextStates(e,t){const n=this._numNextTracks,r=[];let i=e;for(;i&&"show_next"in i.transitions&&i.transitions.show_next;){const e=t[i.transitions.show_next.state_index];if(r.push(e),i=e,r.length>=n)break}return r}_getPreviousStates(e,t){const n=this._numPreviousTracks,r=[];let i=e;for(;i&&"show_prev"in i.transitions&&i.transitions.show_prev;){const e=t[i.transitions.show_prev.state_index];if(r.unshift(e),i=e,r.length>=n)break}return r}_getTrackMetadata(e,t,n){const r=e&&e.tracks[t.track];if(!r||!r.metadata)return null;const i=r.metadata,o=r.manifest&&"manifest_ids_video"in r.manifest,a=mt.from(i.uri),s=i.linked_from_uri?mt.from(i.linked_from_uri):null;return{id:a?mt.hexToId(a.id):null,uri:i.uri,type:a&&a.type?a.type:"unknown",linked_from:{uri:i.linked_from_uri||null,id:s?mt.hexToId(s.id):null},media_type:o?"video":"audio",name:i.name,duration_ms:n||i.duration,artists:i.authors,album:{uri:i.group_uri,name:i.group_name,images:i.images},is_playable:!0}}getCurrentState(){const e=this._state;if(e&&!e.paused){const t=Date.now(),n=e.position||t-e.timestamp+0;e.position=n,e.timestamp=t}return Promise.resolve(this._state?Object.assign({},this._state):null)}}class bt extends u.b{constructor(e){super(),this._client=e.client,this._initialVolume=e.initialVolume,this._listPlayer=e.listPlayer,this._playerPromise=e.playerPromise,this._tpApiClient=e.tpApiClient,this._playbackStateObserver=new Et(this._tpApiClient),this._stopOnBackground=e.stopOnBackground,this._init()}_init(){this._client.addListeners({before_disconnect:this._onClientBeforeDisconnect.bind(this),before_offline_disconnect:this._onClientBeforeOfflineDisconnect.bind(this)});const e=this._listPlayer;e.addListeners({[ee.LIST_PLAYER_CAPPED]:this._onCapped.bind(this),[ee.LIST_PLAYER_TRACK_ENDED]:this._onTrackEnded.bind(this),[ee.LIST_PLAYER_BEFORE_VOLUME_CHANGE]:this._onBeforeVolumeChange.bind(this),[ee.LIST_PLAYER_ERROR]:this._onError.bind(this,l.PLAYBACK)}),this.proxyEmitAll(e,{[ee.LIST_PLAYER_AUTOPLAY_FAILED]:"autoplay_failed",[ee.LIST_PLAYER_TRACK_LOADED]:"track_loaded",[ee.LIST_PLAYER_DURATION_CHANGED]:"duration_changed",[ee.LIST_PLAYER_POSITION_CHANGED]:"position_changed",[ee.LIST_PLAYER_PROGRESS]:"progress",[ee.LIST_PLAYER_BUFFERING_END]:"buffering_end",[ee.LIST_PLAYER_BUFFERING_START]:"buffering_start",[ee.LIST_PLAYER_MAX_LIST_ERRORS_REACHED]:"max_list_errors_reached",[ee.LIST_PLAYER_VIDEO_ELEMENT_APPENDED]:"video_element_appended",[ee.LIST_PLAYER_VIDEO_ELEMENT_REMOVED]:"video_element_removed",[ee.LIST_PLAYER_LIST_ENDED]:"context_ended"});const t=this._tpApiClient;t.addListeners({logout:this._onTPAPILogout.bind(this),error:this._onError.bind(this,l.TRACK_PLAYBACK)}),this.proxyEmit(t,"max_subscriptions_reached","max_subscriptions_reached"),this.proxyEmit(t,"deregistered","deregistered"),this.proxyEmit(t,"registered","registered"),this.proxyEmit(t,"registration_aborted","registration_aborted"),this.proxyEmit(this._playbackStateObserver,"state_changed","state_changed"),this._stopOnBackground&&document.addEventListener&&document.addEventListener("visibilitychange",()=>{document.hidden&&this.stop()&&this.emitSync("stopped_on_background",null)}),this._playerPromise.then(e=>{e.setVolume(this._initialVolume),this.emit("player_initialization_done",null)},e=>{this.emit("player_initialization_failed",{reason:e.message,error:e})})}_assertOperationSuccess(e){return e===re.SUCCESS}_onTrackEnded(){this.emit("track_ended",null)}_onClientBeforeDisconnect(e){e.data.awaitPromise(this.deregister().catch(()=>{}))}_onClientBeforeOfflineDisconnect(e){e.data.awaitPromise(this.pause().catch(()=>{}))}_onBeforeVolumeChange(e){this.emitSync("before_volume_change",{volume:e.data.volume}).defaultPrevented&&e.preventDefault()}_onCapped(){this.emit("playback_capped",null)}_onError(e,t){const{error:n}=t.data;n&&n.registration&&e===l.TRACK_PLAYBACK&&this.emit("registration_error",{error:n}),this.emit("error",{source:e,error:n}),this._client.notifyError(e,n)}_onTPAPILogout(){this.emit("logged_out",null)}stop(){return this._tpApiClient.stop()}register(){return this._tpApiClient.register()}deregister(){return this._tpApiClient.deregister()}resume(){return this._listPlayer.resume().then(this._assertOperationSuccess)}pause(){return this._listPlayer.pause().then(this._assertOperationSuccess)}nextTrack(e=s.FORWARD_BUTTON){return this._listPlayer.next(e).then(this._assertOperationSuccess)}canChangeTrack(){return this._listPlayer.canChangeTrack()}previousTrack(e=s.BACK_BUTTON){return this._listPlayer.previous(e).then(this._assertOperationSuccess)}togglePlay(){return this._listPlayer.togglePlay().then(this._assertOperationSuccess)}setVolume(e){return this._listPlayer.setVolume(e).then(this._assertOperationSuccess)}getVolume(){return this._listPlayer.getVolume()}seek(e){return this._listPlayer.seek(e).then(this._assertOperationSuccess)}getCurrentState(){return this._playbackStateObserver.getCurrentState()}getVideoVariants(){return this._playerPromise.then(e=>e.getVideoVariants())}setPreferredBitrate(e){return this._playerPromise.then(t=>t.setPreferredBitrate(e).then(this._assertOperationSuccess))}activateElement(){return this._playerPromise.then(e=>e.activateElement())}}const Tt=1e3,St=0,wt=!1;class Ot{constructor(e,t={}){this._cancelFn=null,this._deferredTimer=0,this._fn=e,this._cancelFn=t.cancel||null,this._threshold=t.threshold||Tt,this._ts=t.initialTimetamp||St,this._blockInital=t.blockInitial||wt}_deferFn(e){this._fn.apply(this._fn,e)}_deferPromise(e,t){this._fn.apply(this._fn,e).then(e=>{t.resolve(e)})}sync(...e){const t=Date.now()-this._ts;if(this._ts=Date.now(),t<this._threshold)return this._cancelFn&&this._deferredTimer&&this._cancelFn(),clearTimeout(this._deferredTimer),void(this._deferredTimer=setTimeout(this._deferFn.bind(this,e),this._threshold));!0!==this._blockInital?this._fn.apply(this._fn,e):this.sync.apply(this,e)}async(...e){const t=Date.now()-this._ts;if(this._ts=Date.now(),t<this._threshold){this._cancelFn&&this._deferredTimer&&this._cancelFn(),clearTimeout(this._deferredTimer);const t=function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}();return this._deferredTimer=setTimeout(this._deferPromise.bind(this,e,t),this._threshold),t.promise}return!0===this._blockInital?this.async.apply(this,e):this._fn.apply(this._fn,e)}setCancel(e){this._cancelFn=e}}class At extends Error{constructor(e,t){super(t),this.status=-1,this.maxedSubscriptions=!1,this.unrecoverable=!1,this.debug={},this.registration=!1,this.code=e,this.name="TrackPlayerAPIClientError"}static fatal(e,t){const n=new At(e,t);return n.unrecoverable=!0,n}}const Rt=N.a.forTag("tpapiclient"),Ct=N.a.forTag("tpapiclient.endsong"),Pt=N.a.forTag("tpapiclient.endsongs"),It=/^hm:\/\/track-playback\/v1/,Nt=/^hm:\/\/play-token\/lost/,kt=function(e,t){const n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.CONNECTION_ERROR},Lt={condition:kt,algo:"exp",maxRetries:8},Dt={condition:kt,maxRetries:2};class xt extends u.b{constructor(e){super(),this._deviceId=null,this._manifestFormats=[],this._sequenceNumber=0,this._currentContext=null,this._loading=!1,this._lastSentStateUpdatePayload=null,this._totalStreamTime=0,this._isSendingConflict=!1,this._queuedRejectedStates=[],this._isSendingUpdate=!1,this._queueSendUpdate=[],this._registered=!1,this._isDeregistering=!1,this._waitingForTrackingData=f(),this._lastProcessedStateId=null,this._limitStateUpdates=!1,this._lastUpdateStateTime=0,this._initialUpdateSent=!1,this._startedPlayingUpdateSent=!1,this._nextFinalizedDataPayload=null,this._switchingContext=!1,this._connectionId=null,this._transport=e.transport,this._logger=e.logger,this._endpoint=e.endpoint||"http://@webgate/track-playback",this._listPlayer=e.listPlayer,this._ListClass=e.ListClass,this._currentGaiaVolume=65535*e.initialVolume,this._clientVersion=e.clientVersion,this._descriptorPromise=Promise.resolve(e.descriptor),this._init(),this._performCommand=this._performCommand.bind(this),this._handleRegisterResponse=this._handleRegisterResponse.bind(this),this._handleStateConflictResponse=this._handleStateConflictResponse.bind(this),this.register=this.register.bind(this),this._parseDescriptor=this._parseDescriptor.bind(this),this._volumeDebouncer=new Ot(this._sendVolume.bind(this),{blockInitial:!0})}static create(e){return new xt(e)}_init(){this._waitingForTrackingData=f(),this._waitingForTrackingData.resolve(!0),this._transport.on(this._transport.EVENT_CONNECTION_ID,this._onConnectionId.bind(this)),this._transport.matchMessages(Nt,this._onPlayTokenLost.bind(this)),this._transport.matchMessages(It,this._onTrackPlaybackMessage.bind(this));const e=this._listPlayer;e.on(ee.LIST_PLAYER_CAPPED,this._onCapped.bind(this)),e.on(ee.LIST_PLAYER_ERROR_SYNC,this._onError.bind(this)),e.on(ee.LIST_PLAYER_BEFORE_NEXT,this._onBeforeTrackChange.bind(this)),e.on(ee.LIST_PLAYER_BEFORE_PREVIOUS,this._onBeforeTrackChange.bind(this)),e.on(ee.LIST_PLAYER_BEFORE_PLAYER_LOAD,this._onBeforePlayerLoad.bind(this)),e.on(ee.LIST_PLAYER_PLAYER_LOAD,this._onListPlayerLoad.bind(this)),e.on(ee.LIST_PLAYER_BEFORE_TRACK_LOAD,this._onBeforeTrackLoad.bind(this)),e.on(ee.LIST_PLAYER_POSITION_CHANGED,this._onPositionChanged.bind(this)),e.on(ee.LIST_PLAYER_DURATION_CHANGED,this._onDurationChanged.bind(this)),e.on(ee.LIST_PLAYER_VOLUME_CHANGED,this._onVolumeChanged.bind(this)),e.on(ee.LIST_PLAYER_PAUSED,this._onPlayPause.bind(this,!0)),e.on(ee.LIST_PLAYER_PLAYING,this._onPlayPause.bind(this,!1)),e.on(ee.LIST_PLAYER_PLAYED_THRESHOLD_REACHED,this._onPlayThresholdReached.bind(this)),e.on(ee.LIST_PLAYER_PROGRESS,this._onProgress.bind(this)),e.on(ee.LIST_PLAYER_TRACKING_DATA_CREATED,this._onTrackDataCreatedEvent.bind(this)),e.on(ee.LIST_PLAYER_TRACKING_DATA_FINALIZED,this._onTrackDataFinalizedEvent.bind(this)),this._descriptorPromise.then(e=>{e.on("descriptor_changed",()=>{this._parseDescriptor(e),this._updateDeviceInfo()})})}_onBeforeTrackChange(){if(this._nextFinalizedDataPayload||this._switchingContext)return;const e=this._currentContext?this._currentContext.getStateRef():null,t=this._generateStatePayload(e,"track_data_finalized");this._setSequenceNumber(t),this._nextFinalizedDataPayload=t}_onBeforeTrackLoad(){this._loading=!0,this._switchingContext=!1}_onBeforePlayerLoad(e){const t=this._currentContext;if(!t)return;const n=t.getCurrentTrack();this._currentTrackDuration=n&&n.metadata&&n.metadata.duration||0;const r=e.data.options;t.setPaused(!r.autoplay),this._setCurrentTrackPosition(r&&r.position||0),this._updateState("before_track_load"),this._startedPlayingUpdateSent=!1,this._initialUpdateSent=!1}_onCapped(){this._listPlayer.clear(s.CAPPED),this._currentContext=null,this._updateState(s.CAPPED),this._setCurrentTrackPosition(void 0),this._lastProcessedStateId=null,this.emit("state_cleared",null)}_onConnectionId(e){this._connectionId=e.data.id,this._isDeregistering||(this._registered=!1,Promise.all([this._listPlayer.getVolume(),this._descriptorPromise.then(this._parseDescriptor)]).then(this.register,e=>{Rt.info("Skipping registration due to error",e),this.emit("registration_aborted",{reason_error:e})}).catch(()=>{}))}_onDurationChanged(e){this._currentTrackDuration=e.data.duration,this._emitStateChanged()}_onError(e){"position"in e.data&&(this._setCurrentTrackPosition(e.data.position),this._updateState("error"))}_onPlayPause(e,t){const n=this._currentContext;n&&(n.setPaused(e),"position"in t.data&&this._setAllTrackPositions(t.data.position),t.data.track.stateId&&this._shouldSendUpdateForEvent(t.data.track.stateId)?this._updateState(e?"pause":"resume"):(this._lastProcessedStateId=null,this._emitStateChanged()))}_onPlayThresholdReached(e){this._initialUpdateSent=!0,this._setAllTrackPositions(e.data.position),this._updateState("played_threshold_reached")}_onPlayTokenLost(){this._listPlayer.pause().catch((function(){}))}_onPositionChanged(e){this._loading||(this._setCurrentTrackPosition(e.data.position),e.data.track&&this._shouldSendUpdateForEvent(e.data.track.stateId)?this._updateState("position_changed"):(this._lastProcessedStateId=null,this._emitStateChanged()))}_onProgress(e){if(this._loading||!this._currentContext)return;this._setAllTrackPositions(e.data.position),!this._startedPlayingUpdateSent&&e.data.played>1e3&&(this._startedPlayingUpdateSent=!0,this._updateState("started_playing"));const t=e.data.logData;if(!t)return;t.noLog||(this._totalStreamTime+=e.data.interval||500);const n=this._currentContext.getCurrentTrack(),r=n&&"number"==typeof n.ms_playing_update_interval?n.ms_playing_update_interval:null;this._initialUpdateSent&&null!==r&&r>0&&Date.now()-this._lastUpdateStateTime>r&&this._updateState("progress")}_onTrackDataCreatedEvent(){this._waitingForTrackingData=f()}_onTrackDataFinalizedEvent(e){const t=this._nextFinalizedDataPayload;t&&(t.playback_stats=e.data.playbackStats,this._updateState("track_data_finalized",t)),this._nextFinalizedDataPayload=null,this._waitingForTrackingData&&this._waitingForTrackingData.resolve(!0)}_onListPlayerLoad(e){this._loading=!1;const t=this._currentContext;t&&(t.setPaused(!e.data.autoplay),this._setCurrentTrackPosition(e.data.position||0))}_onTrackPlaybackMessage(e){const t=e.payloads;Array.isArray(t)&&t.length&&this._performCommand(t[0])}_onVolumeChanged(e){if(this._currentGaiaVolume=65535*e.data.volume,!this._registered)return;const t=e.data.commandId||"",n={seq_num:void 0,volume:this._currentGaiaVolume,command_id:t};this._volumeDebouncer.async(n)}_clearSessionData(){this._connectionId=null,this._sequenceNumber=0,this._currentContext=null,this._lastSentStateUpdatePayload=null,this._totalStreamTime=0,this._isSendingConflict=!1,this._isSendingUpdate=!1,this._queueSendUpdate=[],this._previousTrackPosition=void 0,this._currentTrackPosition=void 0,this._currentTrackDuration=void 0,this._lastProcessedStateId=null,this.emit("state_cleared",null)}_createStateRef(e,t){if(!t)return null;const n=e.states[t.state_index];if(!n)throw new At(i.TP_CANNOT_CREATE_STATE_REF,"Invalid state reference.");return{state_machine_id:e.state_machine_id,state_id:n.state_id,paused:t.paused}}_deregisterFromService(e){let t=null;const n=this._currentContext;n&&(e&&(n.setPaused(!e.playing),this._setAllTrackPositions(e.position)),t=n.getStateRef());const r=this._generateStatePayload(t,"deregister");this._setSequenceNumber(r);const i=`${this._endpoint}/v1/devices/${this._deviceId}`;return this._transport.request(i,{authorize:!0,method:"DELETE",payload:JSON.stringify(r),responseType:"json",retry:Dt}).then(e=>{if(200!==e.status&&204!==e.status)return this._registered=!0,!1;const t=e.body;return t&&(t.endsong&&Ct.log(t.endsong),t.endsongs&&Pt.log(t.endsongs)),this._clearSessionData(),this.emit("deregistered",null),!0})}_emitError(e,t={}){this._logger.logJSSDKError({source:"tpapi-client",source_version:q.tagged,type:e.code,message:e&&e.message,stack:e&&e.stack,json_data:t,json_data_version:"1.0.0"},"object").catch((function(e){Rt.error("Track-Playback Logging Error",e)})),this.emit("error",{error:e,data:t})}_emitStateChanged(){const e=this._currentContext;e&&this.emit("state_changed",{stateMachine:e.getStateMachine(),stateRef:e.getInternalStateRef(),position:this._currentTrackPosition||0,duration:this._currentTrackDuration||0,paused:e.isPaused()})}_generateStatePayload(e,t){return{seq_num:void 0,seq_nums:void 0,state_ref:e,sub_state:{playback_speed:e&&!e.paused?1:0,position:this._currentTrackPosition,duration:this._currentTrackDuration||void 0,stream_time:this._totalStreamTime},previous_position:this._previousTrackPosition,playback_stats:void 0,rejected_state_refs:void 0,debug_source:t}}_handleRegisterResponse(e){let t;if(429===e.status)return t=At.fatal(i.TP_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached"),t.maxedSubscriptions=!0,t.status=e.status,this.emit("max_subscriptions_reached",{error:t}),Promise.reject(t);if(403===e.status&&e.body&&"PREMIUM_REQUIRED"===e.body.error_type?t=At.fatal(i.TP_REGISTRATION_FAILED_NON_PREMIUM,"Cannot register to Track Playback with non-premium user."):200!==e.status?t=At.fatal(i.TP_REGISTRATION_FAILED_WITH_STATUS,`track-playback service responded with status ${e.status} when registering device`):e.body||(t=At.fatal(i.TP_NO_RESPONSE_BODY,"Unexpected empty response body from registration request.")),t)return t.status=e.status,Promise.reject(t);const n=e.body;return n.endsong&&Ct.log(n.endsong),n.endsongs&&Pt.log(n.endsongs),this._sequenceNumber=n.initial_seq_num,this._registered=!0,this.emit("registered",{deviceId:this._deviceId}),Promise.resolve(!0)}_handleStateConflictResponse(e){if(e.status>=200&&e.status<300){const t=e.body;if(!t||!t.commands||!t.commands.length)return;const n=t.commands;for(let e=0,t=n.length;e<t;e++)this._performCommand(n[e])}else{const t=new At(i.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS,`Track-Playback service responded with ${e.status}`);t.status=e.status,this._emitError(t)}}_handleStateUpdateResponse(e,t){let n;if(200!==t.status)return n=new At(i.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS,`Service responded with status ${t.status}`),n.status=t.status,Promise.reject(n);if(!t.body)return n=new At(i.TP_UPDATE_REQUEST_EMPTY_RESPONSE,"Unexpected empty response body from state update request."),n.status=t.status,Promise.reject(n);const r=t.body;r.endsong&&Ct.log(r.endsong),r.endsongs&&Pt.log(r.endsongs);const o=this._currentContext;if(!o)return Promise.resolve();const a=r.state_machine,s=r.updated_state_ref;return this._isCurrentStateRef(e)?(o.setStateMachine(a),o.setCurrentState(s),this._emitStateChanged(),Promise.resolve()):Promise.resolve()}_isCurrentStateRef(e){const t=this._currentContext?this._currentContext.getStateRef():null;return!t&&!e||!(!t||!e)&&(t.state_machine_id===e.state_machine_id&&t.state_id===e.state_id&&t.paused===e.paused)}_logUnsentStateUpdate(e){Rt.info("Unsent state update.",e),this._logger.logClientEvent({source:"tpapi-client",source_version:q.tagged,source_vendor:"spotify",event:"unsent-state-update",event_version:"1.0.0",json_data:e},"object").catch((function(e){Rt.error("Track-Playback Logging Error",e)}))}_logout(){this._listPlayer.pause().catch((function(){})),this.emit("state_cleared",null),this.deregister().then(e=>{this._currentContext=null,this._setCurrentTrackPosition(void 0),e&&this.emit("logout",null)})}_parseDescriptor(e){return this._deviceId=e.getId(),this._deviceInfo=e.toTrackPlaybackDeviceInfo(),this._manifestFormats=e.getManifestFormats(),!0}_performCommand(e){switch(e.type){case"set_volume":this._setVolume(e);break;case"log_out":this._logout();break;case"replace_state":this._replaceState(e);break;case"ping":this._updateState("ping");break;default:this._emitError(new At(i.TP_UNKNOWN_COMMAND,"Received unknown command."),{command:e})}}_rejectState(e){const t=this._queuedRejectedStates;if(void 0!==e&&t.push(e),!this._registered||this._isSendingConflict||!t.length)return;this._isSendingConflict=!0;const n=t.splice(0,5),r=this._currentContext?this._currentContext.getStateRef():null,i=this._generateStatePayload(r);i.rejected_state_refs=n,this._setSequenceNumbers(i,n.length);const o=()=>{this._isSendingConflict=!1,this._rejectState()},a=`${this._endpoint}/v1/devices/${this._deviceId}/state_conflict`;this._transport.request(a,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(i),retry:Dt}).then(this._handleStateConflictResponse).then(o,o)}_replaceState(e){const t=this._listPlayer,n=e.state_machine,r=e.state_ref,i=this._createStateRef(n,r);if(!this._isCurrentStateRef(e.prev_state_ref))return void this._rejectState(i);if(!r||!i)return void this._clearContextAndState();const o=this._currentContext?this._currentContext.getStateRef():null;if(this._currentContext&&o&&o.state_id===i.state_id){const i=this._currentContext;i.setStateMachine(n),i.setCurrentState(r);let o=!1;i.isPaused()!==r.paused&&(o=!0),r.paused?(i.setPaused(!0),t.pause()):(i.setPaused(!1),t.resume());const a=parseInt(e.seek_to,10);i.allowSeeking()&&!isNaN(a)&&(t.seek(a),this._setCurrentTrackPosition(a),o=!0),o?this._emitStateChanged():(this._lastProcessedStateId=null,this._updateState("modify_current_state"))}else{this._lastProcessedStateId=i.state_id,this._currentContext&&this._onBeforeTrackChange();const o=this._ListClass.create("spotify:app:jsspeaker",this._manifestFormats);o.setStateMachine(n),o.startAtState(r),o.setDeviceId(this._deviceId),this._currentContext=o;const a=e.seek_to||0;o.setInitialPosition(a),this._loading=!0,this._switchingContext=!0,t.play(o,{reason:s.REMOTE})}}_clearContextAndState(){const e=this._listPlayer;e.pause().catch((function(){})),e.clear(s.REMOTE),this._currentContext=null,this._updateState("state_clear"),this._setAllTrackPositions(void 0),this._lastProcessedStateId=null,this.emit("state_cleared",null),this._loading=!0}_sendDevicesRequest(e,t){let n=`${this._endpoint}/v1/devices`;return"PUT"===e&&(n+=`/${this._deviceId}`),this._transport.request(n,{authorize:!0,method:e||"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(t),retry:Lt})}_sendVolume(e){const t=`${this._endpoint}/v1/devices/${this._deviceId}/volume`;return this._setSequenceNumber(e),this._transport.request(t,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},payload:JSON.stringify(e)})}_setAllTrackPositions(e){this._previousTrackPosition=e,this._currentTrackPosition=e}_setCurrentTrackPosition(e){this._previousTrackPosition=this._currentTrackPosition,this._currentTrackPosition=e}_setSequenceNumber(e){return void 0===e.seq_num&&(e.seq_num=++this._sequenceNumber),e}_setSequenceNumbers(e,t){e.seq_nums=[];for(let n=0;n<t;n++)e.seq_nums.push(++this._sequenceNumber);return e}_setVolume(e){const t=e.volume/65535;this._listPlayer.setVolume(t,e.command_id)}_shouldSendUpdateForEvent(e){return!(!e||e===this._lastProcessedStateId)}_updateDeviceInfo(){this._registered&&this._deviceInfo&&this._sendDevicesRequest("PUT",this._deviceInfo).then(e=>{204===e.status&&this.emit("registration_updated",null)})}_updateState(e,t){if(!this._registered)return;let n,r;if(t?(n=t.state_ref,r=t):(n=this._currentContext?this._currentContext.getStateRef():null,r=this._generateStatePayload(n,e)),!this._wasStatePayloadSentRecently(r))return void Rt.info("State update ignored (duplicate).",r);if(this._emitStateChanged(),this._isSendingUpdate&&this._limitStateUpdates)return this._logUnsentStateUpdate(r),void this._queueSendUpdate.push(e);this._isSendingUpdate=!0,this._queueSendUpdate=[],this._setSequenceNumber(r),this._lastSentStateUpdatePayload=r;const i=()=>{this._isSendingUpdate=!1,this._queueSendUpdate.length&&this._updateState(this._queueSendUpdate.join(",")),Rt.info("State update sent.",e,r)},o=`${this._endpoint}/v1/devices/${this._deviceId}/state`;this._lastUpdateStateTime=Date.now(),this._transport.request(o,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(r),retry:Lt}).then(this._handleStateUpdateResponse.bind(this,n)).then(i,e=>{this._emitError(e),i()})}_wasStatePayloadSentRecently(e){const t=this._lastSentStateUpdatePayload;if(!t||!t.state_ref||!e.state_ref)return!0;const n=e.state_ref,r=t.state_ref;if(n.paused!==r.paused||n.state_id!==r.state_id||n.state_machine_id!==r.state_machine_id)return!0;const i=e.sub_state,o=t.sub_state;return i.playback_speed!==o.playback_speed||i.position!==o.position||i.duration!==o.duration||e.previous_position!==t.previous_position}stop(){return!(!this._registered||!this._currentContext)&&(this._clearContextAndState(),!0)}deregister(){return this._registered?(this._isDeregistering=!0,this._registered=!1,this._listPlayer.getPlayerState().then(e=>Promise.all([this._deregisterFromService(e),this._waitingForTrackingData.promise,this._listPlayer.stop().catch(()=>{})]).then(([e])=>(this._isDeregistering=!1,e)),()=>(this._isDeregistering=!1,this._registered=!0,!1))):Promise.resolve(!1)}register(){if(this._registered)return Promise.resolve(!1);if(!this._deviceInfo)return Promise.reject(new Error("Need DeviceInfo for device registration."));if(!this._connectionId)return Promise.reject(new Error("Need connection-id for device registration"));let e=null;const t=this._currentContext;return t&&(e=this._generateStatePayload(t.getStateRef(),"register"),this._setSequenceNumber(e)),this._sendDevicesRequest("POST",{device:this._deviceInfo,connection_id:this._connectionId,client_version:this._clientVersion,previous_session_state:e||void 0,volume:this._currentGaiaVolume}).then(this._handleRegisterResponse).catch(e=>(e&&!e.maxedSubscriptions&&(e.registration=!0,this._emitError(e)),!1))}}const Ut=/^https:\/\//,Mt=/^(.+?)\/([^./]+)(\.[^/]*)?$/,Ft={[x.FILE_URLS_MP3]:"MP3",[x.FILE_URLS_EXTERNAL]:"MP3",[x.FILE_IDS_MP4]:"MP4",[x.FILE_IDS_MP4_DUAL]:"MP4",[x.FILE_IDS_CBCS]:"MP4_CBCS",[x.MANIFEST_IDS_VIDEO]:"MANIFEST"};class jt{constructor(e,t){this._stateMachine=null,this._currentState=null,this._currentStateIndex=null,this._pausedState=!1,this._initialPlaybackPosition=null,this._uri=e,this._manifestFormats=t}static create(e,t){return new jt(e,t)}setPaused(e){this._pausedState=e}isPaused(){return this._currentStateIndex&&this._currentStateIndex<0&&this._currentState&&this._currentState.transitions.advance?!!this._currentState.transitions.advance.paused:this._pausedState}setInitialPosition(e){this._initialPlaybackPosition=e}setStateMachine(e){this._stateMachine=e}setDeviceId(e){this._deviceId=e}startAtState(e){const t=this._stateMachine&&this._stateMachine.states[e.state_index];if(!t)throw new At(i.TP_MISSING_INITIAL_STATE,"Invalid state reference.");const n=t.transitions;this._currentStateIndex=-1,this._currentState={decoy:!0,paused:!!e.paused,track:-1,state_id:null,transitions:{advance:e,show_next:n.show_next,show_prev:n.show_prev,skip_next:e,skip_prev:n.skip_prev}}}setCurrentState(e){const t=e.state_index;this._currentStateIndex=t,this._currentState=this._stateMachine&&this._stateMachine.states[t]}getStateMachine(){return this._stateMachine}getInternalStateRef(){let e=this._pausedState,t=this._currentStateIndex;if(!t)return null;if(t&&t<0){const n=this._currentState&&this._currentState.transitions.advance;n&&(t=n.state_index,e=!!n.paused)}return{paused:e,state_index:t}}getStateRef(){const e=this._stateMachine;if(!e||null===this._currentStateIndex)return null;let t,n;if(this._currentStateIndex<0){const r=this._currentState&&this._currentState.transitions.advance;r&&(t=e.states[r.state_index],n=r.paused)}else t=e.states[this._currentStateIndex],n=this._pausedState;return t?{state_machine_id:e.state_machine_id,state_id:t.state_id,paused:!!n}:null}getCurrentTrack(){const e=this._stateMachine;if(!e||null===this._currentStateIndex)return null;let t;if(this._currentStateIndex<0){const n=this._currentState&&this._currentState.transitions.advance;n&&(t=e.states[n.state_index])}else t=e.states[this._currentStateIndex];return t?e.tracks[t.track]:null}startAt(){return Promise.resolve(re.SUCCESS)}setShuffle(){return Promise.resolve(re.SUCCESS)}setRepeatMode(){return Promise.resolve(re.SUCCESS)}next(e){const t=this._currentState;let n=null;if(t){const r=t.transitions;switch(e.reason){case s.FORWARD_BUTTON:"skip_next"in r&&(n=r.skip_next);break;default:"advance"in r&&(n=r.advance)}}return this._transitionTo(e,n,!1)}peekNext(e){const t=this._currentState;let n=null;if(t){const r=t.transitions;switch(e.reason){case s.FORWARD_BUTTON:"skip_next"in r&&(n=r.skip_next);break;default:"advance"in r&&(n=r.advance)}}return this._transitionTo(e,n,!0)}previous(e){const t=this._currentState;let n=null;if(t){n=t.transitions.skip_prev}return this._transitionTo(e,n,!1)}allowSeeking(){return!!this._currentState&&!this._currentState.disallow_seeking}_transitionTo(e,t,n=!1){const r=e.reason,i=e.listConstants;if(!t)return Promise.resolve(i.FORBIDDEN);const o=this._stateMachine;if(!o)return Promise.resolve(i.NULL_VALUE);const a=o.states[t.state_index];if(!a)return Promise.resolve(i.NULL_VALUE);const s=o.tracks[a.track];if(!s||!s.metadata||!s.metadata.uri)return Promise.resolve(i.NULL_VALUE);if(!this._currentState)return Promise.resolve(i.NULL_VALUE);const u=this._currentState,c=u.decoy?!!u.paused:t.paused;n||(this._currentState=a,this._currentStateIndex=t.state_index,this._pausedState=!!c);let l=0;n||null===this._initialPlaybackPosition?"initial_playback_position"in a&&(l=a.initial_playback_position||0):(l=this._initialPlaybackPosition,this._initialPlaybackPosition=null);const p=function(e,t){const n=t.manifest,r=t.metadata.uri,i=mt.from(r),o=!(!i||i.type!==mt.Type.AD&&i.type!==mt.Type.INTERRUPTION);for(let a=0,s=e.length;a<s;a++){const s=e[a];if(!(s in n))continue;const u=n[s];if(!u.length)continue;const c=u[0];if(!c.file_id&&!c.file_url)continue;let l,p=c.file_url,f=c.file_id||"";if(p&&s===x.FILE_URLS_MP3&&o){if(f=p.replace(Mt,"$2"),f===p)continue;p=void 0}if(p&&!Ut.test(p)&&(p=void 0),f||p)return l=t.track_type?t.track_type.toLowerCase():s===x.MANIFEST_IDS_VIDEO?"video":"audio",{uri:r,uriType:i&&i.type?i.type:void 0,fileId:f,resolvedURL:p,mediaType:l,format:Ft[s],bitrate:c.bitrate||128e3,impressionURL:c.impression_url,impressionURLs:c.impression_urls,isAd:o,noLog:!1,noTSV:o,noStats:o,noManifest:!!c.file_url,playable:!0}}return null}(this._manifestFormats,s);if(!p)return Promise.resolve(i.NULL_VALUE);let f=this._uri;s.metadata&&s.metadata.context_uri&&(f=s.metadata.context_uri);const d=r,h=s.ms_played_until_update,y={uri:p.uri,playableURI:p.uri,fileId:p.fileId,resolvedURL:p.resolvedURL,playable:p.playable,isAd:p.isAd,format:p.format,mediaType:p.mediaType,noManifest:p.noManifest,options:{position:l,paused:c,playedThreshold:h},logData:{noLog:!!p.noLog,noTSV:!!p.noTSV,noStats:!!p.noStats,deviceId:this._deviceId,playbackId:a.state_id?a.state_id:void 0,reason:d,displayTrack:p.uri,playContext:f,impressionURL:p.impressionURL,impressionURLs:p.impressionURLs,format:{codec:p.format,bitrate:p.bitrate},uriType:p.uriType},stateId:a.state_id?a.state_id:void 0};return Promise.resolve(y)}}function Bt(e,t={}){const n=e.getSDKId(),r=e.getPublicTransport(),i=e.getLogger(),o=e.getDeviceDescriptor(),a="initialVolume"in t&&void 0!==t.initialVolume?t.initialVolume:1,s=function(e){return new Promise((t,n)=>{var r,i;if(!e.transport)return void n(new TypeError("Argument transport is required."));if(!e.logger)return void n(new TypeError("Argument `options.logger` is required."));const o=e.transport,[a="",s=""]=(e.sdkId||"").split(":"),u=Object.assign(Object.assign({},e),{tracker:at.create(),audioResolver:new tt(o),videoResolver:new st(o),licenseURLResolver:new ct({transport:o,sdk:{name:a,version:s},securityLevel:e.securityLevel}),newBufferPerTrack:null===(r=e.newBufferPerTrack)||void 0===r||r,preinitMediaElement:null===(i=e.preinitMediaElement)||void 0===i||i});ze.create(u).then(t=>({player:t,logger:Je.create({transport:o,player:t,logger:e.logger})})).then(t,n)})}(Object.assign(Object.assign({},t),{transport:r,logger:i,sdkId:e.getUntaggedSDKId()})).then(({player:e})=>e),u=s.then(e=>e.getKeySystemInfo()).then(e=>({keySystem:e&&e.keySystem,supportsVideo:!(!e||!e.videoFormats.length)})).catch(()=>({keySystem:"",supportsVideo:!1})),c=Promise.all([o,u]).then(([e,n])=>(e.getCapability("audio_podcasts")&&!t.disableExternalFiles&&e.appendManifestFormat(x.FILE_URLS_EXTERNAL),n.keySystem===te.FAIRPLAY?e.appendManifestFormat(x.FILE_IDS_CBCS):n.keySystem!==te.WIDEVINE||t.preferMultiDRMFormat?e.appendManifestFormat(x.FILE_IDS_MP4_DUAL,x.FILE_IDS_MP4):e.appendManifestFormat(x.FILE_IDS_MP4,x.FILE_IDS_MP4_DUAL),n.keySystem!==te.FAIRPLAY&&n.supportsVideo&&e.getCapability("video_playback")&&e.appendManifestFormat(x.MANIFEST_IDS_VIDEO),e)),l=yt.create({trackPlayer:s}),p=xt.create({initialVolume:a,listPlayer:l,logger:i,transport:r,clientVersion:n,descriptor:c,endpoint:t.endpoint,ListClass:jt}),f="stopOnBackground"in t?t.stopOnBackground:"undefined"==typeof MediaSource;return new bt({client:e,listPlayer:l,tpApiClient:p,playerPromise:s,initialVolume:a,stopOnBackground:f})}const Vt=N.a.forTag("transport.server_time");class Ht{constructor(e){this._serverTime=0,this._serverTimeFetchedAt=0,this._transport=e}static create(e){return new Ht(e)}_parseServiceResponse(e,t){const n=Date.now(),r=t.status;return r===_.a.OK?this._serverTime=parseInt(t.body.timestamp,10)+Math.round((n-e)/2):(Vt.error(`Cannot fetch server time. Service responded with ${r}`),this._serverTime=n),this._serverTimeFetchedAt=n,this._serverTime}get(){const e=Date.now();return this._transport.request("@webgate/melody/v1/time",{responseType:"json"}).then(this._parseServiceResponse.bind(this,e))}getApproximate(){if(!this._serverTime)return this.get(),Date.now();const e=Date.now()-this._serverTimeFetchedAt;return e>18e4&&this.get(),this._serverTime+e}}class Wt extends Error{constructor(e,t){super(t),this.status=-1,this.maxedSubscriptions=!1,this.unrecoverable=!1,this.debug={},this.code=e,this.name="PlayerAPIClientError"}static fatal(e,t){const n=new Wt(e,t);return n.unrecoverable=!0,n}}const Kt=N.a.forTag("harmony.controller"),Gt=/^disallow_([^]+)_reasons$/,Yt={disallow_pausing_reasons:!0,disallow_peeking_next_reasons:!0,disallow_peeking_prev_reasons:!0,disallow_resuming_reasons:!0,disallow_seeking_reasons:!0,disallow_skipping_next_reasons:!0,disallow_skipping_prev_reasons:!0,disallow_toggling_repeat_context_reasons:!0,disallow_toggling_repeat_track_reasons:!0,disallow_toggling_shuffle_reasons:!0},qt="premium",zt="on-demand";class Xt extends u.b{constructor(e){super(),this._suppressed=!1,this._lastDeviceInfoData=null,this._state=null,this._isOrphanedState=!1,this._progressPosition=0,this._lastProgressTs=0,this._trackingIntervalId=0,this._metadataCache=null,this._client=e.client,this._serverTime=e.serverTime,this._version=e.version,this._playerClient=e.playerClient,this._disableProgress=!!e.disableProgress,this._transport=this._client.getPublicTransport(),this._decorate=!!e.decorateTrackWindow,this._decorate&&(this._metadataCache=new Z(20)),this._onClientBeforeDisconnect=this._onClientBeforeDisconnect.bind(this),this._onDeviceStateChanged=this._onDeviceStateChanged.bind(this),this._onPlayerStateChanged=this._onPlayerStateChanged.bind(this),this._onProgressTracking=this._onProgressTracking.bind(this),this._client.on("before_disconnect",this._onClientBeforeDisconnect),this.proxyEmit(this._playerClient,"max_subscriptions_reached","max_subscriptions_reached"),this.proxyEmit(this._playerClient,"devices_changed","devices_changed"),this.proxyEmit(this._playerClient,"registered","registered"),this.proxyEmit(this._playerClient,"deregistered","deregistered"),this._playerClient.on("device_state_changed",this._onDeviceStateChanged),this._playerClient.on("player_state_changed",this._onPlayerStateChanged)}static create(e){return new Xt(e)}_onClientBeforeDisconnect(e){e&&e.data.awaitPromise(this._playerClient.deregister().catch(()=>{}))}_onDeviceStateChanged(e){this._lastDeviceInfoData={deviceInfo:e.data.deviceState,hasOrphanedState:e.data.hasOrphanedState},this._suppressed||this.emit("device_info_changed",this._lastDeviceInfoData)}_startProgressTracking(){this._stopProgressTracking(),this._lastProgressTs=Date.now(),this._onProgressTracking(),this._trackingIntervalId=setInterval(this._onProgressTracking,500)}_stopProgressTracking(){this._trackingIntervalId&&(clearInterval(this._trackingIntervalId),this._trackingIntervalId=0)}_onProgressTracking(){const e=Date.now();this._progressPosition+=e-this._lastProgressTs,this.emit("progress",{position:this._progressPosition,timestamp:Date.now()}),this._lastProgressTs=e}_getLicense(){return this._client.getProductState().then(e=>"1"===e.ads?zt:qt).catch(()=>zt)}_generatePlayOptions(e,t){return this._getLicense().then(n=>{const r={license:n};if(!e)return r;if(("index"in e||"trackUID"in e||"trackURI"in e)&&(r.skip_to={track_uid:e.trackUID,track_index:e.index,track_uri:e.trackURI}),"initialOffset"in e&&(r.seek_to=e.initialOffset),"paused"in e&&(r.initially_paused=e.paused),t)return r;r.player_options_override={};const i=r.player_options_override;if("shuffle"in e&&(i.shuffling_context=e.shuffle),"repeatMode"in e)switch(e.repeatMode){case _t.CONTEXT:i.repeating_context=!0,i.repeating_track=!1;break;case _t.TRACK:i.repeating_track=!0,i.repeating_context=!1;break;case _t.OFF:i.repeating_track=!1,i.repeating_context=!1}return r})}_setFilterAndSort(e,t){t&&t.filter&&e.metadata&&(e.metadata["filtering.predicate"]=t.filter),t&&t.sort&&e.metadata&&(e.metadata["sorting.criteria"]=t.sort)}_generatePlayOrigin(e){if(e&&e.featureClasses&&!Array.isArray(e.featureClasses))throw new TypeError("PlayOptions playOrigin.featureClasses must be an array of strings.");return{feature_identifier:e&&e.featureIdentifier||"harmony",feature_version:e&&e.featureVersion||this._version,feature_classes:e&&e.featureClasses,view_uri:e&&e.viewURI,external_referrer:e&&e.externalReferrer,referrer_identifier:e&&e.referrerIdentifier}}_parseRestrictions(e){const t={};for(const n in e.restrictions)e.restrictions.hasOwnProperty(n)&&Yt[n]?t[n]=e.restrictions[n]:Yt[n]&&(t[n]=[]);return t}_parseDisallows(e){const t={},n=e.restrictions;for(const e in n)if(n.hasOwnProperty(e)&&Yt[e]){const r=n[e],i=!(!r||!r.length);t[e.replace(Gt,"$1")]=i}return t}_onPlayerStateChanged(e){this._isOrphanedState=e.data.orphaned,this._parsePlayerState(e.data.playerState).then(t=>{this._state=t,this._suppressed||this.emit("state_changed",{state:t?Object.assign({},t):null,orphaned:e.data.orphaned}),!this._disableProgress&&t&&(this._progressPosition=t.position,t.paused?this._stopProgressTracking():this._startProgressTracking())})}_parsePlayerState(e){return e?this._getTrackWindow(e).then(t=>({context:{uri:e.context_uri||null,metadata:e.context_metadata||{}},timestamp:e.timestamp,duration:e.duration||t.current_track&&"uri"in t.current_track&&t.current_track.duration_ms||0,position:e.is_paused?e.position_as_of_timestamp:this._offsetPosition(e.timestamp,e.position_as_of_timestamp),paused:!!e.is_paused,shuffle:!(!e.options||!e.options.shuffling_context),repeat_mode:this._getStateRepeatMode(e),restrictions:this._parseRestrictions(e),disallows:this._parseDisallows(e),track_window:t,bitrate:null})):Promise.resolve(null)}_offsetPosition(e,t,n){const r=t+((n||this._serverTime.getApproximate())-e);return r<0?0:r}_isRestricted(e,t){if(!e||!e.restrictions)return!1;const n=`disallow_${t}_reasons`;return!!(e.restrictions[n]||[]).length}_getTrackWindow(e){const t={current_track:null,next_tracks:[],previous_tracks:[]},n={},r=[];if(!e.track)return Promise.resolve(t);const i=e.track.uri;if(!i)return Promise.resolve(t);const o=mt.from(i),a=this._parseLocalTrack(o),s=this._parseAd(o,e.track);return t.current_track=a||s||{uri:i,type:o&&o.type?o.type:"unknown"},a||s||(n[i]=1,r.push(i)),this._isRestricted(e,"peeking_next")||this._fillWindow(r,t.next_tracks,n,e.next_tracks?e.next_tracks.slice(0,5):[]),this._isRestricted(e,"peeking_prev")||this._fillWindow(r,t.previous_tracks,n,e.prev_tracks?e.prev_tracks.slice(-5):[],!0),this._decorate?this._decorateMetadata(r,t):Promise.resolve(t)}_fillWindow(e,t,n,r,i){i&&r.reverse();for(let o=0,a=r.length;o<a;o++){const a=r[o].uri,s=mt.from(a);if(!a||"spotify:delimiter"===a||s&&(s.type===mt.Type.AD||s.type===mt.Type.INTERRUPTION))continue;const u=this._parseLocalTrack(s),c=u||{uri:a,type:"unknown"};if(u||a in n||(n[a]=1,e.push(a)),i?t.unshift(c):t.push(c),2===t.length)break}}_parseLocalTrack(e){if(!e||e.type!==mt.Type.LOCAL)return null;return{uri:e.toURI(),type:"local",media_type:"audio",name:e.track,artists:[{uri:mt.localArtistURI(e.artist).toURI(),name:e.artist}],album:{uri:mt.localAlbumURI(e.artist,e.album).toURI(),name:e.album,images:[{url:""}]},duration_ms:e.duration?1e3*e.duration:0,is_playable:!1}}_parseAd(e,t){if(!e||e.type!==mt.Type.AD&&e.type!==mt.Type.INTERRUPTION)return null;if(!t||!t.metadata)return null;const n=t.metadata;return{id:e.id,uri:e.toURI(),type:e.type,media_type:"audio",name:n.title,artists:[{uri:n.click_url,name:n.advertiser}],album:{uri:"",name:"",images:[{url:n.image_url}]},duration_ms:parseInt(n.duration,10),is_playable:!1}}_decorateMetadata(e,t){const n=this._metadataCache,r=[],i=[];for(let t=0,o=e.length;t<o;t++){const o=e[t];if(n&&n.get(o))continue;const a=mt.from(o);if(!a)continue;const s=mt.hexToId(a.id);a.type===mt.Type.TRACK?i.push(s):r.push(this._requestPodcastData(s,o))}return Promise.all([Promise.all(r).then(e=>-1===e.indexOf(!1)),!!i.length&&this._requestTracksData(i)]).then(([e,n])=>e||n?this._performDecoration(t):t)}_requestTracksData(e){const t=this._metadataCache,n=["https://@webapi/v1/tracks","?ids=",e.join(","),"&market=from_token"].join("");return this._transport.request(n,{responseType:"json"}).then(e=>{if(200!==e.status)return!1;const n=e.body;if(!n)return!1;const r=n.tracks;let i=r.length;for(;i--;){const e=r[i];e&&(t&&t.set(e.uri,e),e.media_type="audio",t&&e.linked_from&&e.linked_from.uri&&t.set(e.linked_from.uri,e))}return!0})}_requestPodcastData(e,t){const n=this._metadataCache,r=`https://@webapi/v1/episodes/${e}`;return this._transport.request(r,{responseType:"json"}).then(r=>{if(200!==r.status)return!1;const i=r.body;if(!i)return!1;const o={id:e,uri:t,type:"episode",media_type:i.show.media_type,name:i.name,artists:[{uri:i.show.uri,name:i.show.publisher}],album:{uri:i.show.uri,name:i.show.name,images:i.images},duration_ms:i.duration_ms||0,is_playable:!0};return n&&n.set(t,o),!0}).catch(()=>!1)}_performDecoration(e){const t=this._metadataCache,n={current_track:null,next_tracks:[],previous_tracks:[]};let r,i,o;e.current_track&&(i=t&&e.current_track&&"uri"in e.current_track&&t.get(e.current_track.uri),n.current_track=i||e.current_track),r=e.next_tracks.length;for(;r--;)o=e.next_tracks[r],i=t&&o&&"uri"in o&&t.get(o.uri),n.next_tracks[r]=i||o;for(r=e.previous_tracks.length;r--;)o=e.previous_tracks[r],i=t&&o&&"uri"in o&&t.get(o.uri),n.previous_tracks[r]=i||o;return n}_getStateRepeatMode(e){const t=e.options;return t&&t.repeating_track?_t.TRACK:t&&t.repeating_context?_t.CONTEXT:_t.OFF}_play(e,t,n){return this._setFilterAndSort(e,n),this._generatePlayOptions(n).then(r=>{const i={context:e,play_origin:this._generatePlayOrigin(n&&n.playOrigin),options:r};return this._playerClient.play(i,t)})}_prepareTracks(e,t){const n=[],r=[mt.Type.TRACK,mt.Type.EPISODE];for(let i=0,o=e.length;i<o;i++){let o,a=e[i];if(!a)return Promise.reject(new TypeError("Null value inside track array."));if("string"==typeof a?(o=mt.from(a),a={uri:a}):o=mt.from(a.uri),!o)return Promise.reject(new TypeError(`Invalid uri string: ${o}`));if(-1===r.indexOf(o.type))return Promise.reject(new TypeError(`Invalid track uri: ${a.uri}`));a.metadata||(a.metadata={}),t&&t.queued&&(a.metadata.is_queued="true"),n.push(a)}return Promise.resolve(n)}getActiveDevice(){return this._playerClient.getActiveDevice()}getCurrentState(e){if(e&&this._isOrphanedState)return Promise.resolve(null);const t=this._state;if(t&&!t.paused){const e=this._serverTime.getApproximate();t.position=this._offsetPosition(t.timestamp,t.position,e),t.timestamp=e}return Promise.resolve(t?Object.assign({},t):null)}getContextPlayerState(){return Kt.warn("The `getContextPlayerState()` method is not well supported. Please avoid using it directly."),this._playerClient.getContextPlayerState()}getDevices(){return this._playerClient.getDevices()}playURI(e,t,n){if(!mt.from(e))return Promise.reject(new TypeError("Invalid Spotify URI"));const r={uri:e,url:`context://${e}`,metadata:n&&n.contextMetadata||{}};return this._play(r,t,n)}playTracks(e,t,n){return Array.isArray(e)?this._prepareTracks(e).then(e=>{const r={uri:n&&void 0!==n.contextURI?n.contextURI:"spotify:app:playerapi-client",metadata:n&&n.contextMetadata||{},pages:[{tracks:e}]};return this._play(r,t,n)}):Promise.reject(new TypeError("Invalid tracks array."))}updateCurrentContext(e,t={}){return this._playerClient.updateCurrentContext(e,t)}setQueue(e,t,n){return Array.isArray(e)?Array.isArray(t)?Promise.all([this._prepareTracks(e),this._prepareTracks(t)]).then(([e,t])=>{const r={next_tracks:e.length?e:void 0,prev_tracks:t.length?t:void 0};return this._playerClient.setQueue(r,n)}):Promise.reject(new TypeError("Invalid previousTracks array.")):Promise.reject(new TypeError("Invalid nextTracks array."))}addToQueue(e,t){return Array.isArray(e)?Promise.all([this._prepareTracks(e,{queued:!0}),this._playerClient.getContextPlayerState()]).then(([e,n])=>{if(!n||!n.next_tracks)return Promise.reject(new Error("No context to queue."));const r=n.next_tracks.slice(0);for(let t=0,n=r.length;t<n;t++){const n=r[t];if(!n||!n.metadata||"true"!==n.metadata.is_queued){e&&r.splice(t,0,...e);break}}const i={next_tracks:r,prev_tracks:n.prev_tracks};return this._playerClient.setQueue(i,t)}):Promise.reject(new TypeError("Invalid nextTracks array."))}togglePlay(e){return this._playerClient.togglePlay(e)}transfer(e,t){return this._generatePlayOptions(t,!0).then(t=>this._playerClient.transfer(e,t))}pause(e){return this._playerClient.pause(e)}resume(e){return this._playerClient.resume(e)}nextTrack(e){return this._playerClient.nextTrack(e)}previousTrack(e){return this._playerClient.previousTrack(e)}seek(e,t){return this._playerClient.seek(e,t)}setShuffle(e,t){return this._playerClient.setShuffle(e,t)}toggleShuffle(e){return this._playerClient.toggleShuffle(e)}setVolume(e,t){return this._playerClient.setVolume(e,t)}setRepeatMode(e,t){switch(e){case _t.OFF:return Promise.all([this._playerClient.setRepeatingContext(!1,t),this._playerClient.setRepeatingTrack(!1,t)]).then(()=>!0);case _t.CONTEXT:return Promise.all([this._playerClient.setRepeatingContext(!0,t),this._playerClient.setRepeatingTrack(!1,t)]).then(()=>!0);case _t.TRACK:return Promise.all([this._playerClient.setRepeatingContext(!1,t),this._playerClient.setRepeatingTrack(!0,t)]).then(()=>!0);default:return Promise.reject(new TypeError("Unknown repeat mode."))}}cycleRepeatMode(e){return this.getCurrentState().then(t=>{if(!t)return Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));let n=null;switch(t.repeat_mode){case _t.OFF:n=_t.CONTEXT;break;case _t.CONTEXT:n=_t.TRACK;break;case _t.TRACK:n=_t.OFF;break;default:n=_t.OFF}return this.setRepeatMode(n,e)})}register(){return this._playerClient.register()}suppressEvents(){this._suppressed=!0}unsuppressEvents(){this._suppressed=!1,this._lastDeviceInfoData&&this.emit("device_info_changed",this._lastDeviceInfoData),this._state&&this.emit("state_changed",{state:this._state})}}const $t=/connect-state\/v1\/cluster$/,Qt=/^([a-zA-Z0-9_%:-]{1,40}).*$/;function Jt(e){if(!e.track)return!1;const t=mt.from(e.track.uri||{type:"ad"});return!!t&&(t.type===mt.Type.AD||t.type===mt.Type.INTERRUPTION)}class Zt extends u.b{constructor(e){super(),this._autoregister=!0,this._connectionId="",this._localDeviceId="",this._localObserverDeviceId=null,this._lastActiveDevice=null,this._lastKnownPlayerState=null,this._lastKnownDevices=[],this._localDevice=null,this._fetchedInitialState=!1,this._awaitingAcknowledgment={},this._acknowledgementMaps=[],this._lastProcessedTimestamp=0,this._descriptor=e.descriptor,this._transport=e.transport,this._endpoint=e.endpoint||"@webgate/connect-state",this._autoregister=!("autoregister"in e)||!!e.autoregister,this._onConnectionId=this._onConnectionId.bind(this),this._onClusterMessage=this._onClusterMessage.bind(this),this._awaitResponseWithAck=this._awaitResponseWithAck.bind(this),this._transport.on(this._transport.EVENT_CONNECTION_ID,e=>{this._onConnectionId(e.data.id)}),this._transport.matchMessages($t,this._onClusterMessage),this._descriptorPromise=Promise.resolve(this._descriptor).then(e=>(this._localDeviceId=e.id||"",this._localObserverDeviceId=("hobs_"+this._localDeviceId).replace(Qt,"$1"),!0))}static create(e){return new Zt(e)}_onConnectionId(e){this._connectionId=e,this._autoregister&&this.register()}_onClusterMessage(e){const t=e.payloads&&e.payloads[0];if(t){if(t.ack_id){const e=t.ack_id,n=this._awaitingAcknowledgment[e];if(n)n.resolve(!0);else{const t=this._acknowledgementMaps;for(let n=0,r=t.length;n<r;n++)t[n][e]=f()}}this._parseCluster(t.cluster)}}_makeEndpoint(e,t,n){return this._descriptorPromise.then(()=>{const r=this._localDeviceId;let i=n;return i||(i=this._lastActiveDevice?this._lastActiveDevice.id:this._localDeviceId),"@local"===i&&(i=r),`${this._endpoint}/${e}/${t}/from/${r}/to/${i}`})}_sendPlayerCommand(e,t=null,n={}){return n.endpoint=e,this._makeEndpoint("v1","player/command",t).then(e=>this._sendRequest(y.a.POST,e,{command:n})).then(this._awaitResponseWithAck)}_sendConnectCommand(e,t=null,n={}){const r="volume"===e?y.a.PUT:y.a.POST;return this._makeEndpoint("v1",`connect/${e}`,t).then(e=>this._sendRequest(r,e,n)).then(this._awaitResponseWithAck)}_sendRequest(e,t,n){const r=this._acknowledgementMaps,i={};r.push(i);const o=()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1)};return this._transport.request(t,{method:e,payload:n?JSON.stringify(n):void 0,responseType:"json",retry:{condition:(e,t)=>{const n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.CONNECTION_ERROR}}}).then(e=>(o(),{response:e,map:i}),e=>(o(),Promise.reject(e)))}_awaitResponseWithAck(e){if(404===e.response.status)return Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_DEVICE,"No such device."));if(200===e.response.status&&e.response.body&&e.response.body.ack_id){const t=e.response.body.ack_id;if(e.map&&e.map[t])return Promise.resolve(!0);const n=f();return this._awaitingAcknowledgment[t]=n,n.promise}return Promise.resolve(200===e.response.status)}_parseCluster(e){if(!e)return;const t=parseInt(e.timestamp,10);this._lastProcessedTimestamp>t||(this._lastProcessedTimestamp=t,this._parseClusterDevices(e),this._parseClusterPlayerState(e))}_parseClusterDevices(e){const t=this._lastActiveDevice;this._lastActiveDevice=null,this._lastKnownDevices=[],this._localDevice=null;const n=[];for(const t in e.devices)e.devices.hasOwnProperty(t)&&n.push(t);if(n.sort(),n.length){const t=e.active_device_id;for(let r=0,i=n.length;r<i;r++){const i=e.devices[n[r]],o=this._formatClusterDevice(i,t);this._lastKnownDevices.push(o),o.is_active&&(this._lastActiveDevice=o),o.local&&(this._localDevice=o)}}if(!this._fetchedInitialState||!d(this._lastActiveDevice,t)){const n=e.player_state,r=n&&n.track&&!Jt(n);this.emit("device_state_changed",{deviceState:this._lastActiveDevice,hasOrphanedState:!this._lastActiveDevice&&!!r,disappeared:!!t&&!this._lastActiveDevice})}this.emit("devices_changed",{devices:this._lastKnownDevices,localDevice:this._localDevice})}_formatClusterDevice(e,t){const n={};if(e&&Array.isArray(e.metadata))for(let t=0,r=e.metadata.length;t<r;t++){const r=e.metadata[t];n[r.type]=r.metadata}const r=e.capabilities||{};return{hidden:!1,id:e.device_id,is_active:e.device_id===t,is_controllable:!!r.is_controllable,is_observable:!!r.is_observable,local:e.device_id===this._localDeviceId,metadata:n,name:e.name,type:(e.device_type||U.UNKNOWN).toLowerCase(),version:e.device_software_version,volume:r.disable_volume?-1:e.volume/65535}}_parseClusterPlayerState(e){this._lastKnownPlayerState=null;const t=e.active_device_id,n=t&&e.devices[t];let r=e.player_state;r&&r.track&&(n&&n.capabilities&&!n.capabilities.is_observable?r=null:(n||(r.is_paused=!0,r.restrictions&&(delete r.restrictions.disallow_resuming_reasons,r.restrictions.disallow_pausing_reasons=["already_paused"])),r.duration=parseInt(r.duration,10),r.position=parseInt(r.position,10),r.position_as_of_timestamp=parseInt(r.position_as_of_timestamp,10),r.timestamp=parseInt(r.timestamp,10),r.next_tracks=r.next_tracks||[],r.prev_tracks=r.prev_tracks||[]),this._lastKnownPlayerState=r);let i=!n&&!!this._lastKnownPlayerState;i&&r&&Jt(r)&&(this._lastKnownPlayerState=null,i=!1),this.emit("player_state_changed",{playerState:this._lastKnownPlayerState,orphaned:i})}_register(){this._fetchedInitialState=!1;const e=`${this._endpoint}/v1/devices/${this._localObserverDeviceId}`;return this._connectionId||Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_CONNECTION_ID,"Cannot register: no connection id.")),this._transport.request(e,{method:"PUT",headers:{"X-Spotify-Connection-Id":this._connectionId,Accept:"application/json"},payload:JSON.stringify({member_type:"CONNECT_STATE",device:{device_info:{capabilities:{can_be_player:!1,hidden:!0}}}}),responseType:"json"}).then(e=>{429===e.status?this.emit("max_subscriptions_reached",{error:new Wt(i.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached")}):200===e.status&&(this.emit("registered",null),e.body&&(this._parseCluster(e.body),this._fetchedInitialState=!0))})}register(){return this._connectionId?this._descriptorPromise.then(this._register.bind(this)):Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_CONNECTION_ID,"Cannot register: no connection id."))}deregister(){const e=`${this._endpoint}/v1/devices/${this._localObserverDeviceId}`;return this._transport.request(e,{method:"DELETE",responseType:"json"}).then(e=>{200===e.status&&this.emit("deregistered",null)})}getDevices(){return this._fetchedInitialState?Promise.resolve({devices:this._lastKnownDevices,localDevice:this._localDevice}):new Promise(e=>{this.once("device_state_changed",()=>{e({devices:this._lastKnownDevices,localDevice:this._localDevice})})})}getActiveDevice(){return this._fetchedInitialState?Promise.resolve(this._lastActiveDevice):new Promise(e=>{this.once("device_state_changed",t=>{e(t.data.deviceState)})})}getContextPlayerState(){return this._fetchedInitialState?Promise.resolve(this._lastKnownPlayerState):new Promise(e=>{this.once("player_state_changed",t=>{e(t.data.playerState)})})}play(e,t=null){return e?this._sendPlayerCommand("play",t,e):Promise.reject(new Wt(i.CONNECTAPI_CLIENT_INVALID_ARGUMENTS,"Descriptor is required for play commands"))}updateCurrentContext(e=null,t={}){return this.getContextPlayerState().then(n=>n?n.session_id?n.context_url||t.forceNonUpdateable?this._sendPlayerCommand("update_context",e,{context:{url:n.context_url||`context://${n.context_uri}`},session_id:n.session_id}):Promise.resolve(!1):Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_SESSION_ID,"The current state does not have a session id")):Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing")))}setQueue(e,t){return this._sendPlayerCommand("set_queue",t,e)}togglePlay(e){return this.getContextPlayerState().then(t=>t?t.is_paused?this.resume(e):this.pause(e):Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing")))}transfer(e,t={}){const n={transfer_options:{restore_paused:"restore"}};return t&&"initially_paused"in t&&(n.transfer_options.restore_paused=t.initially_paused?"pause":"resume"),this._sendConnectCommand("transfer",e||"@local",n)}pause(e){return this._sendPlayerCommand("pause",e)}resume(e){return this._sendPlayerCommand("resume",e)}nextTrack(e){return this._sendPlayerCommand("skip_next",e)}previousTrack(e){return this._sendPlayerCommand("skip_prev",e)}seek(e,t){return isNaN(e)||e<0?Promise.reject(new Wt(i.CONNECTAPI_CLIENT_INVALID_POSITION,"Invalid position.")):this._sendPlayerCommand("seek_to",t,{value:e})}setShuffle(e,t){return this._sendPlayerCommand("set_shuffling_context",t,{value:!!e})}toggleShuffle(e){return this.getContextPlayerState().then(t=>{if(!t)return Promise.reject(new Wt(i.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));const n=t.options&&t.options.shuffling_context;return this.setShuffle(!n,e)})}setRepeatingContext(e,t){return this._sendPlayerCommand("set_repeating_context",t,{value:e})}setRepeatingTrack(e,t){return this._sendPlayerCommand("set_repeating_track",t,{value:!!e})}setVolume(e,t){if(isNaN(e)||e<0)return Promise.reject(new Wt(i.CONNECTAPI_CLIENT_INVALID_VOLUME,"Invalid volume."));const n=Math.round(65535*e);return this._sendConnectCommand("volume",t,{volume:n})}}const en=Object.assign(Object.assign(Object.assign({},i),o.a),r);function tn(e){var t;const n=e.transport;if(!n)throw new TypeError("No Transport instance provided");const r=function(e){return $.create(e)}(Object.assign(Object.assign({},e.client),{transport:n,hidden:!!e.hidden,playTokenLostBehavior:e.hidden&&!e.onlyLocalState?"stop":"pause"})),i=e.streamer||{},o=e.controller||{};let a=void 0,s=!1;e.streamer&&e.streamer.disabled?(e.hidden=!0,e.onlyLocalState=!1,e.claimInactivePlayerStates=!1,s=!0):(a=Bt(r,i),o.autoregister=!1,e.onlyLocalState&&(o.decorateTrackWindow=!1,o.disableProgress=!0));const u=function(e,t={}){const n=e.getPublicTransport(),r=e.getVersionDescriptor().tagged,i=Zt.create({autoregister:!("autoregister"in t)||t.autoregister,descriptor:e.getClientDescriptor(),transport:n});return Xt.create({client:e,playerClient:i,version:r,serverTime:Ht.create(n),decorateTrackWindow:"boolean"!=typeof t.decorateTrackWindow||t.decorateTrackWindow,disableProgress:t.disableProgress})}(r,o);return h.create({transport:n,client:r,streamer:a,controller:u,enableControllerWithoutStreamer:s,hidden:e.hidden,onlyLocalState:e.onlyLocalState,claimInactivePlayerStates:e.claimInactivePlayerStates,autoActivateElement:null!==(t=e.autoActivateElement)&&void 0!==t?t:"undefined"!=typeof WebKitMediaKeys,experimentalDeactivateOnStop:e.experimentalDeactivateOnStop})}},AWLF:function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("wrle"),o=n("lIgl"),a=n("dcjB"),s=n("qG8n"),u=n("asuC"),c=n("Gm6p"),l=n("ZaFu"),p=n("WSLi"),f=n("Lc1h"),d=n("1Wwy"),h=n("6w3l"),y=n("P1TA"),_=n("pPJX"),m=n("nEgm"),g=n("eXcQ"),v=n("0Kzw").forTag("transport.transport"),E=/^(?:https?:\/\/)?@([^\/]+)\//,b=/^(ws|http)s?:\/\/.*[^\/]$/,T=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,S=1,w=4,O={fetch:!0,xhr:!0};function A(e){if(!e)throw new TypeError("Argument `config` for Transport cannot be null.");if(!e.providers)throw new TypeError("Argument `config.providers` for Transport cannot be null.");s.call(this),this._ownerRef="ownerRef"in e?Object(e.ownerRef):{},this._tokenProvider=e.providers.token,this._endpointsProvider=e.providers.endpoints,this._HTTP=e.HTTP,this._Fetch=e.Fetch,this._WebSocket=e.WebSocket,this._reconnectionRetries=e.reconnectionRetries>=0?e.reconnectionRetries:3,this._requestMode=e.requestMode in O?e.requestMode:"xhr",this._forcePolyfillTypes=e.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in e&&e.disableAutoLogout,this._activated=!1,this._dealer=null,this._connectionObserver=null,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._disconnectBeforeUnload=e.disconnectBeforeUnload||!1,this._counter=new a(e.backoffStrategy||{algo:"exp",baseTime:5e3,ceiling:15e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._init()}r(A,s),A.create=function(e){return new A(e)},A.prototype._init=function(){this.onAddListener(y.TRANSPORT_CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(y.TRANSPORT_AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(y.TRANSPORT_CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(y.TRANSPORT_CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(y.TRANSPORT_AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(y.TRANSPORT_CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch.isSupported()||(v.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var e=new l({WebSocket:this._WebSocket});this._dealer=e,e.on(y.DEALER_DISCONNECTED,this._onDealerDisconnected.bind(this)),this._disableAutoLogout||this.matchMessages("client:logout",this._onLogout.bind(this)),this.proxyEmit(e,y.DEALER_CONNECTION_ID,y.TRANSPORT_CONNECTION_ID),this.proxyEmitSync(e,y.DEALER_MESSAGE,y.INTERNAL_DEALER_MESSAGE),this.proxyEmitSync(e,y.DEALER_REQUEST,y.INTERNAL_DEALER_REQUEST),this._connectionObserver=new p({notifyBeforeUnload:this._disconnectBeforeUnload}),this._connectionObserver.on(y.CONNECTION_ONLINE,this._onOnline.bind(this)),this._connectionObserver.on(y.CONNECTION_OFFLINE,this._onOffline.bind(this)),this._connectionObserver.on(y.WINDOW_BEFORE_UNLOAD,this.disconnect.bind(this))},A.prototype._onAddListener=function(e,t){if(!t.options.ignoreCurrentState){var n=null;switch(e){case"connected":if(!this.isConnected())return;n=u.resolve(s.createEvent(y.TRANSPORT_CONNECTED));break;case"authenticated":if(!this.isAuthenticated())return;n=u.resolve(s.createEvent(y.TRANSPORT_AUTHENTICATED));break;case"connection_id":if(!this._dealer.hasConnectionId())return;n=this._dealer.getConnectionInfo().then((function(e){return s.createEvent(y.TRANSPORT_CONNECTION_ID,e)}));break;default:return}var r=t.listener;this._stateAwareListeners[e].push(r);var i=this._stateAwareRunners;i[e]||(i[e]=n.then(this._runStateAwareQueues.bind(this,e)),t.options.once&&t.preventDefault())}},A.prototype._onRemoveListener=function(e,t){if(!t.options.ignoreCurrentState){var n=t.listener,r=this._stateAwareListeners[e].indexOf(n);-1!==r&&this._stateAwareListeners[e].splice(r,1)}},A.prototype._runStateAwareQueues=function(e,t){for(var n=this._stateAwareListeners[e].splice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t);this._stateAwareRunners[e]=null},A.prototype._onDealerDisconnected=function(e){var t=Date.now(),n=t-this._lastDisconnect;this._disconnect(!0),e.wsCode!==g.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(y.TRANSPORT_SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._counter.getTime(this._quickDisconnectCount))):(this._quickDisconnectCount=0,this._lastDisconnect=t,this._tryToReconnect())):this._quickDisconnectCount=0},A.prototype._onLogout=function(){var e=function(){this._lastToken=null,this._lastTokenExpiry=0,this.emit(y.TRANSPORT_LOGGED_OUT)}.bind(this);this.disconnect().then(e,e)},A.prototype._onAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=w,this._initTime=Date.now(),this.emit(y.TRANSPORT_AUTHENTICATED),u.resolve(!0)},A.prototype._onAuthenticationFailed=function(e){var t=e&&e.error?e.error:e;return this._authenticationPromise=null,this._stateMask&=~w,this.emit(y.TRANSPORT_AUTHENTICATION_FAILED,{error:t}),u.reject(t)},A.prototype._onOffline=function(){this.emit(y.TRANSPORT_CONNECTION_OFFLINE),this._disconnect(!0)},A.prototype._onOnline=function(){this.emit(y.TRANSPORT_CONNECTION_ONLINE),this._activated&&this._tryToReconnect()},A.prototype._tryToReconnect=function(){this._isReconnecting||(this._stateMask=0,o.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){this._stateMask=0,this._isReconnecting=!1,this.emit(y.TRANSPORT_DISCONNECTED)}.bind(this)))},A.prototype._createReconnector=function(){var e=!0;return function(){return this._isReconnecting=!0,this.emit(y.TRANSPORT_RECONNECTING),this._disconnect(!0),this._connect().then(function(){return this._authenticate(e).then((function(t){return e=!1,t}),(function(t){return e=!0,u.reject(t)}))}.bind(this)).then(function(){return this._isReconnecting=!1,this.emit(y.TRANSPORT_RECONNECTED),!0}.bind(this))}.bind(this)},A.prototype._connect=function(){return this._stateMask&S?u.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new u(function(e,t){this._connectionObserver.once(y.CONNECTION_ONLINE,function(){this._performConnect().then(e,t)}.bind(this))}.bind(this))},A.prototype._performConnect=function(){return new u(function(e){e(this._endpointsProvider(this.toPublic()))}.bind(this)).catch((function(e){if(!e||e.code)return u.reject(e);var t=new m(_.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,e.message||"Endpoints provider error.");return t.origin=t,u.reject(t)})).then(this._connectToEndpoints.bind(this)).catch(function(e){var t=e&&e.error?e.error:e;return this.emit(y.TRANSPORT_CONNECTION_FAILED,{error:t}),u.reject(t)}.bind(this))},A.prototype._connectToEndpoints=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&e[n]){var r=e[n];b.test(r)&&(r+="/"),t[n]=r}this._endpoints=t,this.emit(y.TRANSPORT_ENDPOINTS_RESOLVED,{endpoints:i({},this._endpoints)});var o=function(){return this._stateMask|=S,this.emit(y.TRANSPORT_CONNECTED),u.resolve(!0)}.bind(this);return e.dealer?this._dealer.connect(t.dealer).then(o):o()},A.prototype._disconnect=function(e){return this._stateMask=0,this._dealer.disconnect(),e||this.emit(y.TRANSPORT_DISCONNECTED),!0},A.prototype._refreshToken=function(e){if(!this._refreshTokenPromise){if(!e&&Date.now()<this._lastTokenExpiry)return u.resolve(this._lastToken);var t=function(){this._refreshTokenPromise=null}.bind(this);this._refreshTokenPromise=new u(function(e){e(this._tokenProvider())}.bind(this)).then(this._parseProvidedToken),this._refreshTokenPromise.then(t,t)}return this._refreshTokenPromise},A.prototype._parseProvidedToken=function(e){var t,n;if(Array.isArray(e)?(t=e[0],n=parseInt(e[1]||3540,10)):(t=e,n=3540),!t)throw this._lastToken=null,this._lastTokenExpiry=0,new m(_.TRANSPORT_INVALID_TOKEN,"Token provider returned an invalid token: "+t);return this._lastToken=t,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(y.TRANSPORT_ACCESS_TOKEN,{token:t}),t},A.prototype._authenticateWithToken=function(e){return this._endpoints.dealer?this._dealer.authenticate(e):u.resolve(!0)},A.prototype._tryExpandSpecialURL=function(e){var t=this._endpoints;return e.replace(E,(function(e,n){if(!t.hasOwnProperty(n))throw new TypeError("Cannot replace endpoint @"+n+"; Endpoint undefined.");return t[n]}))},A.prototype._processRequestArgs=function(e,t){return new u(function(n){var r=e,o=t||{},a={algo:"exp",maxRetries:2,maxTime:15e3};E.test(r)&&(r=this._tryExpandSpecialURL(r),"authorize"in o||(o.authorize=!0)),o.forcePolyfill=o.responseType in this._forcePolyfillTypes,o.requestMode||(o.requestMode=this._requestMode),"retry"in o&&i(a,o.retry),o.connectionObserver=this._connectionObserver,"metadata"in o||(o.metadata=null),n({url:r,args:o,backoffStrategy:a})}.bind(this))},A.prototype._setAuthHeader=function(e,t){if(!e.authorize)return u.resolve(e);var n=function(){return this._refreshToken(t).then((function(t){return e.headers||(e.headers={}),e.headers.Authorization="Bearer "+t,e}))}.bind(this);return this._stateMask&w?n():new u(function(e,t){this.once("authenticated",(function(){n().then(e,t)}))}.bind(this))},A.prototype._sendRetriedRequest=function(e){var t=e.backoffStrategy,n=!1,r=function(){return this._setAuthHeader(e.args,n)}.bind(this),i=this._connectionObserver,a=function(){return(i.isOnline()?r():new u((function(t,n){e.args.allowOffline?r().then(t,n):i.once(y.CONNECTION_ONLINE,(function(){r().then(t,n)}))}))).then(function(){return"fetch"===e.args.requestMode&&this._Fetch.isSupported()?this._Fetch.request(e.url,e.args):this._HTTP.request(e.url,e.args)}.bind(this)).then((function(r){var i;if(r.headers&&(i=r.headers.get("Retry-After")),r.status===d.UNAUTHORIZED&&!e.args.ignoreUnauthorized)return n=!0,u.reject(r);if("function"==typeof t.condition&&(t.condition(r,h)||i)){var o=parseInt(i,10);return T.test(i)?r.retryAfter=new Date(i).getTime()-Date.now():o>0&&(r.retryAfter=1e3*o),u.reject(r)}return r}))}.bind(this);return o.init(a,t).catch(this._handleRetriedRequestError).then((function(t){return t.metadata=e.args.metadata,e.args.rejectNotOk&&!t.ok?u.reject(t):t}))},A.prototype._handleRetriedRequestError=function(e){return e instanceof f?u.resolve(e):u.reject(e)},A.prototype._sendFireAndForgetRequest=function(e){return"function"==typeof t.fetch?t.fetch(e,{mode:"no-cors"}).catch((function(){})):t.Image?(new t.Image).src=e:this.request(e,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}),u.resolve(new f(e,0))},A.prototype._sendRequest=function(e,t){return this._processRequestArgs(e,t).then(function(e){return e.args.forget?this._sendFireAndForgetRequest(e.url):this._sendRetriedRequest(e)}.bind(this))},A.prototype.getEndpoints=function(){return i({},this._endpoints)},A.prototype.getInitTime=function(){return this._initTime},A.prototype.getLastToken=function(){return this._lastToken},A.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},A.prototype.isConnected=function(){return!!(this._stateMask&S)},A.prototype.isAuthenticated=function(){return!!(this._stateMask&w)},A.prototype.isOnline=function(){return this._connectionObserver.isOnline()},A.prototype.forceTokenRefresh=function(){return this._refreshToken(!0).then((function(){return!0}))},A.prototype.connect=function(){return this._activated=!0,this._connect()},A.prototype.disconnect=function(){if(!this._activated)return u.resolve(!1);this._activated=!1;var e=this.isConnected()?y.TRANSPORT_BEFORE_ONLINE_DISCONNECT:y.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,t=[];return this.emitSync(e,{awaitPromise:function(e){t.push(e)}}),u.all(t).then(this._disconnect.bind(this,!1))},A.prototype.forceDisconnect=function(){return this._activated?(this._activated=!1,this._disconnect(),u.resolve(!0)):u.resolve(!1)},A.prototype._authenticate=function(e){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken(e).catch((function(e){if(!e||e.code)return u.reject(e);var t=new m(_.TRANSPORT_TOKEN_PROVIDER_ERROR,e.message||"Token provider error.");return t.origin=t,u.reject(t)})).then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:2,baseTime:500,maxTime:15e3}).then(this._onAuthenticated).catch(this._onAuthenticationFailed)),this._authenticationPromise},A.prototype.authenticate=function(){return this._authenticate(!0)},A.prototype.request=function(e,t){var n=this._sendRequest.bind(this,e,t);return!(t&&t.allowOffline)&&!this._connectionObserver.isOnline||E.test(e)&&!(this._stateMask&S)?new u(function(e,t){this.once("connected",(function(){n().then(e,t)}))}.bind(this)):n()},A.prototype.matchMessages=function(e,t){if(!e)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(e)&&t(r)};n.__matchMessagesExp=e,t.__matchMessagesWrapper=n,this.on(y.INTERNAL_DEALER_MESSAGE,n)},A.prototype.unmatchMessages=function(e,t){if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=t.__matchMessagesWrapper;return n.__matchMessagesExp===e&&(this.removeListener(y.INTERNAL_DEALER_MESSAGE,n),!0)},A.prototype.handlePushRequests=function(e,t){if(!e)throw new TypeError('Dealer push request "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Dealer push request callback cannot be null.");var n=function(n){var r=n.data;r.message_ident&&r.message_ident.match(e)&&u.resolve(t(r)).then(n.reply)};n.__matchRequestExp=e,t.__matchRequestWrapper=n,this.on(y.INTERNAL_DEALER_REQUEST,n)},A.prototype.unhandlePushRequests=function(e,t){if("function"!=typeof t)throw new TypeError("Dealer push request callback cannot be null.");var n=t.__matchRequestWrapper;return n.__matchRequestWrapper===e&&(this.removeListener(y.INTERNAL_DEALER_REQUEST,n),!0)},A.prototype.toPublic=function(){return new c(this)},A.prototype.hasOwnerRef=function(e){return this._ownerRef===e},e.exports=A}).call(this,n("pCvA"))},AcsX:function(e,t,n){e.exports={h32:n("tbLD"),h64:n("d8/y")}},AqD5:function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=r.formatters[i];if("function"==typeof o){const r=e[s];n=o.call(t,r),e.splice(s,1),s--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=i,a.extend=o,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n("dTEH"),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},B3xF:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},BMKb:function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),r=_("%"+(n.length>0?n[0]:"")+"%",t),o=1;o<n.length;o+=1)if(null!=r)if(i&&o+1>=n.length){var a=i(r,n[o]);r=a?a.get||a.value:r[n[o]]}else r=r[n[o]];return r}},BdB7:function(e,t,n){"use strict";var r=n("IL7q"),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function b(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||v}function T(){}function S(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=b.prototype;var w=S.prototype=new T;w.constructor=S,r(w,b.prototype),w.isPureReactComponent=!0;var O={current:null},A={suspense:null},R={current:null},C=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!P.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:R.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,L=[];function D(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function x(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function U(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+M(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+M(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=m&&t[m]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+M(s,c++),r,i);else if("object"===s)throw r=""+t,g(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),U(e,j,t=D(t,o,r,i)),x(t)}function V(){var e=O.current;if(null===e)throw g(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;U(e,F,t=D(null,null,t,n)),x(t)},count:function(e){return U(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:b,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:_,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:d,unstable_SuspenseList:h,createElement:I,cloneElement:function(e,t,n){if(null==e)throw g(Error(267),e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=R.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)C.call(t,i)&&!P.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var p=0;p<i;p++)l[p]=arguments[p+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=I.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=A.suspense;A.suspense=void 0===t?null:t;try{e()}finally{A.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:R,IsSomeRendererActing:{current:!1},assign:r}},W={default:H},K=W&&H||W;e.exports=K.default||K},"C/jX":function(e,t,n){"use strict";e.exports=function(e){return{name:"KmInteraction",data:n("amWn")(e,{page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},target_uri:{type:"string",nullable:!0},item_id:{type:"string",nullable:!0},action_type:{type:"string",nullable:!0},action_intent:{type:"string",nullable:!0},sp_cid:{type:"string",nullable:!0}})}}},C6Re:function(e,t,n){var r;!function(n){var i={16:a(Math.pow(16,5)),10:a(Math.pow(10,5)),2:a(Math.pow(2,5))},o={16:a(16),10:a(10),2:a(2)};function a(e,t,n,r){return this instanceof a?(this.remainder=null,"string"==typeof e?c.call(this,e,t):void 0===t?u.call(this,e):void s.apply(this,arguments)):new a(e,t,n,r)}function s(e,t,n,r){return void 0===n?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16,this):(this._a00=0|e,this._a16=0|t,this._a32=0|n,this._a48=0|r,this)}function u(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function c(e,t){t=t||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=i[t]||new a(Math.pow(t,5)),r=0,o=e.length;r<o;r+=5){var s=Math.min(5,o-r),u=parseInt(e.slice(r,r+s),t);this.multiply(s<5?new a(Math.pow(t,s)):n).add(new a(u))}return this}a.prototype.fromBits=s,a.prototype.fromNumber=u,a.prototype.fromString=c,a.prototype.toNumber=function(){return 65536*this._a16+this._a00},a.prototype.toString=function(e){var t=o[e=e||10]||new a(e);if(!this.gt(t))return this.toNumber().toString(e);for(var n=this.clone(),r=new Array(64),i=63;i>=0&&(n.div(t),r[i]=n.remainder.toNumber().toString(e),n.gt(t));i--);return r[i-1]=n.toNumber().toString(e),r.join("")},a.prototype.add=function(e){var t=this._a00+e._a00,n=t>>>16,r=(n+=this._a16+e._a16)>>>16,i=(r+=this._a32+e._a32)>>>16;return i+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},a.prototype.subtract=function(e){return this.add(e.clone().negate())},a.prototype.multiply=function(e){var t=this._a00,n=this._a16,r=this._a32,i=this._a48,o=e._a00,a=e._a16,s=e._a32,u=t*o,c=u>>>16,l=(c+=t*a)>>>16;c&=65535,l+=(c+=n*o)>>>16;var p=(l+=t*s)>>>16;return l&=65535,p+=(l+=n*a)>>>16,l&=65535,p+=(l+=r*o)>>>16,p+=t*e._a48,p&=65535,p+=n*s,p&=65535,p+=r*a,p&=65535,p+=i*o,this._a00=65535&u,this._a16=65535&c,this._a32=65535&l,this._a48=65535&p,this},a.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=new a(0),this}if(e.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(e))return this.remainder=new a(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},a.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},a.prototype.equals=a.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},a.prototype.greaterThan=a.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},a.prototype.lessThan=a.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},a.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},a.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},a.prototype.xor=function(e){return this._a00^=e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},a.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},a.prototype.shiftRight=a.prototype.shiftr=function(e){return(e%=64)>=48?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):e>=32?(e-=32,this._a00=65535&(this._a32>>e|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):e>=16?(e-=16,this._a00=65535&(this._a16>>e|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},a.prototype.shiftLeft=a.prototype.shiftl=function(e,t){return(e%=64)>=48?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):e>=32?(e-=32,this._a48=this._a16<<e|this._a00>>16-e,this._a32=this._a00<<e&65535,this._a16=0,this._a00=0):e>=16?(e-=16,this._a48=this._a32<<e|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},a.prototype.rotateLeft=a.prototype.rotl=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.rotateRight=a.prototype.rotr=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>e|r<<32-e,o=r>>>e|n<<32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.clone=function(){return new a(this._a00,this._a16,this._a32,this._a48)},void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},CTrm:function(e,t,n){"use strict";function r(e,t,n){Error.call(this),this.message=t,this.code=e,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="RequestError",e.exports=r},Cyw9:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[B]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[j]||!!e.constructor[j]||p(e)||f(e))}function a(e,t){0===s(e)?V(e).forEach((function(n){return t(n,e[n],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[B];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:f(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return x&&e instanceof Map}function f(e){return U&&e instanceof Set}function d(e){return e.o||e.t}function h(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return a(e,(function(i){if(i!==B){var o=Object.getOwnPropertyDescriptor(e,i),a=o.value;o.get&&(t||r(1),a=o.get.call(e)),o.enumerable?n[i]=a:Object.defineProperty(n,i,{value:a,writable:!0,configurable:!0})}})),n}function y(e,t){i(e)||Object.isFrozen(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=_),Object.freeze(e),t&&a(e,(function(e,t){return y(t,!0)})))}function _(){r(2)}function m(e){var t=H[e];return t||r(19,e),t}function g(){return L}function v(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){b(e),e.p.forEach(S),e.p=null}function b(e){e===L&&(L=e.l)}function T(e){return L={p:[],l:L,h:e,m:!0,_:0}}function S(e){var t=e[B];0===t.i||1===t.i?t.j():t.O=!0}function w(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||m("ES5").S(t,e,i),i?(n[B].P&&(E(t),r(4)),o(e)&&(e=O(t,e),t.l||R(t,e)),t.u&&m("Patches").M(n[B],e,t.u,t.s)):e=O(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==F?e:void 0}function O(e,t,n){if(Object.isFrozen(t))return t;var r=t[B];if(!r)return a(t,(function(i,o){return A(e,r,t,i,o,n)})),t;if(r.A!==e)return t;if(!r.P)return R(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=h(r.k,!0):r.o;a(i,(function(t,o){return A(e,r,i,t,o,n)})),R(e,i,!1),n&&e.u&&m("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,a,p){if(i(a)){var f=O(e,a,p&&t&&3!==t.i&&!u(t.D,r)?p.concat(r):void 0);if(h=r,y=f,2===(_=s(d=n))?d.set(h,y):3===_?(d.delete(h),d.add(y)):d[h]=y,!i(f))return;e.m=!1}var d,h,y,_;if((!t||!l(a,c(t.t,r)))&&o(a)){if(!e.h.N&&e._<1)return;O(e,a),t&&t.A.l||R(e,a)}}function R(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&y(t,n)}function C(e,t){var n=e[B],r=Reflect.getOwnPropertyDescriptor(n?d(n):e,t);return r&&r.value}function P(e){if(!e.P){if(e.P=!0,0===e.i||1===e.i){var t=e.o=h(e.t);a(e.p,(function(e,n){t[e]=n})),e.p=void 0}e.l&&P(e.l)}}function I(e){e.o||(e.o=h(e.t))}function N(e,t,n){var r=p(t)?m("MapSet").T(t,n):f(t)?m("MapSet").F(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:g(),P:!1,I:!1,D:{},l:t,t:e,k:null,p:{},o:null,j:null,C:!1},i=r,o=W;n&&(i=[r],o=K);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):m("ES5").J(t,n);return(n?n.A:g()).p.push(r),r}n.d(t,"b",(function(){return Y}));var k,L,D="undefined"!=typeof Symbol,x="undefined"!=typeof Map,U="undefined"!=typeof Set,M="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,F=D?Symbol("immer-nothing"):((k={})["immer-nothing"]=!0,k),j=D?Symbol("immer-draftable"):"__$immer_draftable",B=D?Symbol("immer-state"):"__$immer_state",V=(D&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),H={},W={get:function(e,t){if(t===B)return e;var n=e.p;if(!e.P&&u(n,t))return n[t];var r=d(e)[t];if(e.I||!o(r))return r;if(e.P){if(r!==C(e.t,t))return r;n=e.o}return n[t]=N(e.A.h,r,e)},has:function(e,t){return t in d(e)},ownKeys:function(e){return Reflect.ownKeys(d(e))},set:function(e,t,n){if(!e.P){var r=C(e.t,t);if(n?l(r,n)||n===e.p[t]:l(r,n)&&t in e.t)return!0;I(e),P(e)}return e.D[t]=!0,e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,I(e),P(e)):e.D[t]&&delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=d(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&(r.writable=!0,r.configurable=1!==e.i||"length"!==t),r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},K={};a(W,(function(e,t){K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return W.deleteProperty.call(this,e[0],t)},K.set=function(e,t,n){return W.set.call(this,e[0],t,n,e[0])};var G=new(function(){function e(e){this.g=M,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var s;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(e)){var u=T(this),c=N(this,e,void 0),l=!0;try{s=t(c),l=!1}finally{l?E(u):b(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return v(u,n),w(e,u)}),(function(e){throw E(u),e})):(v(u,n),w(s,u))}if((s=t(e))!==F)return void 0===s&&(s=e),this.N&&y(s,!0),s},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){o(e)||r(8);var t=T(this),n=N(this,e,void 0);return n[B].C=!0,b(t),n},t.finishDraft=function(e,t){var n=(e&&e[B]).A;return v(n,t),w(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){M||r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=m("Patches").U;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),Y=G.produce;G.produceWithPatches.bind(G),G.setAutoFreeze.bind(G),G.setUseProxies.bind(G),G.applyPatches.bind(G),G.createDraft.bind(G),G.finishDraft.bind(G);t.a=Y},D5Cn:function(e,t,n){"use strict";(function(t){var r=n("REJ4");function i(e){var t=Math.pow(2,31),n=Math.floor(e||Math.random()*(t-1));this._max=t,this._nextInt=function(){return n=(1103515245*n+12345)%t}}function o(){this._index=0,this._items=[]}function a(e,t){this.buf=e,this.pos=0|t}function s(e,t){for(;t--;)e[t]=~e[t]}i.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},i.prototype.nextInt=function(e,t){return void 0===t&&(t=e,e=0),t=void 0===t?this._max:t,e+Math.floor(this.nextFloat()*(t-e))},i.prototype.nextFloat=function(e,t){return void 0===t&&(t=e,e=0),e+((t=void 0===t?1:t)-e)*this._nextInt()/this._max},i.prototype.nextString=function(e,t){e|=0;var n="";(t=t||"aA").indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("#")>-1&&(n+="0123456789"),t.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var r=[],i=0;i<e;i++)r.push(this.choice(n));return r.join("")},i.prototype.nextBuffer=function(e){var n,r=[];for(n=0;n<e;n++)r.push(this.nextInt(256));return new t(r)},i.prototype.choice=function(e){var t=e.length;if(!t)throw new Error("choosing from empty array");return e[this.nextInt(t)]},o.prototype.push=function(e){var t,n=this._items,r=0|n.length;for(n.push(e);r>0&&n[r].index<n[t=r-1>>1].index;)e=n[r],n[r]=n[t],n[t]=e,r=t},o.prototype.pop=function(){var e=this._items,t=e.length-1|0,n=e[0];if(!n||n.index>this._index)return null;if(this._index++,!t)return e.pop(),n;e[0]=e.pop();for(var r,i,o,a,s,u,c,l=t>>1,p=0;p<l&&(a=e[p],i=p+1<<1,u=e[r=1+(p<<1)],!(c=e[i])||u.index<=c.index?(s=u,o=r):(s=c,o=i),!(s.index>=a.index));)e[o]=a,e[p]=s,p=o;return n},a.prototype.isValid=function(){return this.pos<=this.buf.length},a.prototype.getValue=function(){return this.buf.slice(0,this.pos)},a.prototype.readBoolean=function(){return!!this.buf[this.pos++]},a.prototype.skipBoolean=function(){this.pos++},a.prototype.writeBoolean=function(e){this.buf[this.pos++]=!!e},a.prototype.readInt=a.prototype.readLong=function(){var e,t,n,r,i=0,o=0,a=this.buf;do{t=128&(e=a[this.pos++]),i|=(127&e)<<o,o+=7}while(t&&o<28);if(t){n=i,r=268435456;do{n+=(127&(e=a[this.pos++]))*r,r*=128}while(128&e);return(n%2?-(n+1):n)/2}return i>>1^-(1&i)},a.prototype.skipInt=a.prototype.skipLong=function(){for(var e=this.buf;128&e[this.pos++];);},a.prototype.writeInt=a.prototype.writeLong=function(e){var t,n,r=this.buf;if(e>=-1073741824&&e<1073741824){n=e>=0?e<<1:~e<<1|1;do{r[this.pos]=127&n,n>>=7}while(n&&(r[this.pos++]|=128))}else{t=e>=0?2*e:2*-e-1;do{r[this.pos]=127&t,t/=128}while(t>=1&&(r[this.pos++]|=128))}this.pos++},a.prototype.readFloat=function(){var e=this.buf,t=this.pos;if(this.pos+=4,!(this.pos>e.length))return this.buf.readFloatLE(t)},a.prototype.skipFloat=function(){this.pos+=4},a.prototype.writeFloat=function(e){var t=this.buf,n=this.pos;if(this.pos+=4,!(this.pos>t.length))return this.buf.writeFloatLE(e,n)},a.prototype.readDouble=function(){var e=this.buf,t=this.pos;if(this.pos+=8,!(this.pos>e.length))return this.buf.readDoubleLE(t)},a.prototype.skipDouble=function(){this.pos+=8},a.prototype.writeDouble=function(e){var t=this.buf,n=this.pos;if(this.pos+=8,!(this.pos>t.length))return this.buf.writeDoubleLE(e,n)},a.prototype.readFixed=function(e){var n=this.pos;if(this.pos+=e,!(this.pos>this.buf.length)){var r=new t(e);return this.buf.copy(r,0,n,n+e),r}},a.prototype.skipFixed=function(e){this.pos+=e},a.prototype.writeFixed=function(e,t){t=t||e.length;var n=this.pos;this.pos+=t,this.pos>this.buf.length||e.copy(this.buf,n,0,t)},a.prototype.readBytes=function(){return this.readFixed(this.readLong())},a.prototype.skipBytes=function(){var e=this.readLong();this.pos+=e},a.prototype.writeBytes=function(e){var t=e.length;this.writeLong(t),this.writeFixed(e,t)},a.prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.utf8Slice(t,t+e)},a.prototype.skipString=function(){var e=this.readLong();this.pos+=e},a.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.utf8Write(e,r,n)},a.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.write(e,n,t,"binary")},a.prototype.matchBoolean=function(e){return this.buf[this.pos++]-e.buf[e.pos++]},a.prototype.matchInt=a.prototype.matchLong=function(e){var t=this.readLong(),n=e.readLong();return t===n?0:t<n?-1:1},a.prototype.matchFloat=function(e){var t=this.readFloat(),n=e.readFloat();return t===n?0:t<n?-1:1},a.prototype.matchDouble=function(e){var t=this.readDouble(),n=e.readDouble();return t===n?0:t<n?-1:1},a.prototype.matchFixed=function(e,t){return this.readFixed(t).compare(e.readFixed(t))},a.prototype.matchBytes=a.prototype.matchString=function(e){var t=this.readLong(),n=this.pos;this.pos+=t;var r=e.readLong(),i=e.pos;e.pos+=r;var o=this.buf.slice(n,this.pos),a=e.buf.slice(i,e.pos);return o.compare(a)},a.prototype.unpackLongBytes=function(){var e,n,r=new t(8),i=0,o=0,a=6,u=this.buf;for(n=1&(e=u[this.pos++]),r.fill(0),i|=(127&e)>>1;128&e;)i|=(127&(e=u[this.pos++]))<<a,(a+=7)>=8&&(a-=8,r[o++]=i,i>>=8);return r[o]=i,n&&s(r,8),r},a.prototype.packLongBytes=function(e){var t,n=(128&e[7])>>7,r=this.buf,i=1,o=0,a=3;n?(s(e,8),t=1):t=0;for(var u=[e.readUIntLE(0,3),e.readUIntLE(3,3),e.readUIntLE(6,2)];a&&!u[--a];);for(;o<a;)for(t|=u[o++]<<i,i+=24;i>7;)r[this.pos++]=127&t|128,t>>=7,i-=7;t|=u[a]<<i;do{r[this.pos]=127&t,t>>=7}while(t&&(r[this.pos++]|=128));this.pos++,n&&s(e,8)},e.exports={abstractFunction:function(){throw new Error("abstract")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},compare:function(e,t){return e===t?0:e<t?-1:1},getHash:function(e,t){t=t||"md5";var n=r.createHash(t);return n.end(e),n.read()},toMap:function(e,t){var n,r,i={};for(n=0;n<e.length;n++)i[t(r=e[n])]=r;return i},singleIndexOf:function(e,t){var n,r,i=-1;if(!e)return-1;for(n=0,r=e.length;n<r;n++)if(e[n]===t){if(i>=0)return-2;i=n}return i},hasDuplicates:function(e,t){var n,r,i,o={};for(n=0,r=e.length;n<r;n++){if(i=e[n],t&&(i=t(i)),o[i])return!0;o[i]=!0}return!1},Lcg:i,OrderedQueue:o,Tap:a}}).call(this,n("qykS").Buffer)},DBfd:function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},DCgI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}},DmXP:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},DoeT:function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},DvJn:function(e,t,n){"use strict";var r=n("31Tc"),i=n("gvM+"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?i(n):n}},E02R:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},E6BA:function(e,t,n){"use strict";var r=n("GrTZ");e.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},E6vx:function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return y}))},EFBM:function(e,t,n){"use strict";var r=n("PCPI");function i(){this.reset()}i.create=function(){return new i},i.prototype.reset=function(){this._sequenceId=r.generateBase64(16),this._sequenceNumbers={}},i.prototype.getSequenceId=function(){return this._sequenceId},i.prototype.nextSequenceNumber=function(e){return this._sequenceNumbers[e]||(this._sequenceNumbers[e]=0),++this._sequenceNumbers[e]},e.exports=i},EiP0:function(e,t,n){"use strict";function r(e){this._headers={},this._init(e)}r.prototype._init=function(e){if(e)for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(": ");if(i>0){var o=r.substring(0,i).toLowerCase(),a=r.substring(i+2);this._headers[o]=a}}},r.prototype.get=function(e){return this._headers[e.toLowerCase()]||null},r.prototype.has=function(e){return this._headers.hasOwnProperty(e.toLowerCase())},e.exports=r},EwJK:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},F53H:function(e,t,n){"use strict";var r,i="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;i||(r=function(e){return!1});var a=i?Map.prototype.has:null,s=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e),s)try{s.call(e)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},FBOD:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));const r=(e=-1)=>({value:e,delta:0,entries:[],isFinal:!1}),i=(e,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(e){}};let o=!1;addEventListener("pagehide",({persisted:e})=>o=!e),addEventListener("unload",()=>{});const a=(e,t=!1)=>{addEventListener("visibilitychange",({timeStamp:t})=>{"hidden"===document.visibilityState&&e({timeStamp:t,isUnloading:o})},{capture:!0,once:t})},s=(e,t,n,r)=>{let i;return()=>{n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal)&&(e(t),i=t.value))}};let u="hidden"===document.visibilityState?0:1/0;a(({timeStamp:e})=>u=e,!0);const c=()=>u,l=new Promise(e=>["scroll","keydown","pointerdown"].map(t=>{addEventListener(t,e,{once:!0,passive:!0,capture:!0})})),p=(e,t=!1)=>{const n=r(),o=e=>{const t=e.startTime;c()<t?n.isFinal=!0:(n.value=t,n.entries.push(e)),p()},u=i("largest-contentful-paint",o),p=s(e,n,u,t),f=()=>{n.isFinal||(u&&u.takeRecords().map(o),n.isFinal=!0,p())};l.then(f),a(f,!0)}},FIWN:function(e,t,n){"use strict";var r=function(){};e.exports=r},FaXh:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*y}},Fcif:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},Fqzz:function(e,t,n){"use strict";var r=n("mONU");e.exports=function(){return{name:"context_sdk",data:{version_name:r.version}}}},Ftws:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HNpk");class i extends Error{constructor(e=r.a.DEALER_ERROR,t,n={}){super(t),this.name="DealerError",this.message=t,this.code=e,this.raw=n,this.wsCode=n.code||null,this.wsReason=n.reason||null}}},"G+CI":function(e,t,n){"use strict";var r=n("ZQMo"),i=n("rH2d"),o=n("lMEP"),a=n("XIsM"),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},GLmc:function(e,t,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},GeWT:function(e,t,n){"use strict";var r=n("xVO4"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=d(n);i&&i!==h&&e(t,i,r)}var a=l(n);p&&(a=a.concat(p(n)));for(var s=u(t),y=u(n),_=0;_<a.length;++_){var m=a[_];if(!(o[m]||r&&r[m]||y&&y[m]||s&&s[m])){var g=f(n,m);try{c(t,m,g)}catch(e){}}}return t}return t}},Gm6p:function(e,t,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("P1TA"),a=n("1Wwy"),s=n("6w3l");function u(e){i.call(this),this.request=e.request.bind(e),this.getConnectionId=e.getConnectionId.bind(e),this.getEndpoints=e.getEndpoints.bind(e),this.getInitTime=e.getInitTime.bind(e),this.getLastToken=e.getLastToken.bind(e),this.matchMessages=e.matchMessages.bind(e),this.handlePushRequests=e.handlePushRequests.bind(e),this.proxyEmit(e,o.TRANSPORT_ACCESS_TOKEN,this.EVENT_ACCESS_TOKEN),this.proxyEmit(e,o.TRANSPORT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_OFFLINE),this.proxyEmit(e,o.TRANSPORT_CONNECTION_ONLINE,this.EVENT_CONNECTION_ONLINE),this.proxyEmit(e,o.TRANSPORT_ENDPOINTS_RESOLVED,this.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(this.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,this.on.bind(e))),this.onRemoveListener(this.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,this.removeListener.bind(e)))}r(u,i),u.prototype.EVENT_ACCESS_TOKEN="access_token",u.prototype.EVENT_CONNECTION_ID="connection_id",u.prototype.EVENT_CONNECTION_OFFLINE="connection_offline",u.prototype.EVENT_CONNECTION_ONLINE="connection_online",u.prototype.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved",u.prototype.StatusCode=a,u.prototype.StatusFamily=s,u.prototype._onAddConnectionIdListener=function(e,t){t.preventDefault();var n=this.EVENT_CONNECTION_ID,r=t.listener,a=function(e){r.call(this,i.createEvent(n,e))}.bind(this);r.$proxy_wrapper=a,e(o.TRANSPORT_CONNECTION_ID,a,t.options)},u.prototype._onRemoveConnectionIdListener=function(e,t){t.preventDefault(),t.listener.$proxy_wrapper&&e(o.TRANSPORT_CONNECTION_ID,t.listener.$proxy_wrapper,t.options)},e.exports=u},GrTZ:function(e,t,n){"use strict";(function(t){var n,r=function(){};n=function(e){return t.Proxy&&"function"!=typeof t.Proxy.create&&"function"==typeof t.Proxy?new t.Proxy(e,{get:function(e,t){if(!e.hasOwnProperty(t))throw new ReferenceError("Unknown enum value "+t);return e[t]},set:r,delete:r}):e},e.exports=n}).call(this,n("pCvA"))},Gstq:function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&void 0},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e="true");return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("AqD5")(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n("5IsQ"))},H2G3:function(e,t,n){"use strict";var r=n("asuC"),i=n("Lc1h"),o=n("EiP0"),a=n("CTrm"),s=n("1Wwy"),u=n("pPJX"),c=function(){},l={POST:!0,PUT:!0,DELETE:!0},p={json:!0,text:!0,document:!0},f={},d=r.resolve(f);function h(e,t){var n=t||{};this._url=e,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._canceller=n.canceller||r.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._withCredentials="include"===n.credentials,this._forcePolyfill=n.forcePolyfill,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._xhr=new XMLHttpRequest,this._abort=this._abort.bind(this)}h.request=function(e,t){return new h(e,t).send()},h.prototype._abort=function(){this._xhr&&(this._xhr.abort(),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,this._xhr=null)},h.prototype._handleStateChanged=function(e,t,n){this._xhr&&4===this._xhr.readyState&&(this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onreadystatechange=null,r.race([this._canceller,d]).then(function(r){if(r===f&&this._xhr){var a=this._xhr;if(a){var u=a.status,c=new i(a.responseURL||e,u);if(c.body=null,n&&n.isOnline&&(c.offline=!n.isOnline()),(this._parseResponseHeaders||u>299)&&(c.headers=new o(a.getAllResponseHeaders())),!this._ignoreResponseBody&&u!==s.NO_CONTENT&&2===c.getStatusFamily()){var l=this._responseType;if(!this._forcePolyfill&&"response"in a&&l===a.responseType)c.body=a.response;else if("document"===l)c.body=a.responseXML;else if("json"===l)try{c.body=JSON.parse(a.responseText)}catch(e){c.body=null}else"text"!==l&&""!==l||(c.body=a.responseText)}c.timing=this._timing,t.resolve(c),this._xhr=null}}}.bind(this)).catch((function(){})))},h.prototype.send=function(){return r.race([this._canceller,d]).then(function(e){var t=r.defer();if(e!==f)return t.promise;var n=this._url;if(!n)return t.reject(new TypeError("Request URL cannot be blank.")),t.promise;var i=null,o=this._payload,s=this._method;s in l&&o?i=o:o&&(n+="?"+o);var d=this._xhr;if(!d)return t.reject(new Error("Request has been closed.")),t.promise;d.open(s,n,!0),d.onprogress=c,d.onerror=function(){t.reject(new a(u.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status)),this.onerror=c},d.onreadystatechange=this._handleStateChanged.bind(this,n,t);var h=this._responseType;if(h)if(this._forcePolyfill){if(!(h in p))return t.reject(new TypeError('Cannot polyfill responseType "'+h+'"')),t.promise}else{if(!("responseType"in d||h in p))return t.reject(new TypeError("Cannot set responseType: not supported in browser.")),t.promise;if(d.responseType=h,h!==this._xhr.responseType&&!(h in p))return t.reject(new TypeError('Unknown responseType "'+h+'".')),t.promise}var y=this._headers;if(y)for(var _ in y)if(y.hasOwnProperty(_))try{d.setRequestHeader(_,y[_])}catch(e){return t.reject(e),t.promise}try{this._requestStartTime=Date.now(),d.send(i)}catch(e){t.reject(e)}return this._canceller.then(this._abort,this._abort),t.promise}.bind(this))},e.exports=h},H96c:function(e,t,n){t.UINT32=n("sQ5Y"),t.UINT64=n("C6Re")},HH6Z:function(e,t,n){"use strict";var r=n("ZQMo").supportsDescriptors,i=n("V+xs"),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(c),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},HNpk:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.DEALER_CONNECTION_ERROR="DEALER_CONNECTION_ERROR",e.DEALER_AUTHENTICATION_FAILED="DEALER_AUTHENTICATION_FAILED",e.DEALER_ERROR="DEALER_ERROR",e.ENDPOINT_NOT_DEFINED="ENDPOINT_NOT_DEFINED",e.INVALID_ENDPOINT="INVALID_ENDPOINT"}(r||(r={}))},Hbaf:function(e,t,n){"use strict";(function(t){var r=n("nL8o");e.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof t[e]}))}}).call(this,n("pCvA"))},HhP1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("3ZRO"),i=Object(r.f)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},Hsbu:function(e,t,n){"use strict";e.exports=function(e){return{name:"KmInteractionNonAuth",data:n("amWn")(e,{page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},target_uri:{type:"string",nullable:!0},item_id:{type:"string",nullable:!0},action_type:{type:"string",nullable:!0},action_intent:{type:"string",nullable:!0}})}}},IL7q:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var p=0;p<s.length;p++)o.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},IQWk:function(e,t,n){"use strict";e.exports=function(e){this.get=e.get.bind(e),this.has=e.has.bind(e)}},JHUG:function(e,t,n){"use strict";var r=n("rrCd"),i=n("asuC"),o=n("uDox").forTag("Logh.Uploader");function a(e){var t=e||{};this._transport=t.transport,this._enableDebugInfo=t.enableDebugInfo||!1,this._suppressPersist=t.suppressPersist||!1,this._backoff=!1}a.create=function(e){return new a(e)},a.prototype.upload=function(e,t){var n=t||[];if(!e.length)return i.resolve({nack:n,backoff:this._backoff});var r=e.slice(0);return this._uploadBatch(r.splice(0,20)).then(function(e){if(n=n.concat(e),this._backoff)n=n.concat(r);else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}}.bind(this))},a.prototype.lastUpload=function(e){return e.length?this._uploadBatch(e.splice(0,100)).then((function(){return!0})):i.resolve(!0)},a.prototype._uploadBatch=function(e){var t=this._transport.isAuthenticated(),n=t?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events";return this._transport.request(n,{method:r.POST,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:e}),headers:{"content-type":"application/json"},responseType:"json",authorize:t,withResponseHeaders:!0}).then(function(t){if(200!==t.status)return o.warn("Received error status",t),this._backoff=!0,e;var n=t.body,r=t.headers,i=[];if(n.error&&n.error.length){this._enableDebugInfo&&o.info("response errors",e,n.error);for(var a=0,s=n.error.length;a<s;a++)n.error[a].transient&&i.push(e[n.error[a].index])}return this._backoff=!(!r||"true"!==r.get("backoff")),i}.bind(this))},a.prototype.shouldBackoff=function(){return this._backoff},e.exports=a},JPSn:function(e,t,n){"use strict";e.exports=function(e){return{name:"context_application",data:n("amWn")(e,{version:{type:"string",nullable:!0}})}}},JzJP:function(e,t,n){"use strict";var r=n("6xt7"),i=n("asuC"),o=n("uDox").forTag("Logh.Uploader");function a(e){var t=e||{};this._transport=t.transport,this._enableDebugInfo=t.enableDebugInfo||!1,this._suppressPersist=t.suppressPersist||!1,this._backoff=!1}a.create=function(e){return new a(e)},a.prototype.upload=function(e,t){var n=t||[];if(!e.length)return i.resolve({nack:n,backoff:this._backoff});var r=e.slice(0);return this._uploadBatch(r.splice(0,20)).then(function(e){if(n=n.concat(e),this._backoff)n=n.concat(r);else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}}.bind(this))},a.prototype.lastUpload=function(e){return e.length?this._uploadBatch(e.splice(0,100)).then((function(){return!0})):i.resolve(!0)},a.prototype._uploadBatch=function(e){var t=this._transport.isAuthenticated(),n=t?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events";return this._transport.request(n,{method:r.POST,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:e}),headers:{"content-type":"application/json"},responseType:"json",authorize:t,withResponseHeaders:!0}).then(function(t){if(200!==t.status)return o.warn("Received error status",t),this._backoff=!0,e;var n=t.body,r=t.headers,i=[];if(n.error&&n.error.length){this._enableDebugInfo&&o.info("response errors",e,n.error);for(var a=0,s=n.error.length;a<s;a++)n.error[a].transient&&i.push(e[n.error[a].index])}return this._backoff=!(!r||"true"!==r.get("backoff")),i}.bind(this))},a.prototype.shouldBackoff=function(){return this._backoff},e.exports=a},"K/xo":function(e,t,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},KF7U:function(e,t,n){"use strict";var r=n("RB/r");e.exports=function(){return{name:"context_sdk",data:{version_name:r.version}}}},KPDA:function(e,t,n){"use strict";var r=n("ZjB5");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},KPiH:function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},KUYf:function(e,t,n){"use strict";var r=n("asuC"),i=n("M3UQ"),o=n("pPJX"),a=n("H2G3"),s="dealer",u="spclient";e.exports=function(e){var t=e||{},n={dealer:s,webgate:u};t.dealer&&(n.dealer=t.dealer),t.webgate&&(n.webgate=t.webgate);var c=["?","type=",n.dealer,"&","type=",n.webgate].join("");return function(e){return(e||a).request("https://apresolve.spotify.com/"+c,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:5,condition:function(e,t){return e.getStatusFamily()!==t.SUCCESS}}}).then((function(e){if(200!==e.status)return r.reject(new i(o.XRESOLVE_REQUEST_FAILED_WITH_STATUS,"XResolve responded with status "+e.status,e.status));var t=e.body;if(!t)return r.reject(new i(o.XRESOLVE_INVALID_RESPONSE,"XResolve responded with an empty or invalid body.",e.status));var a={dealer:t[n.dealer]&&t[n.dealer][0],webgate:t[n.webgate]&&t[n.webgate][0],webapi:"https://api.spotify.com/"};return a.dealer&&a.webgate?a:r.reject(new i(o.XRESOLVE_INCOMPLETE_RESPONSE,"Xresolve responded with incomplete results.",e.status))})).then((function(e){return e.dealer="wss://"+e.dealer.replace(/:443$/,""),e.webgate="https://"+e.webgate.replace(/:443$/,""),e}))}}},Khql:function(e,t,n){"use strict";var r=n("6ayh"),i=n("RLeF"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?i(n):n}},Kk3y:function(e,t){var n=t.aquamarine="#9bf0e1",r=t.aubergine="#503750",i=t.azure="#509bf5",o=t.bole="#c87d55",a=t.brightRed="#e61e32",s=t.chocolate="#7d4b32",u=t.citric="#cdf564",c=t.electricSeafoam="#19e68c",l=t.factoryYellow="#fae62d",p=t.forest="#006450",f=t.fuchsia="#dc148c",d=t.gold="#f59b23",h=t.kleinBlue="#4100f5",y=t.lavender="#b49bc8",_=t.maroon="#8c1932",m=t.midnight="#1e3264",g=t.neonGreen="#5ff550",v=t.orange="#ff6437",E=t.pink="#ffcdd2",b=t.powderGreen="#c3f0c8",T=t.royalBlue="#2d46b9",S=t.salmon="#f573a0",w=t.spearmint="#27856a",O=t.storm="#a0c3d2",A=t.sunflower="#ffc864",R=t.tan="#c39687",C=t.tangerine="#e3230e",P=t.violet="#af2896",I=t.success="#1db954",N=t.announcement="#2e77d0",k=t.info="#eeeeee",L=t.warning="#ff5722",D=t.failure="#e22134",x=t.gray7="#121212",U=t.gray10="#181818",M=t.gray15="#282828",F=t.gray20="#333333",j=t.gray30="#535353",B=t.gray50="#7f7f7f",V=t.gray70="#b3b3b3",H=t.gray80="#cccccc",W=t.gray85="#d9d9d9",K=t.gray90="#eeeeee",G=t.gray95="#f8f8f8",Y=t.gray25="#404040",q=t.gray40="#616161",z=t.gray45="#757575",X=t.gray60="#9e9e9e",$=t.gray75="#bdbdbd",Q=t.black0="rgba(0, 0, 0, 0)",J=t.black10="rgba(0, 0, 0, 0.1)",Z=t.black30="rgba(0, 0, 0, 0.3)",ee=t.black50="rgba(0, 0, 0, 0.5)",te=t.black60="rgba(0, 0, 0, 0.6)",ne=t.black70="rgba(0, 0, 0, 0.7)",re=t.black90="rgba(0, 0, 0, 0.9)",ie=t.white0="rgba(255, 255, 255, 0)",oe=t.white10="rgba(255, 255, 255, 0.1)",ae=t.white30="rgba(255, 255, 255, 0.3)",se=t.white50="rgba(255, 255, 255, 0.5)",ue=t.white60="rgba(255, 255, 255, 0.6)",ce=t.white70="rgba(255, 255, 255, 0.7)",le=t.white90="rgba(255, 255, 255, 0.9)",pe=t.black20="rgba(0, 0, 0, 0.2)",fe=t.black40="rgba(0, 0, 0, 0.4)",de=t.white5="rgba(255, 255, 255, 0.05)",he=t.white20="rgba(255, 255, 255, 0.2)",ye=t.white40="rgba(255, 255, 255, 0.4)",_e=t.green="#1db954",me=t.greenLight="#1ed760",ge=t.greenFocus="#1da64d",ve=t.greenDark="#14833b",Ee=t.black="#000000",be=t.white="#ffffff",Te=t.red="#cd1a2b",Se=t.redLight="#e22134",we=t.redDark="#941320",Oe=t.blue="#2e77d0",Ae=t.blueLight="#4687d6",Re=t.blueFacebook="#3a5897",Ce=t.blueDark="#1d4c85",Pe=t.orangeLight="#ff5722",Ie=t.spotifyGreen="#1db954",Ne=t.spotifyGreenHighlight="#1ed760",ke=t.spotifyGreenFocus="#1da64d",Le=t.spotifyGreenActive="#14833b",De=t.circularSpotifyUiArabicOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Black.woff",xe=t.circularSpotifyUiArabicOnlyBlackWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Black.woff2",Ue=t.circularSpotifyUiArabicOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Bold.woff",Me=t.circularSpotifyUiArabicOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Bold.woff2",Fe=t.circularSpotifyUiArabicOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Book.woff",je=t.circularSpotifyUiArabicOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Book.woff2",Be=t.circularSpotifyUiCyrillicOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Black.woff",Ve=t.circularSpotifyUiCyrillicOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Bold.woff",He=t.circularSpotifyUiCyrillicOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Bold.woff2",We=t.circularSpotifyUiCyrillicOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Book.woff",Ke=t.circularSpotifyUiCyrillicOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Book.woff2",Ge=t.circularSpotifyUiHebrewOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Black.woff",Ye=t.circularSpotifyUiHebrewOnlyBlackWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Black.woff2",qe=t.circularSpotifyUiHebrewOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Bold.woff",ze=t.circularSpotifyUiHebrewOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Bold.woff2",Xe=t.circularSpotifyUiHebrewOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Book.woff",$e=t.circularSpotifyUiHebrewOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Book.woff2",Qe=t.circularSpotifyUiLatinTallBlackOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Black.otf",Je=t.circularSpotifyUiLatinTallBoldOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Bold.otf",Ze=t.circularSpotifyUiLatinTallBookOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Book.otf",et=t.opacity0="0",tt=t.opacity10="0.1",nt=t.opacity30="0.3",rt=t.opacity50="0.5",it=t.opacity70="0.7",ot=t.opacity90="0.9",at=t.spacer4="4px",st=t.spacer8="8px",ut=t.spacer12="12px",ct=t.spacer16="16px",lt=t.spacer20="20px",pt=t.spacer24="24px",ft=t.spacer32="32px",dt=t.spacer40="40px",ht=t.spacer48="48px",yt=t.spacer56="56px",_t=t.spacer64="64px",mt=t.spacer72="72px",gt=t.spacer80="80px",vt=t.screenXxsMax="479px",Et=t.screenXsMin="480px",bt=t.screenXsMax="767px",Tt=t.screenSmMin="768px",St=t.screenSmMax="991px",wt=t.screenMdMin="992px",Ot=t.screenMdMax="1199px",At=t.screenLgMin="1200px",Rt=t.screenLgMax="1919px",Ct=t.screenXlMin="1920px",Pt=t.screenXs="480px",It=t.screenSm="768px",Nt=t.screenMd="992px",kt=t.screenLg="1200px",Lt=t.screenXl="1920px",Dt=t.body1Font="Circular",xt=t.body1FontSize="16px",Ut=t.body1FontWeight="400",Mt=t.body1LineHeight="24px",Ft=t.body1LetterSpacing="0px",jt=t.body2Font="Circular",Bt=t.body2FontSize="14px",Vt=t.body2FontWeight="400",Ht=t.body2LineHeight="20px",Wt=t.body2LetterSpacing="0.25px",Kt=t.body3Font="Circular",Gt=t.body3FontSize="12px",Yt=t.body3FontWeight="400",qt=t.body3LineHeight="16px",zt=t.body3LetterSpacing="0.25px",Xt=t.body4Font="Circular",$t=t.body4FontSize="10px",Qt=t.body4FontWeight="400",Jt=t.body4LineHeight="16px",Zt=t.body4LetterSpacing="0.25px",en=t.cta1Font="Circular",tn=t.cta1FontSize="16px",nn=t.cta1FontWeight="700",rn=t.cta1LineHeight="16px",on=t.cta1LetterSpacing="2px",an=t.cta1Uppercase="uppercase",sn=t.cta2Font="Circular",un=t.cta2FontSize="14px",cn=t.cta2FontWeight="700",ln=t.cta2LineHeight="16px",pn=t.cta2LetterSpacing="1px",fn=t.cta2Uppercase="uppercase",dn=t.cta3Font="Circular",hn=t.cta3FontSize="12px",yn=t.cta3FontWeight="700",_n=t.cta3LineHeight="16px",mn=t.cta3LetterSpacing="1px",gn=t.cta3Uppercase="uppercase",vn=t.cta4Font="Circular",En=t.cta4FontSize="10px",bn=t.cta4FontWeight="700",Tn=t.cta4LineHeight="16px",Sn=t.cta4LetterSpacing="1px",wn=t.cta4Uppercase="uppercase",On=t.display1Font="Circular",An=t.display1FontSize="96px",Rn=t.display1FontWeight="900",Cn=t.display1LetterSpacing="-2px",Pn=t.display1LineHeight="104px",In=t.display1PaddingBottom="0.67em",Nn=t.display1FontSmall="Circular",kn=t.display1FontSizeSmall="80px",Ln=t.display1FontWeightSmall="900",Dn=t.display1LetterSpacingSmall="-2px",xn=t.display1LineHeightSmall="88px",Un=t.display1PaddingBottomSmall="0.67em",Mn=t.display1FontXSmall="Circular",Fn=t.display1FontSizeXSmall="56px",jn=t.display1FontWeightXSmall="900",Bn=t.display1LetterSpacingXSmall="-1.75px",Vn=t.display1LineHeightXSmall="64px",Hn=t.display1PaddingBottomXSmall="0.67em",Wn=t.display2Font="Circular",Kn=t.display2FontSize="80px",Gn=t.display2FontWeight="900",Yn=t.display2LetterSpacing="-2px",qn=t.display2LineHeight="88px",zn=t.display2PaddingBottom="0.67em",Xn=t.display2FontSmall="Circular",$n=t.display2FontSizeSmall="64px",Qn=t.display2FontWeightSmall="900",Jn=t.display2LetterSpacingSmall="-2px",Zn=t.display2LineHeightSmall="72px",er=t.display2PaddingBottomSmall="0.67em",tr=t.display2FontXSmall="Circular",nr=t.display2FontSizeXSmall="48px",rr=t.display2FontWeightXSmall="900",ir=t.display2LetterSpacingXSmall="-1.75px",or=t.display2LineHeightXSmall="56px",ar=t.display2PaddingBottomXSmall="0.67em",sr=t.heading1Font="Circular",ur=t.heading1FontSize="48px",cr=t.heading1FontWeight="900",lr=t.heading1LetterSpacing="-1px",pr=t.heading1LineHeight="56px",fr=t.heading1PaddingBottom="0.67em",dr=t.heading1FontSmall="Circular",hr=t.heading1FontSizeSmall="40px",yr=t.heading1FontWeightSmall="900",_r=t.heading1LetterSpacingSmall="-1px",mr=t.heading1LineHeightSmall="48px",gr=t.heading1PaddingBottomSmall="0.67em",vr=t.heading1FontXSmall="Circular",Er=t.heading1FontSizeXSmall="32px",br=t.heading1FontWeightXSmall="900",Tr=t.heading1LetterSpacingXSmall="-1px",Sr=t.heading1LineHeightXSmall="40px",wr=t.heading1PaddingBottomXSmall="0.67em",Or=t.heading2Font="Circular",Ar=t.heading2FontSize="32px",Rr=t.heading2FontWeight="900",Cr=t.heading2LetterSpacing="-0.5px",Pr=t.heading2LineHeight="40px",Ir=t.heading2PaddingBottom="0.75em",Nr=t.heading2FontSmall="Circular",kr=t.heading2FontSizeSmall="28px",Lr=t.heading2FontWeightSmall="900",Dr=t.heading2LetterSpacingSmall="-0.25px",xr=t.heading2LineHeightSmall="36px",Ur=t.heading2PaddingBottomSmall="0.75em",Mr=t.heading3Font="Circular",Fr=t.heading3FontSize="24px",jr=t.heading3FontWeight="900",Br=t.heading3LineHeight="32px",Vr=t.heading3LetterSpacing="-0.25px",Hr=t.heading3FontSmall="Circular",Wr=t.heading3FontSizeSmall="20px",Kr=t.heading3FontWeightSmall="900",Gr=t.heading3LineHeightSmall="28px",Yr=t.heading3LetterSpacingSmall="-0.25px",qr=t.heading4Font="Circular",zr=t.heading4FontWeight="400",Xr=t.heading4FontSize="18px",$r=t.heading4LineHeight="26px",Qr=t.heading4LetterSpacing="0px";t.color={aquamarine:n,aubergine:r,azure:i,bole:o,brightRed:a,chocolate:s,citric:u,electricSeafoam:c,factoryYellow:l,forest:p,fuchsia:f,gold:d,kleinBlue:h,lavender:y,maroon:_,midnight:m,neonGreen:g,orange:v,pink:E,powderGreen:b,royalBlue:T,salmon:S,spearmint:w,storm:O,sunflower:A,tan:R,tangerine:C,violet:P,success:I,announcement:N,info:k,warning:L,failure:D,gray7:x,gray10:U,gray15:M,gray20:F,gray30:j,gray50:B,gray70:V,gray80:H,gray85:W,gray90:K,gray95:G,gray25:Y,gray40:q,gray45:z,gray60:X,gray75:$,black0:Q,black10:J,black30:Z,black50:ee,black60:te,black70:ne,black90:re,white0:ie,white10:oe,white30:ae,white50:se,white60:ue,white70:ce,white90:le,black20:pe,black40:fe,white5:de,white20:he,white40:ye,green:_e,greenLight:me,greenFocus:ge,greenDark:ve,black:Ee,white:be,red:Te,redLight:Se,redDark:we,blue:Oe,blueLight:Ae,blueFacebook:Re,blueDark:Ce,orangeLight:Pe,spotifyGreen:Ie,spotifyGreenHighlight:Ne,spotifyGreenFocus:ke,spotifyGreenActive:Le},t.cdn={circularSpotifyUiArabicOnlyBlackWoff:De,circularSpotifyUiArabicOnlyBlackWoff2:xe,circularSpotifyUiArabicOnlyBoldWoff:Ue,circularSpotifyUiArabicOnlyBoldWoff2:Me,circularSpotifyUiArabicOnlyBookWoff:Fe,circularSpotifyUiArabicOnlyBookWoff2:je,circularSpotifyUiCyrillicOnlyBlackWoff:Be,circularSpotifyUiCyrillicOnlyBoldWoff:Ve,circularSpotifyUiCyrillicOnlyBoldWoff2:He,circularSpotifyUiCyrillicOnlyBookWoff:We,circularSpotifyUiCyrillicOnlyBookWoff2:Ke,circularSpotifyUiHebrewOnlyBlackWoff:Ge,circularSpotifyUiHebrewOnlyBlackWoff2:Ye,circularSpotifyUiHebrewOnlyBoldWoff:qe,circularSpotifyUiHebrewOnlyBoldWoff2:ze,circularSpotifyUiHebrewOnlyBookWoff:Xe,circularSpotifyUiHebrewOnlyBookWoff2:$e,circularSpotifyUiLatinTallBlackOtf:Qe,circularSpotifyUiLatinTallBoldOtf:Je,circularSpotifyUiLatinTallBookOtf:Ze},t.opacity={opacity0:et,opacity10:tt,opacity30:nt,opacity50:rt,opacity70:it,opacity90:ot},t.spacer={spacer4:at,spacer8:st,spacer12:ut,spacer16:ct,spacer20:lt,spacer24:pt,spacer32:ft,spacer40:dt,spacer48:ht,spacer56:yt,spacer64:_t,spacer72:mt,spacer80:gt},t.breakpoint={screenXxsMax:vt,screenXsMin:Et,screenXsMax:bt,screenSmMin:Tt,screenSmMax:St,screenMdMin:wt,screenMdMax:Ot,screenLgMin:At,screenLgMax:Rt,screenXlMin:Ct,screenXs:Pt,screenSm:It,screenMd:Nt,screenLg:kt,screenXl:Lt},t.type={body1Font:Dt,body1FontSize:xt,body1FontWeight:Ut,body1LineHeight:Mt,body1LetterSpacing:Ft,body2Font:jt,body2FontSize:Bt,body2FontWeight:Vt,body2LineHeight:Ht,body2LetterSpacing:Wt,body3Font:Kt,body3FontSize:Gt,body3FontWeight:Yt,body3LineHeight:qt,body3LetterSpacing:zt,body4Font:Xt,body4FontSize:$t,body4FontWeight:Qt,body4LineHeight:Jt,body4LetterSpacing:Zt,cta1Font:en,cta1FontSize:tn,cta1FontWeight:nn,cta1LineHeight:rn,cta1LetterSpacing:on,cta1Uppercase:an,cta2Font:sn,cta2FontSize:un,cta2FontWeight:cn,cta2LineHeight:ln,cta2LetterSpacing:pn,cta2Uppercase:fn,cta3Font:dn,cta3FontSize:hn,cta3FontWeight:yn,cta3LineHeight:_n,cta3LetterSpacing:mn,cta3Uppercase:gn,cta4Font:vn,cta4FontSize:En,cta4FontWeight:bn,cta4LineHeight:Tn,cta4LetterSpacing:Sn,cta4Uppercase:wn,display1Font:On,display1FontSize:An,display1FontWeight:Rn,display1LetterSpacing:Cn,display1LineHeight:Pn,display1PaddingBottom:In,display1FontSmall:Nn,display1FontSizeSmall:kn,display1FontWeightSmall:Ln,display1LetterSpacingSmall:Dn,display1LineHeightSmall:xn,display1PaddingBottomSmall:Un,display1FontXSmall:Mn,display1FontSizeXSmall:Fn,display1FontWeightXSmall:jn,display1LetterSpacingXSmall:Bn,display1LineHeightXSmall:Vn,display1PaddingBottomXSmall:Hn,display2Font:Wn,display2FontSize:Kn,display2FontWeight:Gn,display2LetterSpacing:Yn,display2LineHeight:qn,display2PaddingBottom:zn,display2FontSmall:Xn,display2FontSizeSmall:$n,display2FontWeightSmall:Qn,display2LetterSpacingSmall:Jn,display2LineHeightSmall:Zn,display2PaddingBottomSmall:er,display2FontXSmall:tr,display2FontSizeXSmall:nr,display2FontWeightXSmall:rr,display2LetterSpacingXSmall:ir,display2LineHeightXSmall:or,display2PaddingBottomXSmall:ar,heading1Font:sr,heading1FontSize:ur,heading1FontWeight:cr,heading1LetterSpacing:lr,heading1LineHeight:pr,heading1PaddingBottom:fr,heading1FontSmall:dr,heading1FontSizeSmall:hr,heading1FontWeightSmall:yr,heading1LetterSpacingSmall:_r,heading1LineHeightSmall:mr,heading1PaddingBottomSmall:gr,heading1FontXSmall:vr,heading1FontSizeXSmall:Er,heading1FontWeightXSmall:br,heading1LetterSpacingXSmall:Tr,heading1LineHeightXSmall:Sr,heading1PaddingBottomXSmall:wr,heading2Font:Or,heading2FontSize:Ar,heading2FontWeight:Rr,heading2LetterSpacing:Cr,heading2LineHeight:Pr,heading2PaddingBottom:Ir,heading2FontSmall:Nr,heading2FontSizeSmall:kr,heading2FontWeightSmall:Lr,heading2LetterSpacingSmall:Dr,heading2LineHeightSmall:xr,heading2PaddingBottomSmall:Ur,heading3Font:Mr,heading3FontSize:Fr,heading3FontWeight:jr,heading3LineHeight:Br,heading3LetterSpacing:Vr,heading3FontSmall:Hr,heading3FontSizeSmall:Wr,heading3FontWeightSmall:Kr,heading3LineHeightSmall:Gr,heading3LetterSpacingSmall:Yr,heading4Font:qr,heading4FontWeight:zr,heading4FontSize:Xr,heading4LineHeight:$r,heading4LetterSpacing:Qr}},KlUR:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,p=0;p<l;p+=4)t=i[e.charCodeAt(p)]<<18|i[e.charCodeAt(p+1)]<<12|i[e.charCodeAt(p+2)]<<6|i[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(p)]<<2|i[e.charCodeAt(p+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(p)]<<10|i[e.charCodeAt(p+1)]<<4|i[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},L1Yw:function(e,t,n){"use strict";var r=Object.prototype.toString;if(n("Xx9P")()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},L6We:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("jXlj")),r(n("jIGx")),r(n("uIAw"));var i=n("qg8E");t.default=i.default},LXiA:function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),r=_("%"+(n.length>0?n[0]:"")+"%",t),o=1;o<n.length;o+=1)if(null!=r)if(i&&o+1>=n.length){var a=i(r,n[o]);r=a?a.get||a.value:r[n[o]]}else r=r[n[o]];return r}},Lbf7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4y8Y");t.Base62=r;var i=n("e4Ya");t.Base64=i},Lc1h:function(e,t,n){"use strict";function r(e,t){this.url=e||"",this.status=t||0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.ok=this.status>=200&&this.status<=299,this.metadata=null}r.prototype.getStatusFamily=function(){return 0|this.status/100},e.exports=r},M3UQ:function(e,t,n){"use strict";function r(e,t,n){Error.call(this,e),this.code=e,this.message=t,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="XResolveError",e.exports=r},MZBX:function(e,t,n){"use strict";var r=n("mXGw"),i=n.n(r);function o(e){var t=i.a.useRef();return function e(t,n){var r,i;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array&&(i=t.length)===n.length){for(;i--&&e(t[i],n[i]););return-1===i}if(r===Object){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(i in t)if(!(i in n&&e(t[i],n[i])))return!1;return!0}}return t!=t&&n!=n}(e,t.current)||(t.current=e),t.current}t.a=function(e,t){i.a.useEffect(e,o(t))}},Md2V:function(e,t,n){"use strict";var r=n("nAES");function i(e,t,n){Error.call(this,e);var i=n||{};this.code=e||r.DEALER_ERROR,this.raw=i,this.wsReason=i.reason||null,this.wsCode=i.code||null}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="DealerError",e.exports=i},"Mj+E":function(e,t,n){"use strict";var r=n("GrTZ");e.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},NGR8:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},NS33:function(e,t,n){"use strict";var r=n("E02R");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},NWgQ:function(e,t,n){"use strict";var r=n("X7EK"),i=n("IL7q");function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(i),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=i({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return o(r,t);if(Array.isArray(i)){var a=[];return i.slice().forEach((function(e){void 0!==e&&a.push(n(r,e,a.length))})),a.join("&")}return o(r,t)+"="+o(i,t)})).filter((function(e){return e.length>0})).join("&"):""}},O0QU:function(e,t,n){var r=n("aoi3");e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var p=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+p.length,f)s+=f[1];else{var h=e[a],y=n[2],_=n[3],m=n[4],g=n[5],v=n[6],E=n[7];s&&(r.push(s),s="");var b=null!=y&&null!=h&&h!==y,T="+"===v||"*"===v,S="?"===v||"*"===v,w=n[2]||l,O=m||g;r.push({name:_||o++,prefix:y||"",delimiter:w,optional:S,repeat:T,partial:b,asterisk:!!E,pattern:O?c(O):E?".*":"[^"+u(w)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var p,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(p=u(f[d]),!t[c].test(p))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===d?l.prefix:l.delimiter)+p}}else{if(p=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!t[c].test(p))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+p+'"');o+=l.prefix+p}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var h=u(n.delimiter||"/"),y=a.slice(-h.length)===h;return i||(a=(y?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+h+"|$)",l(new RegExp("^"+a,p(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},OHXD:function(e,t,n){"use strict";var r=n("tImM");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},"OZ+Z":function(e,t,n){"use strict";var r=n("BMKb"),i=n("5FMv"),o=n("s2T8"),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("Array.prototype.push"),l=i("WeakMap.prototype.get",!0),p=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),y=i("Map.prototype.has",!0);e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(u){if(t)return d(t,r)}else if(n)return function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].key===t)return e[n].value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(u){if(t)return y(t,r)}else if(n)return function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].key===t)return!0;return!1}(n,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),p(e,r,i)):u?(t||(t=new u),h(t,r,i)):(n||(n=[]),function(e,t,n){for(var r=0;r<e.length;r+=1)if(e[r].key===t)return void(e[r].value=n);c(e,{key:t,value:n})}(n,r,i))}};return r}},OmE2:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},Ono3:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},OvAC:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},P1L4:function(e,t,n){"use strict";(function(e){}).call(this,n("pCvA"))},P1TA:function(e,t,n){"use strict";var r=n("RVb4");e.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},PCPI:function(e,t,n){"use strict";var r=n("/ub/"),i={generate:function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(256*Math.random()|0);return t},generateBase64:function(e){return r.encode(i.generate(e))}};e.exports=i},PE9J:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},PQZM:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.prototype;function r(){}r.prototype=e._super=n,e.prototype=new r,e.prototype.constructor=e}},"PoH+":function(e,t,n){(function(e,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=i._,a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,l=a.slice,p=s.toString,f=s.hasOwnProperty,d=Array.isArray,h=Object.keys,y=Object.create,_=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};t.nodeType?i._=m:(!n.nodeType&&n.exports&&(t=n.exports=m),t._=m),m.VERSION="1.9.1";var g,v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?v(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return E(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},T=function(e){if(!m.isObject(e))return{};if(y)return y(e);_.prototype=e;var t=new _;return _.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},w=function(e,t){return null!=e&&f.call(e,t)},O=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},A=Math.pow(2,53)-1,R=S("length"),C=function(e){var t=R(e);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(e,t,n){var r,i;if(t=v(t,n),C(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){t=E(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var P=function(e){var t=function(t,n,r,i){var o=!C(t)&&m.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,v(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=P(1),m.reduceRight=m.foldr=P(-1),m.find=m.detect=function(e,t,n){var r=(C(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=E(t,n),m.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},m.reject=function(e,t,n){return m.filter(e,m.negate(E(t)),n)},m.every=m.all=function(e,t,n){t=E(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,n){t=E(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return C(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=b((function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=O(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=C(e)?e:m.values(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=E(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o},m.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=C(e)?e:m.values(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=E(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return C(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=C(e)?m.clone(e):m.values(e),i=R(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=m.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=E(t,n),m.pluck(m.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var I=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=E(r,i),m.each(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}};m.groupBy=I((function(e,t,n){w(e,n)?e[n].push(t):e[n]=[t]})),m.indexBy=I((function(e,t,n){e[n]=t})),m.countBy=I((function(e,t,n){w(e,n)?e[n]++:e[n]=1}));var N=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(N):C(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:C(e)?e.length:m.keys(e).length},m.partition=I((function(e,t,n){e[n?0:1].push(t)}),!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var k=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,a=R(e);o<a;o++){var s=e[o];if(C(s)&&(m.isArray(s)||m.isArguments(s)))if(t)for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else k(s,t,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(e,t){return k(e,t,!1)},m.without=b((function(e,t){return m.difference(e,t)})),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],a=0,s=R(e);a<s;a++){var u=e[a],c=n?n(u,a,e):u;t&&!n?(a&&o===c||i.push(u),o=c):n?m.contains(o,c)||(o.push(c),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=b((function(e){return m.uniq(k(e,!0,!0))})),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=R(e);r<i;r++){var o=e[r];if(!m.contains(t,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},m.difference=b((function(e,t){return t=k(t,!0,!0),m.filter(e,(function(e){return!m.contains(t,e)}))})),m.unzip=function(e){for(var t=e&&m.max(e,R).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=b(m.unzip),m.object=function(e,t){for(var n={},r=0,i=R(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var L=function(e){return function(t,n,r){n=E(n,r);for(var i=R(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=L(1),m.findLastIndex=L(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=E(n,r,1))(t),o=0,a=R(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var D=function(e,t,n){return function(r,i,o){var a=0,s=R(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(l.call(r,a,s),m.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}};m.indexOf=D(1,m.findIndex,m.sortedIndex),m.lastIndexOf=D(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};var x=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=T(e.prototype),a=e.apply(o,i);return m.isObject(a)?a:o};m.bind=b((function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=b((function(i){return x(e,r,t,this,n.concat(i))}));return r})),m.partial=b((function(e,t){var n=m.partial.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return x(e,r,this,this,a)};return r})),m.partial.placeholder=m,m.bindAll=b((function(e,t){var n=(t=k(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}})),m.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=b((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:m.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=m.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},m.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=b((function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=m.delay(o,t,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=b;var U=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=M.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||s,o="constructor";for(w(e,o)&&!m.contains(t,o)&&t.push(o);n--;)(o=M[n])in e&&e[o]!==i[o]&&!m.contains(t,o)&&t.push(o)};m.keys=function(e){if(!m.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)w(e,n)&&t.push(n);return U&&F(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return U&&F(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=E(t,n);for(var r=m.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var j=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}};m.extend=j(m.allKeys),m.extendOwn=m.assign=j(m.keys),m.findKey=function(e,t,n){t=E(t,n);for(var r,i=m.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var B,V,H=function(e,t,n){return t in n};m.pick=b((function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=v(r,t[1])),t=m.allKeys(e)):(r=H,t=k(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),m.omit=b((function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(k(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)})),m.defaults=j(m.allKeys,!0),m.create=function(e,t){var n=T(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&V(e,t,n,r)},V=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!B(e[c],t[c],n,r))return!1}else{var l,f=m.keys(e);if(c=f.length,m.keys(t).length!==c)return!1;for(;c--;)if(l=f[c],!w(t,l)||!B(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return B(e,t)},m.isEmpty=function(e){return null==e||(C(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=d||function(e){return"[object Array]"===p.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){m["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}})),m.isArguments(arguments)||(m.isArguments=function(e){return w(e,"callee")});var W=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof W&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return w(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return i._=o,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return O(t,e)}:S(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?O(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=m.invert(K),Y=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=Y(K),m.unescape=Y(G),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=m.isFunction(o)?o.call(e):o}return e};var q=0;m.uniqueId=function(e){var t=++q+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(e){return"\\"+X[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,(function(t,n,r,i,s){return a+=e.slice(o,s).replace($,Q),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,m)},u=t.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var J=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),(function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),J(this,n.apply(m,e))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}})),m.each(["concat","join","slice"],(function(e){var t=a[e];m.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return m}.apply(t,[]))||(n.exports=r)}()}).call(this,n("pCvA"),n("RoC8")(e))},Q4AL:function(e,t,n){"use strict";var r=n("99Y6").backoffDefaults,i=n("asuC"),o=n("kHLn"),a=Array.prototype.slice;function s(e,t){var n=t||{};this._fn=e,this._resolver=i.defer(),this._maxDuration=n.maxDuration||r.maxDuration,this._maxRetries="maxRetries"in n?n.maxRetries:r.maxRetries,this._maxTime=n.maxTime||r.maxTime,this._retryPredicate=n.retryPredicate||r.retryPredicate,this._ts=0,this._callCount=0,this._backoffInitial=n.backoffInitial,this._tickInterval=null,this._isRunning=!1,this._counter=new o({curve:n.curve||n.algo,baseTime:n.baseTime,ceiling:n.ceiling}),this._backoffInitial&&(this._maxRetries+=1),this._tick=this._tick.bind(this)}s.init=function(e,t){return new s(e,t).start()},s.prototype.getResolver=function(){return this._resolver.promise},s.prototype.start=function(e){return!this._fn&&e&&(this._fn=e),this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(this._tick,this._counter.getTime(0))):this._tick()),this._resolver.promise},s.prototype.stop=function(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()},s.prototype._destroy=function(){this._fn=null,this._resolver=null},s.prototype._failure=function(e){if(e&&"retryAfter"in e)this._retryAfter(e);else{var t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(this._tick,t)):(this._resolver.reject(e),this._destroy())}},s.prototype._retryAfter=function(e){this._callCount++,this._tickInterval=setTimeout(this._tick,e.retryAfter)},s.prototype._success=function(){this._resolver.resolve.apply(null,a.call(arguments)),this._destroy()},s.prototype._shouldRetry=function(e,t){var n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)},s.prototype._tick=function(){this._fn().then(this._success.bind(this)).catch(this._failure.bind(this))},e.exports=s},QC0w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},verbose:(...e)=>{},silly:(...e)=>{}};t.default=r,t.log=r.log.bind(r),t.error=r.error.bind(r),t.warn=r.warn.bind(r),t.info=r.info.bind(r),t.debug=r.debug.bind(r),t.verbose=r.verbose.bind(r),t.silly=r.silly.bind(r)},QO3r:function(e,t,n){"use strict";e.exports=n("ikOk")},QjER:function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}t.a=function(e,t){void 0===t&&(t="");var n,o=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&r(e),u=t&&r(t),c=s||u;if(e&&r(e)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var p=0,f=a.length;f>=0;f--){var d=a[f];"."===d?i(a,f):".."===d?(i(a,f),p++):p&&(i(a,f),p--)}if(!c)for(;p--;p)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}},Qk0H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("QC0w");t.default=r.default,t.log=r.log,t.error=r.error,t.warn=r.warn,t.info=r.info,t.debug=r.debug,t.verbose=r.verbose,t.silly=r.silly},Qmxl:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},R3KX:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("gwHf"),i=n("qg8E");t.supportsHighResolutionTime=()=>e&&"function"==typeof e.hrtime,t.getBrowserTime=()=>"undefined"!=typeof performance?performance.now():Date.now(),t.getTime=()=>t.supportsHighResolutionTime()?e.hrtime():t.getBrowserTime(),t.getLowResolutionTime=e=>{const n=t.getTime()-e,o=r.Time.fromMillis(n);return{nanoseconds:i.asNanoseconds(o.asNanos()),milliseconds:o.asMillis(),seconds:o.asSeconds()}},t.getHighResolutionTime=t=>{const[n,r]=e.hrtime(t),o=1e9*n+r,a=o/1e6,s=o/1e9;return{nanoseconds:i.asNanoseconds(o),milliseconds:a,seconds:s}};class o{constructor(e){this.startTime=e}static start(){return new o(t.getTime())}end(){return t.supportsHighResolutionTime()?t.getHighResolutionTime(this.startTime):t.getLowResolutionTime(this.startTime)}}t.Timer=o}).call(this,n("5IsQ"))},R9Wo:function(e,t,n){"use strict";var r=n("9lfL").counterDefaults;function i(e){var t=e||{};this._curve=t.curve||t.algo||r.curve,this._baseTime=t.baseTime||r.baseTime,this._ceiling=t.ceiling||r.ceiling,this._jitter=!(!1===t.jitter)}i.prototype.getTime=function(e){var t;switch(this._curve){case"static":t=1;break;case"logarithmic":case"log":t=Math.log(e);break;case"exponential":case"exp":t=Math.pow(Math.E,e);break;case"linear":case"lin":default:t=e+1}var n,r,i=t*this._baseTime|0;return this._ceiling&&(i=Math.min(i,this._ceiling)),this._jitter?0|(n=i)-(r=n/5)/2+Math.random()*r:i},e.exports=i},"RB/r":function(e){e.exports=JSON.parse('{"tagged":"1.7.1-26783eb","version":"1.7.1","revision":"26783eb"}')},REJ4:function(e,t,n){"use strict";e.exports={createHash:function(){throw new Error("fingerprinting not supported in the browser")}}},RLeF:function(e,t,n){"use strict";var r=n("ZjB5"),i=n("6ayh")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},RVb4:function(e,t,n){"use strict";(function(t){var n,r=function(){};n=function(e){return t.Proxy&&"function"!=typeof t.Proxy.create&&"function"==typeof t.Proxy?new t.Proxy(e,{get:function(e,t){if(!e.hasOwnProperty(t))throw new ReferenceError("Unknown enum value "+t);return e[t]},set:r,delete:r}):e},e.exports=n}).call(this,n("pCvA"))},RWAl:function(e,t){var n=t.aquamarine="#9bf0e1",r=t.aubergine="#503750",i=t.azure="#509bf5",o=t.bole="#c87d55",a=t.brightRed="#e61e32",s=t.chocolate="#7d4b32",u=t.citric="#cdf564",c=t.electricSeafoam="#19e68c",l=t.factoryYellow="#fae62d",p=t.forest="#006450",f=t.fuchsia="#dc148c",d=t.gold="#f59b23",h=t.kleinBlue="#4100f5",y=t.lavender="#b49bc8",_=t.maroon="#8c1932",m=t.midnight="#1e3264",g=t.neonGreen="#5ff550",v=t.orange="#ff6437",E=t.pink="#ffcdd2",b=t.powderGreen="#c3f0c8",T=t.royalBlue="#2d46b9",S=t.salmon="#f573a0",w=t.spearmint="#27856a",O=t.storm="#a0c3d2",A=t.sunflower="#ffc864",R=t.tan="#c39687",C=t.tangerine="#e3230e",P=t.violet="#af2896",I=t.success="#1db954",N=t.announcement="#2e77d0",k=t.info="#eeeeee",L=t.warning="#ff5722",D=t.failure="#e22134",x=t.gray7="#121212",U=t.gray10="#181818",M=t.gray15="#282828",F=t.gray20="#333333",j=t.gray30="#535353",B=t.gray50="#7f7f7f",V=t.gray70="#b3b3b3",H=t.gray80="#cccccc",W=t.gray85="#d9d9d9",K=t.gray90="#eeeeee",G=t.gray95="#f8f8f8",Y=t.gray25="#404040",q=t.black0="rgba(0, 0, 0, 0)",z=t.black10="rgba(0, 0, 0, 0.1)",X=t.black30="rgba(0, 0, 0, 0.3)",$=t.black50="rgba(0, 0, 0, 0.5)",Q=t.black60="rgba(0, 0, 0, 0.6)",J=t.black70="rgba(0, 0, 0, 0.7)",Z=t.black90="rgba(0, 0, 0, 0.9)",ee=t.white0="rgba(255, 255, 255, 0)",te=t.white10="rgba(255, 255, 255, 0.1)",ne=t.white30="rgba(255, 255, 255, 0.3)",re=t.white50="rgba(255, 255, 255, 0.5)",ie=t.white60="rgba(255, 255, 255, 0.6)",oe=t.white70="rgba(255, 255, 255, 0.7)",ae=t.white90="rgba(255, 255, 255, 0.9)",se=t.black20="rgba(0, 0, 0, 0.2)",ue=t.black40="rgba(0, 0, 0, 0.4)",ce=t.white5="rgba(255, 255, 255, 0.05)",le=t.white20="rgba(255, 255, 255, 0.2)",pe=t.white40="rgba(255, 255, 255, 0.4)",fe=t.green="#1db954",de=t.greenLight="#1ed760",he=t.greenFocus="#1da64d",ye=t.greenDark="#14833b",_e=t.black="#000000",me=t.white="#ffffff",ge=t.red="#cd1a2b",ve=t.redLight="#e22134",Ee=t.redDark="#941320",be=t.blue="#2e77d0",Te=t.blueLight="#4687d6",Se=t.blueFacebook="#3a5897",we=t.blueDark="#1d4c85",Oe=t.orangeLight="#ff5722",Ae=t.circularSpotifyUiArabicOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Black.woff",Re=t.circularSpotifyUiArabicOnlyBlackWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Black.woff2",Ce=t.circularSpotifyUiArabicOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Bold.woff",Pe=t.circularSpotifyUiArabicOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Bold.woff2",Ie=t.circularSpotifyUiArabicOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Book.woff",Ne=t.circularSpotifyUiArabicOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-ArabicOnly-Book.woff2",ke=t.circularSpotifyUiCyrillicOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Black.woff",Le=t.circularSpotifyUiCyrillicOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Bold.woff",De=t.circularSpotifyUiCyrillicOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Bold.woff2",xe=t.circularSpotifyUiCyrillicOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Book.woff",Ue=t.circularSpotifyUiCyrillicOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-CyrillicOnly-Book.woff2",Me=t.circularSpotifyUiHebrewOnlyBlackWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Black.woff",Fe=t.circularSpotifyUiHebrewOnlyBlackWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Black.woff2",je=t.circularSpotifyUiHebrewOnlyBoldWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Bold.woff",Be=t.circularSpotifyUiHebrewOnlyBoldWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Bold.woff2",Ve=t.circularSpotifyUiHebrewOnlyBookWoff="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Book.woff",He=t.circularSpotifyUiHebrewOnlyBookWoff2="https://encore.scdn.co/1.1.0/CircularSpotify-UI-HebrewOnly-Book.woff2",We=t.circularSpotifyUiLatinTallBlackOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Black.otf",Ke=t.circularSpotifyUiLatinTallBoldOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Bold.otf",Ge=t.circularSpotifyUiLatinTallBookOtf="https://encore.scdn.co/1.1.0/CircularSpotify-UI-Latin-Tall-Book.otf",Ye=t.opacity0="0",qe=t.opacity10="0.1",ze=t.opacity30="0.3",Xe=t.opacity50="0.5",$e=t.opacity70="0.7",Qe=t.opacity90="0.9",Je=t.spacer4="4px",Ze=t.spacer8="8px",et=t.spacer12="12px",tt=t.spacer16="16px",nt=t.spacer20="20px",rt=t.spacer24="24px",it=t.spacer32="32px",ot=t.spacer40="40px",at=t.spacer48="48px",st=t.spacer56="56px",ut=t.spacer64="64px",ct=t.spacer72="72px",lt=t.spacer80="80px",pt=t.balladFontSize="16px",ft=t.balladLineHeight="24px",dt=t.balladWeight=400,ht=t.balladFont="Circular",yt=t.balladUppercase="none",_t=t.balladTracking="normal",mt=t.balladBoldFontSize="16px",gt=t.balladBoldLineHeight="24px",vt=t.balladBoldWeight=700,Et=t.balladBoldFont="Circular",bt=t.balladBoldUppercase="none",Tt=t.balladBoldTracking="normal",St=t.mestoFontSize="14px",wt=t.mestoLineHeight="16px",Ot=t.mestoWeight=400,At=t.mestoFont="Circular",Rt=t.mestoUppercase="none",Ct=t.mestoTracking="normal",Pt=t.mestoBoldFontSize="14px",It=t.mestoBoldLineHeight="16px",Nt=t.mestoBoldWeight=700,kt=t.mestoBoldFont="Circular",Lt=t.mestoBoldUppercase="none",Dt=t.mestoBoldTracking="normal",xt=t.bassFontSize="96px",Ut=t.bassFontSizeMedium="72px",Mt=t.bassFontSizeSmall="48px",Ft=t.bassLineHeight="96px",jt=t.bassLineHeightMedium="72px",Bt=t.bassLineHeightSmall="48px",Vt=t.bassTracking="-0.04em",Ht=t.bassWeight=900,Wt=t.bassFont="Circular",Kt=t.bassUppercase="none",Gt=t.forteFontSize="72px",Yt=t.forteLineHeight="72px",qt=t.forteTracking="-0.04em",zt=t.forteWeight=900,Xt=t.forteFont="Circular",$t=t.forteUppercase="none",Qt=t.brioFontSize="48px",Jt=t.brioLineHeight="48px",Zt=t.brioTracking="-0.04em",en=t.brioWeight=700,tn=t.brioFont="Circular",nn=t.brioUppercase="none",rn=t.metronomeFontSize="14px",on=t.metronomeLineHeight="16px",an=t.metronomeTracking="0.1em",sn=t.metronomeWeight=700,un=t.metronomeFont="Circular",cn=t.metronomeUppercase="uppercase",ln=t.minuetFontSize="12px",pn=t.minuetLineHeight="16px",fn=t.minuetTracking="0.1em",dn=t.minuetWeight=400,hn=t.minuetFont="Circular",yn=t.minuetUppercase="uppercase",_n=t.minuetBoldFontSize="12px",mn=t.minuetBoldLineHeight="16px",gn=t.minuetBoldTracking="0.1em",vn=t.minuetBoldWeight=700,En=t.minuetBoldFont="Circular",bn=t.minuetBoldUppercase="uppercase",Tn=t.finaleFontSize="11px",Sn=t.finaleLineHeight="16px",wn=t.finaleWeight=400,On=t.finaleFont="Circular",An=t.finaleUppercase="none",Rn=t.finaleTracking="normal",Cn=t.finaleBoldFontSize="11px",Pn=t.finaleBoldLineHeight="16px",In=t.finaleBoldWeight=700,Nn=t.finaleBoldFont="Circular",kn=t.finaleBoldUppercase="none",Ln=t.finaleBoldTracking="normal",Dn=t.altoFontSize="32px",xn=t.altoLineHeight="36px",Un=t.altoTracking="-0.04em",Mn=t.altoWeight=700,Fn=t.altoFont="Circular",jn=t.altoUppercase="none",Bn=t.canonFontSize="24px",Vn=t.canonLineHeight="28px",Hn=t.canonTracking="-0.04em",Wn=t.canonWeight=700,Kn=t.canonFont="Circular",Gn=t.canonUppercase="none",Yn=t.celloFontSize="18px",qn=t.celloLineHeight="24px",zn=t.celloWeight=700,Xn=t.celloFont="Circular",$n=t.celloUppercase="none",Qn=t.celloTracking="normal";t.color={aquamarine:n,aubergine:r,azure:i,bole:o,brightRed:a,chocolate:s,citric:u,electricSeafoam:c,factoryYellow:l,forest:p,fuchsia:f,gold:d,kleinBlue:h,lavender:y,maroon:_,midnight:m,neonGreen:g,orange:v,pink:E,powderGreen:b,royalBlue:T,salmon:S,spearmint:w,storm:O,sunflower:A,tan:R,tangerine:C,violet:P,success:I,announcement:N,info:k,warning:L,failure:D,gray7:x,gray10:U,gray15:M,gray20:F,gray30:j,gray50:B,gray70:V,gray80:H,gray85:W,gray90:K,gray95:G,gray25:Y,black0:q,black10:z,black30:X,black50:$,black60:Q,black70:J,black90:Z,white0:ee,white10:te,white30:ne,white50:re,white60:ie,white70:oe,white90:ae,black20:se,black40:ue,white5:ce,white20:le,white40:pe,green:fe,greenLight:de,greenFocus:he,greenDark:ye,black:_e,white:me,red:ge,redLight:ve,redDark:Ee,blue:be,blueLight:Te,blueFacebook:Se,blueDark:we,orangeLight:Oe},t.cdn={circularSpotifyUiArabicOnlyBlackWoff:Ae,circularSpotifyUiArabicOnlyBlackWoff2:Re,circularSpotifyUiArabicOnlyBoldWoff:Ce,circularSpotifyUiArabicOnlyBoldWoff2:Pe,circularSpotifyUiArabicOnlyBookWoff:Ie,circularSpotifyUiArabicOnlyBookWoff2:Ne,circularSpotifyUiCyrillicOnlyBlackWoff:ke,circularSpotifyUiCyrillicOnlyBoldWoff:Le,circularSpotifyUiCyrillicOnlyBoldWoff2:De,circularSpotifyUiCyrillicOnlyBookWoff:xe,circularSpotifyUiCyrillicOnlyBookWoff2:Ue,circularSpotifyUiHebrewOnlyBlackWoff:Me,circularSpotifyUiHebrewOnlyBlackWoff2:Fe,circularSpotifyUiHebrewOnlyBoldWoff:je,circularSpotifyUiHebrewOnlyBoldWoff2:Be,circularSpotifyUiHebrewOnlyBookWoff:Ve,circularSpotifyUiHebrewOnlyBookWoff2:He,circularSpotifyUiLatinTallBlackOtf:We,circularSpotifyUiLatinTallBoldOtf:Ke,circularSpotifyUiLatinTallBookOtf:Ge},t.opacity={opacity0:Ye,opacity10:qe,opacity30:ze,opacity50:Xe,opacity70:$e,opacity90:Qe},t.spacer={spacer4:Je,spacer8:Ze,spacer12:et,spacer16:tt,spacer20:nt,spacer24:rt,spacer32:it,spacer40:ot,spacer48:at,spacer56:st,spacer64:ut,spacer72:ct,spacer80:lt},t.type={balladFontSize:pt,balladLineHeight:ft,balladWeight:dt,balladFont:ht,balladUppercase:yt,balladTracking:_t,balladBoldFontSize:mt,balladBoldLineHeight:gt,balladBoldWeight:vt,balladBoldFont:Et,balladBoldUppercase:bt,balladBoldTracking:Tt,mestoFontSize:St,mestoLineHeight:wt,mestoWeight:Ot,mestoFont:At,mestoUppercase:Rt,mestoTracking:Ct,mestoBoldFontSize:Pt,mestoBoldLineHeight:It,mestoBoldWeight:Nt,mestoBoldFont:kt,mestoBoldUppercase:Lt,mestoBoldTracking:Dt,bassFontSize:xt,bassFontSizeMedium:Ut,bassFontSizeSmall:Mt,bassLineHeight:Ft,bassLineHeightMedium:jt,bassLineHeightSmall:Bt,bassTracking:Vt,bassWeight:Ht,bassFont:Wt,bassUppercase:Kt,forteFontSize:Gt,forteLineHeight:Yt,forteTracking:qt,forteWeight:zt,forteFont:Xt,forteUppercase:$t,brioFontSize:Qt,brioLineHeight:Jt,brioTracking:Zt,brioWeight:en,brioFont:tn,brioUppercase:nn,metronomeFontSize:rn,metronomeLineHeight:on,metronomeTracking:an,metronomeWeight:sn,metronomeFont:un,metronomeUppercase:cn,minuetFontSize:ln,minuetLineHeight:pn,minuetTracking:fn,minuetWeight:dn,minuetFont:hn,minuetUppercase:yn,minuetBoldFontSize:_n,minuetBoldLineHeight:mn,minuetBoldTracking:gn,minuetBoldWeight:vn,minuetBoldFont:En,minuetBoldUppercase:bn,finaleFontSize:Tn,finaleLineHeight:Sn,finaleWeight:wn,finaleFont:On,finaleUppercase:An,finaleTracking:Rn,finaleBoldFontSize:Cn,finaleBoldLineHeight:Pn,finaleBoldWeight:In,finaleBoldFont:Nn,finaleBoldUppercase:kn,finaleBoldTracking:Ln,altoFontSize:Dn,altoLineHeight:xn,altoTracking:Un,altoWeight:Mn,altoFont:Fn,altoUppercase:jn,canonFontSize:Bn,canonLineHeight:Vn,canonTracking:Hn,canonWeight:Wn,canonFont:Kn,canonUppercase:Gn,celloFontSize:Yn,celloLineHeight:qn,celloWeight:zn,celloFont:Xn,celloUppercase:$n,celloTracking:Qn}},RWRC:function(e,t,n){"use strict";n.d(t,"a",(function(){return xe}));var r,i={};n.r(i),n.d(i,"FunctionToString",(function(){return o})),n.d(i,"InboundFilters",(function(){return y}));var o=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return r.apply(n,e)}},e.id="FunctionToString",e}();var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var c=n("UYf4"),l=n("rNOt"),p=n("HhP1"),f=n("3ZRO"),d=n("dbjm"),h=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],y=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(c.b)((function(t){var n=Object(l.a)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(p.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(f.d)(e)),!0):this._isIgnoredError(e,t)?(p.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(f.d)(e)),!0):this._isBlacklistedUrl(e,t)?(p.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(p.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(d.a)(e,t)}))}))},e.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some((function(e){return Object(d.a)(n,e)}))},e.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some((function(e){return Object(d.a)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:u(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:u(this._options.ignoreErrors||[],e.ignoreErrors||[],h),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:u(this._options.whitelistUrls||[],e.whitelistUrls||[])}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(t){return p.a.error("Cannot extract message for event "+Object(f.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return p.a.error("Cannot extract url for event "+Object(f.d)(e)),null}},e.id="InboundFilters",e}();var _=n("nsI8"),m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function g(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E(arguments[t]));return e}var T=n("zPG/"),S=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var w=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,S(r,n.prototype),r}return T.b(t,e),t}(Error),O=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,A=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=O.exec(e);if(!t)throw new w("Invalid Dsn");var n=T.c(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],u=n[4],c=void 0===u?"":u,l="",p=n[5],f=p.split("/");f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),this._fromComponents({host:s,pass:a,path:l,projectId:p,port:c,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new w("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new w("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new w("Invalid Dsn")},e}(),R=n("tZ4O"),C=function(){function e(e){this.dsn=e,this._dsnObject=new A(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(R.e)(e)},e.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e}(),P=n("E6vx"),I=[];function N(e){var t={};return function(e){var t=e.defaultIntegrations&&u(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),o=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))})),n.forEach((function(e){-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))}))}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=u(t);var a=r.map((function(e){return e.name}));return-1!==a.indexOf("Debug")&&r.push.apply(r,u(r.splice(a.indexOf("Debug"),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===I.indexOf(e.name)&&(e.setupOnce(c.b,l.a),I.push(e.name),p.a.log("Integration installed: "+e.name))}(e)})),t}var k,L=function(){function e(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new A(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then((function(e){return r._processEvent(e,t,n)})).then((function(e){i=e&&e.event_id,r._processing=!1})).then(null,(function(e){p.a.error(e),r._processing=!1})),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id;return this._processing=!0,(Object(P.i)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then((function(e){return i._processEvent(e,n,r)})).then((function(e){o=e&&e.event_id,i._processing=!1})).then(null,(function(e){p.a.error(e),i._processing=!1})),o},e.prototype.captureEvent=function(e,t,n){var r=this,i=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then((function(e){i=e&&e.event_id,r._processing=!1})).then(null,(function(e){p.a.error(e),r._processing=!1})),i},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return clearInterval(n.interval),t._getBackend().getTransport().close(e).then((function(e){return n.ready&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=N(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return p.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._isClientProcessing=function(e){var t=this;return new _.a((function(n){var r=0,i=0;clearInterval(i),i=setInterval((function(){t._processing?(r+=1,e&&r>=e&&n({interval:i,ready:!1})):n({interval:i,ready:!0})}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.environment,s=i.release,u=i.dist,c=i.maxValueLength,l=void 0===c?250:c,p=i.normalizeDepth,h=void 0===p?3:p,y=a({},e);void 0===y.environment&&void 0!==o&&(y.environment=o),void 0===y.release&&void 0!==s&&(y.release=s),void 0===y.dist&&void 0!==u&&(y.dist=u),y.message&&(y.message=Object(d.d)(y.message,l));var m=y.exception&&y.exception.values&&y.exception.values[0];m&&m.value&&(m.value=Object(d.d)(m.value,l));var g=y.request;g&&g.url&&(g.url=Object(d.d)(g.url,l)),void 0===y.event_id&&(y.event_id=n&&n.event_id?n.event_id:Object(f.m)()),this._addIntegrations(y.sdk);var v=_.a.resolve(y);return t&&(v=t.applyToEvent(y,n)),v.then((function(e){return"number"==typeof h&&h>0?r._normalizeEvent(e,h):e}))},e.prototype._normalizeEvent=function(e,t){return e?a({},e,e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return a({},e,e.data&&{data:Object(R.c)(e.data,t)})}))},e.user&&{user:Object(R.c)(e.user,t)},e.contexts&&{contexts:Object(R.c)(e.contexts,t)},e.extra&&{extra:Object(R.c)(e.extra,t)}):null},e.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&t.length>0&&(e.integrations=t)},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?_.a.reject("This event has been sampled, will not send event."):new _.a((function(i,a){r._prepareEvent(e,n,t).then((function(e){if(null!==e){var n=e;if(t&&t.data&&!0===t.data.__sentry__||!o)return r._getBackend().sendEvent(n),void i(n);var s=o(e,t);if(void 0===s)p.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(P.m)(s))r._handleAsyncBeforeSend(s,i,a);else{if(null===(n=s))return p.a.log("`beforeSend` returned `null`, will not send event."),void i(null);r._getBackend().sendEvent(n),i(n)}}else a("An event processor returned null, will not send event.")})).then(null,(function(e){r.captureException(e,{data:{__sentry__:!0},originalException:e}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))})):_.a.reject("SDK not enabled, will not send event.")},e.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then((function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){n("beforeSend rejected with "+e)}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(k||(k={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(k||(k={}));var D,x=function(){function e(){}return e.prototype.sendEvent=function(e){return _.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:k.Skipped})},e.prototype.close=function(e){return _.a.resolve(!0)},e}(),U=function(){function e(e){this._options=e,this._options.dsn||p.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype._setupTransport=function(){return new x},e.prototype.eventFromException=function(e,t){throw new w("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new w("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){p.a.error("Error while sending event: "+e)}))},e.prototype.getTransport=function(){return this._transport},e}();function M(){if(!("fetch"in Object(f.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function F(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function j(){if(!M())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(D||(D={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(D||(D={}));var B=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,V=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,H=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,W=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,K=/\((\S*)(?::(\d+))(?::(\d+))\)/;function G(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(t=r.exec(o[s]))?u={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(u={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),u&&(!u.func&&u.line&&(u.func="?"),a.push(u))}if(!a.length)return null;return{message:q(e),name:e.name,stack:a}}(e))return Y(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=B.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=K.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=H.exec(o[a]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=V.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=W.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),i.push(r)}if(!i.length)return null;return{message:q(e),name:e.name,stack:i}}(e))return Y(t,n)}catch(e){}return{message:q(e),name:e&&e.name,stack:[],failed:!0}}function Y(e,t){try{return v({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function q(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function z(e){var t=$(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function X(e){return{exception:{values:[z(e)]}}}function $(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).slice(0,50).reverse()}function Q(e,t,n){var r;if(void 0===n&&(n={}),Object(P.e)(e)&&e.error)return r=X(G(e=e.error));if(Object(P.a)(e)||Object(P.b)(e)){var i=e,o=i.name||(Object(P.a)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=J(a,t,n),Object(f.b)(r,a),r}return Object(P.d)(e)?r=X(G(e)):Object(P.h)(e)||Object(P.f)(e)?(r=function(e,t,n){var r={exception:{values:[{type:Object(P.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(R.a)(e)}]},extra:{__serialized__:Object(R.d)(e)}};if(t){var i=$(G(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),Object(f.a)(r,{synthetic:!0}),r):(r=J(e,t,n),Object(f.b)(r,""+e,void 0),Object(f.a)(r,{synthetic:!0}),r)}function J(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=$(G(t).stack);r.stacktrace={frames:i}}return r}var Z=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):_.a.reject(new w("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new _.a((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);_.a.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),ee=function(){function e(e){this.options=e,this._buffer=new Z(30),this.url=new C(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new w("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e}(),te=Object(f.f)(),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return g(t,e),t.prototype.sendEvent=function(e){var t=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(e),method:"POST",referrerPolicy:j()?"origin":""};return void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new _.a((function(e,r){te.fetch(t.url,n).then((function(n){var i=k.fromHttpCode(n.status);if(i!==k.Success){if(i===k.RateLimit){var o=Date.now();t._disabledUntil=new Date(o+Object(f.j)(o,n.headers.get("Retry-After"))),p.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(n)}else e({status:i})})).catch(r)})))},t}(ee),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return g(t,e),t.prototype.sendEvent=function(e){var t=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new _.a((function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var e=k.fromHttpCode(i.status);if(e!==k.Success){if(e===k.RateLimit){var o=Date.now();t._disabledUntil=new Date(o+Object(f.j)(o,i.getResponseHeader("Retry-After"))),p.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(i)}else n({status:e})}},i.open("POST",t.url),t.options.headers)t.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,t.options.headers[o]);i.send(JSON.stringify(e))})))},t}(ee),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=v({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):M()?new ne(t):new re(t)},t.prototype.eventFromException=function(e,t){var n=Q(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(f.a)(n,{handled:!0,type:"generic"}),n.level=D.Error,t&&t.event_id&&(n.event_id=t.event_id),_.a.resolve(n)},t.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=D.Info);var r=J(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),_.a.resolve(r)},t}(U),oe=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ie,t)||this}return g(t,e),t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=v({},t.sdk,{name:"sentry.javascript.browser",packages:b(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.15.5"}]),version:"5.15.5"}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(f.f)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new C(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else p.a.error("Missing `Dsn` option in showReportDialog call");else p.a.error("Missing `eventId` option in showReportDialog call")}else p.a.error("Trying to call showReportDialog with Sentry Client is disabled")},t}(L),ae=n("tjYc"),se=0;function ue(){return se>0}function ce(){se+=1,setTimeout((function(){se-=1}))}function le(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(e){return le(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(e){throw ce(),Object(ae.c)((function(n){n.addEventProcessor((function(e){var n=v({},e);return t.mechanism&&(Object(f.b)(n,void 0,void 0),Object(f.a)(n,t.mechanism)),n.extra=v({},n.extra,{arguments:r}),n})),Object(ae.a)(e)})),e}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var pe,fe=function(){function e(){this._ignoreOnError=0,this.name=e.id}return e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=le(r,{mechanism:{data:{function:Object(f.e)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e(le(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(f.e)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(f.f)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(R.b)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=le(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(f.e)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,le(r,{mechanism:{data:{function:"addEventListener",handler:Object(f.e)(r),target:e},handled:!0,type:"instrument"}}),i)}})),Object(R.b)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(e){}return e.call(this,t,i,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"==typeof r[e]&&Object(R.b)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:Object(f.e)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=Object(f.e)(t.__sentry_original__)),le(t,n)}))})),e.apply(this,t)}},e.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(f.f)();Object(R.b)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(R.b)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(R.b)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in e&&Object(R.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},e.id="TryCatch",e}(),de=Object(f.f)(),he={},ye={};function _e(e){if(!ye[e])switch(ye[e]=!0,e){case"console":!function(){if(!("console"in de))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in de.console&&Object(R.b)(de.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];ge("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,de.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in de))return;de.document.addEventListener("click",we("click",ge.bind(null,"dom")),!1),de.document.addEventListener("keypress",Oe(ge.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=de[e]&&de[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(R.b)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(R.b)(n,"handleEvent",(function(e){return function(t){return we("click",ge.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&Object(R.b)(n,"handleEvent",(function(e){return function(t){return Oe(ge.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&we("click",ge.bind(null,"dom"),!0)(this),"keypress"===t&&Oe(ge.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),Object(R.b)(t,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(e){}return e.call(this,t,i,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in de))return;var e=XMLHttpRequest.prototype;Object(R.b)(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];return this.__sentry_xhr__={method:Object(P.k)(t[0])?t[0].toUpperCase():t[0],url:t[1]},Object(P.k)(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),e.apply(this,t)}})),Object(R.b)(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i={args:t,startTimestamp:Date.now(),xhr:r};return ge("xhr",T.a({},i)),r.addEventListener("readystatechange",(function(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}ge("xhr",T.a({},i,{endTimestamp:Date.now()}))}})),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!function(){if(!M())return!1;var e=Object(f.f)();if(F(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=F(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){p.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}())return;Object(R.b)(de,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:ve(t),url:Ee(t)},startTimestamp:Date.now()};return ge("fetch",T.a({},r)),e.apply(de,t).then((function(e){return ge("fetch",T.a({},r,{endTimestamp:Date.now(),response:e})),e}),(function(e){throw ge("fetch",T.a({},r,{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(e=Object(f.f)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState,n||!r)return;var e,t,n,r;var i=de.onpopstate;function o(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var i=pe,o=String(r);pe=o,ge("history",{from:i,to:o})}return e.apply(this,t)}}de.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=de.location.href,r=pe;if(pe=n,ge("history",{from:r,to:n}),i)return i.apply(this,e)},Object(R.b)(de.history,"pushState",o),Object(R.b)(de.history,"replaceState",o)}();break;case"error":Ae=de.onerror,de.onerror=function(e,t,n,r,i){return ge("error",{column:r,error:i,line:n,msg:e,url:t}),!!Ae&&Ae.apply(this,arguments)};break;case"unhandledrejection":Re=de.onunhandledrejection,de.onunhandledrejection=function(e){return ge("unhandledrejection",e),!Re||Re.apply(this,arguments)};break;default:p.a.warn("unknown instrumentation type:",e)}}function me(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(he[e.type]=he[e.type]||[],he[e.type].push(e.callback),_e(e.type))}function ge(e,t){var n,r;if(e&&he[e])try{for(var i=T.d(he[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(t){p.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(f.e)(a)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ve(e){return void 0===e&&(e=[]),"Request"in de&&Object(P.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Ee(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in de&&Object(P.g)(e[0],Request)?e[0].url:String(e[0])}var be,Te,Se=0;function we(e,t,n){return void 0===n&&(n=!1),function(r){be=void 0,r&&Te!==r&&(Te=r,Se&&clearTimeout(Se),n?Se=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function Oe(e){return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(be||we("input",e)(t),clearTimeout(be),be=setTimeout((function(){be=void 0}),1e3))}}var Ae=null;var Re=null;var Ce=function(){function e(t){this.name=e.id,this._options=v({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:D.fromString(e.level),message:Object(d.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(d.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(l.a)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(f.h)(e.event.target):Object(f.h)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(l.a)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;Object(l.a)().addBreadcrumb({category:"xhr",data:e.xhr.__sentry_xhr__,type:"http"},{xhr:e.xhr})}else this._options.sentry&&e.xhr.__sentry_own_request__&&Pe(e.args[0])},e.prototype._fetchBreadcrumb=function(e){if(e.endTimestamp){var t=Object(l.a)().getClient(),n=t&&t.getDsn();if(this._options.sentry&&n){var r=new C(n).getStoreEndpoint();if(r&&-1!==e.fetchData.url.indexOf(r)&&"POST"===e.fetchData.method&&e.args[1]&&e.args[1].body)return void Pe(e.args[1].body)}e.error?Object(l.a)().addBreadcrumb({category:"fetch",data:v({},e.fetchData,{status_code:e.response.status}),level:D.Error,type:"http"},{data:e.error,input:e.args}):Object(l.a)().addBreadcrumb({category:"fetch",data:v({},e.fetchData,{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})}},e.prototype._historyBreadcrumb=function(e){var t=Object(f.f)(),n=e.from,r=e.to,i=Object(f.k)(t.location.href),o=Object(f.k)(n),a=Object(f.k)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Object(l.a)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.prototype.setupOnce=function(){var e=this;this._options.console&&me({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,b(t))},type:"console"}),this._options.dom&&me({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,b(t))},type:"dom"}),this._options.xhr&&me({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,b(t))},type:"xhr"}),this._options.fetch&&me({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,b(t))},type:"fetch"}),this._options.history&&me({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,b(t))},type:"history"})},e.id="Breadcrumbs",e}();function Pe(e){try{var t=JSON.parse(e);Object(l.a)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level||D.fromString("error"),message:Object(f.d)(t)},{event:t})}catch(e){p.a.error("Error while adding sentry type breadcrumb")}}var Ie=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=v({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(p.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(p.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(me({callback:function(n){var r=n.error,i=Object(l.a)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!ue()&&!a){var s=i.getClient(),u=Object(P.i)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(Q(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(f.a)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(me({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var i=Object(l.a)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||ue()||a)return!0;var s=i.getClient(),u=Object(P.i)(r)?t._eventFromIncompleteRejection(r):Q(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=D.Error,Object(f.a)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=Object(P.e)(e)?e.message:e;if(Object(P.k)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=Object(P.k)(t)&&t.length>0?t:Object(f.g)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),Ne=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){Object(c.b)((function(t,n){var r=Object(l.a)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(P.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=b(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(P.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=z(G(e[t]));return this._walkErrorTree(e[t],t,b([r],n))},e.id="LinkedErrors",e}(),ke=Object(f.f)(),Le=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(c.b)((function(t){if(Object(l.a)().getIntegration(e)){if(!ke.navigator||!ke.location)return t;var n=t.request||{};return n.url=n.url||ke.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=ke.navigator.userAgent,v({},t,{request:n})}return t}))},e.id="UserAgent",e}(),De=[new i.InboundFilters,new i.FunctionToString,new fe,new Ce,new Ie,new Ne,new Le];function xe(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=De),void 0===e.release){var t=Object(f.f)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}!function(e,t){!0===t.debug&&p.a.enable();var n=Object(l.a)(),r=new e(t);n.bindClient(r)}(oe,e)}},Rblx:function(e,t,n){"use strict";(function(e,r){var i,o=n("XNbM");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n("pCvA"),n("Ono3")(e))},RiSW:function(e,t,n){var r=n("PE9J");e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},RoC8:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},RqrG:function(e,t,n){"use strict";var r=n("7zuG"),i=n("8IKe"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?i(n):n}},RtGL:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.DEBUG=2]="DEBUG",e[e.INFO=4]="INFO",e[e.WARN=8]="WARN",e[e.ERROR=16]="ERROR"}(r||(r={}));const i=class{constructor(e,t="",n=(()=>!1)){this._tagParts=[],this._tagText="",this._enabled=!0,this._level=r.NONE,this.tag="",this.description="",this._predicate=function(){return!1},this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText=`[${e}]`}_print(e,t,n){if(!(this._enabled||this._level&t))return;const r={args:n,type:e,tag:this.tag};this._predicate(r)}matchesTag(e){const t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(let e=0,r=t.length;e<r;e++)if(("*"!==t[e]||!n[e])&&t[e]!==n[e])return!1;return!0}setLevel(e){let t=0;switch(e){case"error":t=r.ERROR;break;case"warn":t=r.WARN|r.ERROR;break;case"info":t=r.INFO|r.WARN|r.ERROR;break;case"debug":t=r.DEBUG|r.INFO|r.WARN|r.ERROR;break;case"log":default:t=r.LOG|r.DEBUG|r.INFO|r.WARN|r.ERROR}this._level=t}enable(){this._enabled=!0}disable(){this._enabled=!1}log(...e){this._print("log",r.LOG,e)}debug(...e){this._print("debug",r.DEBUG,e)}info(...e){this._print("info",r.INFO,e)}warn(...e){this._print("warn",r.WARN,e)}error(...e){this._print("error",r.ERROR,e)}}},Rzld:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"S+Ue":function(e,t,n){"use strict";n.d(t,"c",(function(){return fe})),n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return A}));var r=n("ZCJg"),i={RCProperties:r.iface([],{version:"string",properties:r.array("RCPublishProperty")}),RCPublishProperty:r.iface([],{name:"string",description:"string",enumSpec:r.opt("RCPublishEnumSpec"),boolSpec:r.opt("RCPublishBoolSpec"),intSpec:r.opt("RCPublishIntSpec")}),RCPublishEnumSpec:r.iface([],{default:"string",values:r.array("string")}),RCPublishBoolSpec:r.iface([],{default:"boolean"}),RCPublishIntSpec:r.iface([],{default:"number",lower:"number",upper:"number"}),RCResolverProperty:r.iface([],{name:"string",groupId:r.opt("string"),clientId:r.opt("string"),boolValue:r.opt(r.iface([],{value:"boolean"})),intValue:r.opt(r.iface([],{value:"number"})),enumValue:r.opt(r.iface([],{value:"string"}))})},o=n("AcsX");function a(e){var t=!0,n=Object(o.h64)();return s((function(e){n.update(e),t=!1}),e),t?void 0:n.digest().toString(16)}function s(e,t){switch(typeof t){case"boolean":!function(e,t){e("boolean:"+t)}(e,t);break;case"number":!function(e,t){e("number:"+t)}(e,t);break;case"string":!function(e,t){e("string:"+t.length+":"+t)}(e,t);break;case"object":if(null===t){u(e);break}if(Array.isArray(t)){!function(e,t){e("array:"+t.length+":");for(var n=0,r=t;n<r.length;n++){var i=r[n];void 0===i?u(e):s(e,i)}}(e,t);break}if("function"==typeof t.toJSON){s(e,t.toJSON());break}!function(e,t){var n=Object.keys(t).filter((function(e){return void 0!==t[e]}));n.sort(),e("object:"+n.length+":");for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o+":"),s(e,t[o])}}(e,t)}}function u(e){e("null")}var c,l=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){function e(e){this.spec=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.spec.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"default",{get:function(){var e=this.spec;return{type:e.type,value:e.default}},enumerable:!0,configurable:!0}),e.prototype.isValid=function(e){return"object"==typeof e&&null!==e&&(e.type===this.spec.type&&this.isValidValue(e.value))},e.fromSpec=function(e){switch(e.type){case"bool":return new f(e);case"int":return new d(e);case"enum":return new h(e)}},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.isValidValue=function(e){return"boolean"==typeof e},t}(p),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.isValidValue=function(e){return!!Number.isInteger(e)&&(!(e<this.spec.lower)&&!(e>this.spec.upper))},t}(p),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.isValidValue=function(e){return"string"==typeof e&&!(this.spec.values.indexOf(e)<0)},t}(p),y=function(){function e(e){this.properties=m(e,(function(e){return p.fromSpec(e)})),this.size=Object.keys(this.properties).length}return e.prototype.getPropertySetKey=function(e){return a({clientId:e.clientId,version:e.version,properties:this.properties})},e.prototype.getDefaultValues=function(){return m(this.properties,(function(e){return e.default}))},e.prototype.coerceValues=function(e){return void 0===e&&(e={}),_((function(e,t,n){if(!e)throw new Error("Unknown property "+n);if(!t)return e.default;if(!e.isValid(t))throw new Error("Invalid property "+n);return t}),this.properties,e)},e.prototype.override=function(e){return void 0===e&&(e={}),_((function(e,t,n){if(!e)throw new Error("Unknown property "+n);if(!t)return e.default;if(!e.isValidValue(t))throw new Error("Invalid property "+n);return{type:e.type,value:t}}),this.properties,e)},e.fromPropertiesDefinition=function(e){return g.validate(e),g.toPropertySet(e)},e}();function _(e,t,n){for(var r={},i=0,o=Object.keys(t);i<o.length;i++){void 0!==(c=e(t[u=o[i]],n[u],u))&&(r[u]=c)}for(var a=0,s=Object.keys(n);a<s.length;a++){var u,c;if(!((u=s[a])in t))void 0!==(c=e(void 0,n[u],u))&&(r[u]=c)}return r}function m(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n[a]=t(s,a)}return n}var g,v,E,b,T,S,w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};(v=g||(g={})).validate=function(e){if(!e)throw new Error("properties are not defined!");var t=Object(r.createCheckers)(i).RCProperties;try{t.strictCheck(e)}catch(e){throw new Error("Validation error in properties: "+e.message)}return!0},v.toPropertySet=function(e){var t=e.properties.reduce((function(e,t){var n;return w(w({},e),((n={})[t.name]=E.toPropSpec(t),n))}),{});return new y(t)},function(e){e.toPropSpec=function(e){var t=e.name,n=e.description,r=O(e,["name","description"]);if(r.boolSpec)return w({type:"bool",description:n},r.boolSpec);if(r.intSpec)return w({type:"int",description:n},r.intSpec);if(r.enumSpec)return w({type:"enum",description:n},r.enumSpec);throw new Error("Missing valid spec for property "+t)}}(E||(E={})),function(e){e.equal=function(e,t){return!(!e||!t)&&(e.type===t.type&&e.value===t.value)}}(b||(b={})),function(e){e.equal=function(e,t){var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!b.equal(e[o],t[o]))return!1}return!0},e.entries=function(e){return Object.entries(e)}}(T||(T={})),function(e){e[e.MILLISECOND=1]="MILLISECOND",e[e.SECOND=1e3]="SECOND",e[e.MINUTE=6e4]="MINUTE",e[e.HOUR=36e5]="HOUR"}(S||(S={})),function(e){function t(t,n){var r=1!==t?"s":"";switch(n){case e.HOUR:return t+" hour"+r;case e.MINUTE:return t+" minute"+r;case e.SECOND:return t+" second"+r;case e.MILLISECOND:return t+" millisecond"+r;default:throw new TypeError("Unknown TimeUnit "+n)}}e.stringify=function(n,r){void 0===r&&(r=[e.HOUR,e.MINUTE,e.SECOND]);for(var i=n,o=[],a=0,s=r;a<s.length;a++){var u=s[a],c=Math.floor(i/u);c>0&&(o.push(t(c,u)),i-=c*u)}if(i>0&&o.push(t(i,e.MILLISECOND)),o.length>=2){var l=o.pop();o.push(o.pop()+" and "+l)}return o.join(", ")}}(S||(S={}));var A,R=1*S.HOUR,C=30*S.SECOND;!function(e){e.FETCH="fetch",e.ACTIVATE="activate",e.REFRESH="refresh",e.CHANGE="change"}(A||(A={}));var P,I=n("4z+8"),N=n.n(I);!function(e){e.toPromiseProvider=function(e){if("function"!=typeof e)throw new TypeError("TokenProvider must be a function");return function(){return new Promise((function(t,n){var r=e((function(e,n){t("number"==typeof n?[e,n]:e)}));r&&"function"==typeof r.then&&r.then(t,n)}))}}}(P||(P={}));var k=n("cPgy"),L=n.n(k);var D,x,U,M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},F=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},B=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},V={"App-Platform":"browser","Spotify-App-Version":"1.0.0"};!function(e){e.getUniqueGroupIds=function(e){for(var t=e.properties,n=new Set,r=0,i=Object.values(t);r<i.length;r++){var o=i[r].groupId;o&&n.add(o)}return Array.from(n)}}(D||(D={})),function(e){e[e.NONE=0]="NONE",e[e.TRANSPORT=1]="TRANSPORT",e[e.EVENT_SENDER=2]="EVENT_SENDER"}(x||(x={})),function(e){e.BACKGROUND_SYNC="background_sync",e.BLOCKING="blocking",e.DELAYED="delayed"}(U||(U={}));var H=function(){function e(e){var t=e.getToken,n=e.transport,r=e.eventSender,i=B(e,["getToken","transport","eventSender"]);if(this.refreshFlag=x.NONE,!n){if(!t)throw new Error("Either transport or getToken must be provided");n=function(e){var t=N()({providers:{token:P.toPromiseProvider(e),endpoints:function(){return Promise.resolve({webgate:"https://spclient.wg.spotify.com"})}}});return t.connect(),t}(t),this.refreshFlag|=x.TRANSPORT}r||(r=L.a.create({transport:n}),this.refreshFlag|=x.EVENT_SENDER),this.transport=n,this.eventSender=r,this.clientConfig=i}return e.prototype.resolveConfig=function(e){var t=e.timeout,n=void 0!==t&&t,r=e.propertySetKey,i=e.fetchType,o=this.clientConfig,a="/v2/configs/platforms/web/clients/"+o.clientId+"/property-sets/"+r+"?installation-id="+o.installationId;return i&&(a+="&fetch-type="+i),this.request(a,{method:"GET",timeout:n}).then((function(e){var t=e.properties,n=void 0===t?[]:t,r=e.rcsFetchTime,i=void 0===r?"":r;return{configurationAssignmentId:e.configurationAssignmentId,properties:W(n),rcsFetchTime:i,clientFetchTime:Date.now()}}))},e.prototype.configApplied=function(e,t,n){return F(this,void 0,void 0,(function(){var r,i,o;return j(this,(function(a){switch(a.label){case 0:return r=this.clientConfig,i=r.clientId,o=r.installationId,this.eventSender.log({name:"ConfigurationApplied",data:{rc_client_id:i,installation_id:o,configuration_assignment_id:e,policy_group_ids:t.map(Number),last_rcs_fetch_time:n,platform:"WEB"}},!1),[4,this.eventSender.flush()];case 1:return a.sent(),[2]}}))}))},e.prototype.defaultConfigApplied=function(e){return F(this,void 0,void 0,(function(){var t,n,r;return j(this,(function(i){switch(i.label){case 0:return t=this.clientConfig,n=t.clientId,r=t.installationId,this.eventSender.log({name:"DefaultConfigurationApplied",data:{rc_client_id:n,installation_id:r,configuration_assignment_id:e}},!1),[4,this.eventSender.flush()];case 1:return i.sent(),[2]}}))}))},e.prototype.refresh=function(){return F(this,void 0,void 0,(function(){var e;return j(this,(function(t){switch(t.label){case 0:if(e=x.NONE,!(this.refreshFlag&x.EVENT_SENDER))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.eventSender.flush()];case 2:return t.sent(),e|=x.EVENT_SENDER,[3,4];case 3:return t.sent(),[3,4];case 4:if(!(this.refreshFlag&x.TRANSPORT))return[3,8];t.label=5;case 5:return t.trys.push([5,7,,8]),[4,this.transport.forceTokenRefresh()];case 6:return t.sent(),e|=x.TRANSPORT,[3,8];case 7:return t.sent(),[3,8];case 8:return[2,e]}}))}))},e.prototype.request=function(e,t){var n=t.method,r=t.payload,i=t.timeout,o=void 0!==i&&i,a=t.retries,s=void 0===a?5:a,u={method:n,headers:M({},V),responseType:"json",rejectNotOk:!0,retry:{maxRetries:s}};return r&&(u.payload=JSON.stringify(r),u.headers["Content-Type"]="application/json"),this.transport.isAuthenticated()||this.transport.authenticate(),function(e,t,n){return void 0===n&&(n=new Error("Timeout")),!1===t||t<0?e:Promise.race([e,new Promise((function(e,r){setTimeout((function(){r(n)}),t)}))])}(this.transport.request("@webgate/remote-config-resolver"+e,u).then((function(e){return e.body})),o,new Error("RcsClient request timeout"))},e}();function W(e){void 0===e&&(e=[]);for(var t=Object.create(null),n=0,r=e;n<r.length;n++){var i=r[n],o=i.groupId;i.boolValue?t[i.name]={type:"bool",value:i.boolValue.value,groupId:o}:i.intValue?t[i.name]={type:"int",value:i.intValue.value,groupId:o}:i.enumValue&&(t[i.name]={type:"enum",value:i.enumValue.value,groupId:o})}return t}var K=function(){function e(e){this.storage=e}return e.prototype.get=function(e){if("string"!=typeof e)throw new Error("key must be a string");var t=this.storage.getItem(e);if("string"==typeof t)return JSON.parse(t)},e.prototype.set=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");var n=JSON.stringify(t);this.storage.setItem(e,n)},e}(),G=function(){function e(e,t){this.cache=new K(e),this.cacheKey="com.spotify.single.item.cache:"+t}return e.prototype.get=function(e){if("string"!=typeof e)throw new Error("key must be a string");var t=this.cache.get(this.cacheKey);if(t&&t.key===e)return t.value},e.prototype.set=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");var n={key:e,value:t};this.cache.set(this.cacheKey,n)},e}(),Y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),q=new Uint8Array(16);function z(){if(!Y)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(q)}for(var X=[],$=0;$<256;++$)X[$]=($+256).toString(16).substr(1);var Q=function(e,t){var n=t||0,r=X;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var J=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||z)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||Q(i)};function Z(e){try{var t=" "+document.cookie+";",n=t.indexOf(" "+e+"=");if(n>=0){n+=e.length+2;var r=t.indexOf(";",n);return t.slice(n,r)}if(t.indexOf(" "+e+";")>=0)return""}catch(e){}}function ee(e,t){return void 0===t&&(t=!0),new Promise((function(n){var r=setTimeout(n,e);if(t&&"object"==typeof r&&"function"==typeof r.unref)try{r.unref()}catch(e){}}))}function te(e){return function(e){if(!e)return;var t=e.getItem("com.spotify.rcs.installationId");t||(t=Z("sp_t")||J(),e.setItem("com.spotify.rcs.installationId",t));return t}(e)||Z("sp_t")||""}var ne=function(){},re=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=ne),this.task=e,this.schedule=t,this.onerror=n,t&&this.reschedule(t)}return e.prototype.reschedule=function(e){var t=this;e.then((function(n){if(t.schedule===e){t.schedule=null;try{t.task.call(null,n)}catch(e){t.onerror.call(null,e)}}}),this.onerror),this.schedule=e},e.prototype.cancel=function(){this.schedule=null},e}(),ie=n("hes8"),oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.activeProperties=t,n.activationPromise=t?Promise.resolve():new Promise((function(e){n.once(A.CHANGE,e)})),n}return oe(t,e),t.withOverride=function(e,n){var r=g.toPropertySet(e);return new(function(e){function t(){return e.call(this,n?r.override(n):null)||this}return oe(t,e),t.prototype.override=function(e){void 0===e&&(e=null),this.setActive(e?r.override(e):null)},t}(t))},t.prototype.setActive=function(e){void 0===e&&(e=null),this.activeProperties!==e&&(null!==this.activeProperties&&null!==e&&T.equal(e,this.activeProperties)||(this.activeProperties=e,this.emit(A.CHANGE)))},t.prototype.getBool=function(e){return this.get("bool",e)},t.prototype.getInt=function(e){return this.get("int",e)},t.prototype.getEnum=function(e){return this.get("enum",e)},t.prototype.getPropertiesAsObject=function(){var e=this.activeProperties;if(!e)throw new Error("Active properties are not yet available. Did you call resolver.load() and wait for it to complete?");return T.entries(e).reduce((function(e,t){var n=t[0],r=t[1].value;return e[n]=r,e}),{})},Object.defineProperty(t.prototype,"isActive",{get:function(){return null!==this.activeProperties},enumerable:!0,configurable:!0}),t.prototype.get=function(e,t){if(!this.activeProperties)throw new Error("You must activate a config before getting values.");var n=this.activeProperties[t];if(!n)throw new Error('Property "'+t+'" could not be found. Did you forget to define it in properties.yaml?');if(n.type!==e)throw new Error('Property "'+t+'" of type '+n.type+" was accessed as "+e);return n.value},t}(ie.EventEmitter),se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fe=function(e){function t(n){var r,i=n.clientId,o=n.getToken,a=n.transport,s=n.eventSender,u=n.properties,c=n.storage,l=void 0===c?function(){try{if(localStorage.setItem("random-key-8bd1050edb44","random-key-8bd1050edb44"),"random-key-8bd1050edb44"!==localStorage.getItem("random-key-8bd1050edb44"))return;return localStorage.removeItem("random-key-8bd1050edb44"),localStorage}catch(e){}}():c,p=n.timeout,f=void 0===p?300:p,d=n.installationId,h=void 0===d?te(l||void 0):d,y=n.backgroundFetchInterval,_=void 0===y?l&&R||void 0:y,m=e.call(this)||this;if(m.context=null,m.configuration=null,m.brokenState=null,m.pendingResolves={},g.validate(u),m.clientId=i,m.propertySet=g.toPropertySet(u),m.propertySetKey=m.propertySet.getPropertySetKey({clientId:i,version:u.version}),m.installationId=h,m.timeout=f,m.rcsClient=new H({clientId:i,installationId:h,getToken:o,transport:a,eventSender:s}),"string"==typeof(r=h)&&r.length>5||(m.brokenState="Missing valid installationId"),l){var v=new G(l,"rcs:"+m.clientId);m.setupCacheStrategy(v)}if(_){if(_<C)throw new Error("backgroundFetchInterval must be at least "+S.stringify(C));l||t.logDeveloperWarning("You have disabled storage but configured backgroundFetch. And explain how this doesn't make sense..."),m.setupBackgroundFetchStrategy(_)}return m.on("refresh",(function(e){(e&&e.userKey)!==(m.context&&m.context.userKey)&&m.rcsClient.refresh()})),m}return se(t,e),t.logDeveloperWarning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.swallowException=function(e){t.logDeveloperWarning("Caught exception that would have been swallowed in production:",e)},t.prototype.refresh=function(e){if(void 0===e&&(e=null),"object"!=typeof e)throw new TypeError("context must be of type object or null");null!==e&&a(this.context)===a(e)||this.updateContext(e)},t.prototype.fetch=function(e){var n=this,r=void 0===e?{}:e,i=r.timeout,o=void 0===i?this.timeout:i,s=r.fetchType;if(this.brokenState)return t.logDeveloperWarning("Will not fetch due to "+this.brokenState),Promise.resolve(!1);if(0===o)return Promise.resolve(!1);if(0===this.propertySet.size)return Promise.resolve(!1);var u=this.propertySetKey,c=a(this.context);return this.rcsClient.resolveConfig({timeout:o,propertySetKey:u,fetchType:s}).then((function(e){return a(n.context)===c&&(n.updateConfiguration(e),!0)})).catch((function(e){return t.logDeveloperWarning("Remote Config Resolver: Fetch failed.",e),!1}))},t.prototype.activate=function(){this.updateActive(this.configuration)},t.prototype.resolve=function(e){var t=this;if(void 0===e&&(e={}),"object"!=typeof e)throw new TypeError("context must be of type object or null");var n=a(e);return n in this.pendingResolves||(this.pendingResolves[n]=this.guardedLoad(e).finally((function(){delete t.pendingResolves[n]}))),this.pendingResolves[n]},t.prototype.setupCacheStrategy=function(e){var n=this;this.on(A.FETCH,(function(){if(n.context&&n.configuration)try{e.set(a(n.context),n.configuration)}catch(e){t.swallowException(e)}})),this.on(A.REFRESH,(function(){try{var r=e.get(a(n.context));r&&(n.configuration=n.filterInvalidGroups(r))}catch(e){t.swallowException(e)}}))},t.prototype.filterInvalidGroups=function(e){for(var t=e.properties,n=pe(e,["properties"]),r=new Set,i=0,o=Object.entries(t);i<o.length;i++){var a=o[i],s=a[0],u=a[1],c=this.propertySet.properties[s];c&&c.isValid(u)||r.add(u.groupId)}for(var l={},p=0,f=Object.entries(t);p<f.length;p++){var d=f[p],h=d[0];u=d[1];r.has(u.groupId)||(l[h]=u)}return ue(ue({},n),{properties:l})},t.prototype.setupBackgroundFetchStrategy=function(e){var t=this,n=new re((function(e){t.fetch({timeout:!1,fetchType:e})})),r=!1,i=!1;this.on(A.REFRESH,(function(){n.cancel(),i=!1,r=!1})),this.on(A.ACTIVATE,(function(){i||(i=!0,n.reschedule(r?ee(e).then((function(){return U.BACKGROUND_SYNC})):new Promise((function(e){try{"complete"===document.readyState?e():window.addEventListener("load",(function(){e()}))}catch(t){e()}})).then((function(){return U.DELAYED}))))})),this.on(A.FETCH,(function(){r=!0,i&&n.reschedule(ee(e).then((function(){return U.BACKGROUND_SYNC})))}))},t.prototype.guardedLoad=function(e){return ce(this,void 0,void 0,(function(){var t;return le(this,(function(n){switch(n.label){case 0:return t=!e||null===e.userKey,this.refresh(e),this.configuration||t?[3,2]:[4,this.fetch({fetchType:U.BLOCKING})];case 1:n.sent(),n.label=2;case 2:return this.activeProperties&&!t||this.activate(),[2]}}))}))},t.prototype.updateContext=function(e){this.configuration=null,this.activeProperties=null;var t=this.context;this.context=e?Object.freeze(ue({},e)):null,this.emit(A.REFRESH,t)},t.prototype.updateConfiguration=function(e){this.configuration=e,this.emit(A.FETCH)},t.prototype.updateActive=function(e){this.setActive(this.propertySet.coerceValues(e?e.properties:{})),this.emit(A.ACTIVATE),this.logApplied(this.configuration).catch((function(e){t.swallowException(e)}))},t.prototype.logApplied=function(e){if(0===this.propertySet.size)return Promise.resolve();if(null===e)return this.rcsClient.defaultConfigApplied();var t=e.rcsFetchTime,n=D.getUniqueGroupIds(e);return 0===n.length?this.rcsClient.defaultConfigApplied(e.configurationAssignmentId):this.rcsClient.configApplied(e.configurationAssignmentId,n,t)},t}(ae),de=A;(fe||(fe={})).Event=de},"Sk/a":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("uIAw")),r(n("l3xc"))},TBe3:function(e,t,n){"use strict";e.exports=function(){return{name:"context_time",data:{timestamp:Date.now()}}}},TDIH:function(e,t,n){"use strict";var r=n("ovh1"),i=n("5QbJ"),o=n("uahg"),a=n("Zrjs");function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n("bRtl"));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n("tImM"),u.CancelToken=n("OHXD"),u.isCancel=n("e5jZ"),u.all=function(e){return Promise.all(e)},u.spread=n("6s8r"),e.exports=u,e.exports.default=u},TRFn:function(e,t,n){"use strict";var r=n("mpLd");e.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},TZip:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n("rAIa")),a=i(n("hwum")),s=i(n("1LYH")),u=i(n("gHi2")),c=i(n("Qk0H")),l=n("q4CX");function p(e){return t=>e.isAuthenticated()?a.default(t):s.default(t)}class f{constructor(e,t,n="browser"){this.logger=e,this.createEvent=t,this.environment=n}static create(e){const t={getToken:e.getToken,enableDebugInfo:e.enableDebugInfo,noAuthentication:!e.getToken};e.internal&&(t.endpoints={webgate:l.INTERNAL_WEBGATE_URL}),e.context&&(t.context=[...e.context]);const n=u.default(t),r=p(n._transport);return new f(n,r,e.environment)}static createWithCustomTransport(e){const t=o.default.create({transport:e.transport,enableDebugInfo:e.enableDebugInfo}),n=p(e.transport);return new f(t,n,e.environment)}send(e){return r(this,void 0,void 0,(function*(){for(const t of e){const e=Object.assign({},t);e.tags=Object.assign({},e.tags),e.tags.environment&&c.default.error("`tags.environment` must not be set. It is a reserved tag and will be overwritten."),e.tags.environment=this.environment,this.logger.log(this.createEvent(Object.assign({},e)),!1)}return this.logger.flush()}))}}t.EventSenderReporter=f},U2jI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d}));var r,i=n("mXGw"),o=(n("W0B4"),Object(i.createContext)(null)),a=n("S+Ue"),s=function(e){return i.createElement(o.Provider,{value:e.resolver},e.children)},u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var l=function(e,t){return function(n){if("function"!=typeof e)throw new Error("mapConfigurationToProps must be a function");if(null===t||"object"!=typeof t||!("blockRendering"in t))throw new Error('"blockRendering" option is required');var r,s=t.blockRendering,l=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={mappedProps:e.getMappedProps()},e.handleActivate=function(){e.setState({mappedProps:e.getMappedProps()})},e}return u(r,t),r.prototype.componentDidMount=function(){this.props.configuration.addListener(a.b.CHANGE,this.handleActivate)},r.prototype.componentWillUnmount=function(){this.props.configuration.removeListener(a.b.CHANGE,this.handleActivate)},r.prototype.getMappedProps=function(){var t=this.props,n=t.configuration,r=t.passThroughProps;if(!n.isActive&&s)return null;var i=e(n,r);return void 0===i?{}:i},r.prototype.render=function(){var e=this.props.passThroughProps,t=this.state.mappedProps;return t&&i.createElement(n,c({},c(c({},e),t)))},r}(i.Component),p=function(e){return i.createElement(o.Consumer,null,(function(t){if(!t)throw new Error("You need to wrap this component in a RemoteConfigProvider");return i.createElement(l,{passThroughProps:e,configuration:t})}))};return p.displayName="WithRemoteConfig("+((r=n).displayName||r.name||"Component")+")",p}};function p(e){void 0===e&&(e={});var t=e.Context,n=void 0===t?o:t,r=Object(i.useContext)(n);if(!r)throw new Error("RemoteConfigContext is undefined");if(!r.isActive)throw r.activationPromise;return r}function f(e,t){return p(t).getInt(e)}function d(e,t){return p(t).getBool(e)}},U5QU:function(e,t,n){!function(){var t="0123456789abcdef",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];r.length=256;for(var i=0;i<256;i++)r[i]=t[i>>4]+t[15&i];var o=[];o.length=128;for(i=0;i<n.length;++i)o[n.charCodeAt(i)]=i;var a=[];for(i=0;i<16;i++)a[t.charCodeAt(i)]=i;for(i=0;i<6;i++)a["ABCDEF".charCodeAt(i)]=10+i;var s={toHex:function(e){if(22!==e.length)return null;var t,n,i,a,s,u=2.3283064365386963e-10,c=4294967296,l=238328;return t=56800235584*o[e.charCodeAt(0)]+916132832*o[e.charCodeAt(1)]+14776336*o[e.charCodeAt(2)]+238328*o[e.charCodeAt(3)]+3844*o[e.charCodeAt(4)]+62*o[e.charCodeAt(5)]+o[e.charCodeAt(6)],t=(t-=(n=t*u|0)*c)*l+(s=3844*o[e.charCodeAt(7)]+62*o[e.charCodeAt(8)]+o[e.charCodeAt(9)]),t-=(s=t*u|0)*c,n=n*l+s,t=t*l+(s=3844*o[e.charCodeAt(10)]+62*o[e.charCodeAt(11)]+o[e.charCodeAt(12)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=s,t=t*l+(s=3844*o[e.charCodeAt(13)]+62*o[e.charCodeAt(14)]+o[e.charCodeAt(15)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,t=t*l+(s=3844*o[e.charCodeAt(16)]+62*o[e.charCodeAt(17)]+o[e.charCodeAt(18)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=s,t=t*l+(s=3844*o[e.charCodeAt(19)]+62*o[e.charCodeAt(20)]+o[e.charCodeAt(21)]),t-=(s=t*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=a*l+s,a-=(s=a*u|0)*c,s?null:r[a>>>24]+r[a>>>16&255]+r[a>>>8&255]+r[255&a]+r[i>>>24]+r[i>>>16&255]+r[i>>>8&255]+r[255&i]+r[n>>>24]+r[n>>>16&255]+r[n>>>8&255]+r[255&n]+r[t>>>24]+r[t>>>16&255]+r[t>>>8&255]+r[255&t]},fromHex:function(e){var t,r=0,i=0,o=0;for(t=0;t<10;t++)o=16*o+a[e.charCodeAt(t)];for(t=0;t<11;t++)i=16*i+a[e.charCodeAt(t+10)];for(t=0;t<11;t++)r=16*r+a[e.charCodeAt(t+21)];if(isNaN(r+i+o))return null;var s,u=17592186044416,c="";for(t=0;t<7;++t)s=((s=((s=o)-62*(o=Math.floor(s*(1/62))))*u+i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(i+=o*u;t<15;++t)s=((s=i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(r+=i*u;t<21;++t)s=r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;return n[r]+c},HEX256:r,ID16:a,ID62:o};void 0!==e.exports?e.exports=s:window.Base62=s}()},UK3a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callIfExists=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)},t.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.uniqueId=function(){return Math.random().toString(36).substring(7)};t.cssClasses={menu:"react-contextmenu",menuVisible:"react-contextmenu--visible",menuWrapper:"react-contextmenu-wrapper",menuItem:"react-contextmenu-item",menuItemActive:"react-contextmenu-item--active",menuItemDisabled:"react-contextmenu-item--disabled",menuItemDivider:"react-contextmenu-item--divider",menuItemSelected:"react-contextmenu-item--selected",subMenu:"react-contextmenu-submenu"},t.store={},t.canUseDOM=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)},USb2:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return v}));var r=n("oNR1"),i=n("7L9N"),o=n("mXGw"),a=n.n(o),s=n("nVfp"),u=(n("W0B4"),n("Fcif")),c=n("+I+c");var l=function(e,t){if(!e)throw new Error("Invariant failed")};a.a.Component;a.a.Component;var p=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?Object(s.c)(e,null,null,t):e},d=function(e){return e},h=a.a.forwardRef;void 0===h&&(h=d);var y=h((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=d!==h&&t||n,a.a.createElement("a",l)}));var _=h((function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,_=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||l(!1);var n=e.history,r=f(p(s,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},m,{href:c,navigate:function(){var t=p(s,e.location);(o?n.replace:n.push)(t)}});return d!==h?y.ref=t||_:y.innerRef=_,a.a.createElement(i,y)}))})),m=function(e){return e},g=a.a.forwardRef;void 0===g&&(g=m);var v=g((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,h=e.className,y=e.exact,v=e.isActive,E=e.location,b=e.strict,T=e.style,S=e.to,w=e.innerRef,O=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||l(!1);var n=E||e.location,o=f(p(S,n),n),c=o.pathname,A=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),R=A?Object(r.f)(n.pathname,{path:A,exact:y,strict:b}):null,C=!!(v?v(R,n):R),P=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(h,s):h,I=C?Object(u.a)({},T,{},d):T,N=Object(u.a)({"aria-current":C&&i||null,className:P,style:I,to:o},O);return m!==g?N.ref=t||w:N.innerRef=w,a.a.createElement(_,N)}))}))},UYf4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("DCgI"),i=n("nsI8"),o=n("E6vx"),a=n("3ZRO"),s=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){e._scopeListeners.forEach((function(t){t(e)})),e._notifyingListeners=!1})))},e.prototype._notifyEventProcessors=function(e,t,n,a){var s=this;return void 0===a&&(a=0),new i.a((function(i,u){var c=e[a];if(null===t||"function"!=typeof c)i(t);else{var l=c(r.a({},t),n);Object(o.m)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,a+1).then(i)})).then(null,u):s._notifyEventProcessors(e,l,n,a+1).then(i).then(null,u)}}))},e.prototype.setUser=function(e){return this._user=e||{},this._notifyScopeListeners(),this},e.prototype.setTags=function(e){return this._tags=r.a({},this._tags,e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=r.a({},this._tags,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=r.a({},this._extra,e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=r.a({},this._extra,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this._transaction=e,this._span&&(this._span.transaction=e),this._notifyScopeListeners(),this},e.prototype.setContext=function(e,t){var n;return this._context=r.a({},this._context,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=r.b(t._breadcrumbs),n._tags=r.a({},t._tags),n._extra=r.a({},t._extra),n._context=r.a({},t._context),n._user=t._user,n._level=t._level,n._span=t._span,n._transaction=t._transaction,n._fingerprint=t._fingerprint,n._eventProcessors=r.b(t._eventProcessors)),n},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=r.a({timestamp:Object(a.l)()},e);return this._breadcrumbs=void 0!==t&&t>=0?r.b(this._breadcrumbs,[n]).slice(-t):r.b(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=r.a({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=r.a({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=r.a({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=r.a({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._span&&(e.contexts=r.a({trace:this._span.getTraceContext()},e.contexts)),this._applyFingerprint(e),e.breadcrumbs=r.b(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(r.b(u(),this._eventProcessors),e,t)},e}();function u(){var e=Object(a.f)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function c(e){u().push(e)}},UdKW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(l,0),e}};t.unstable_now=function(){return Date.now()},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,f=window.Date,d=window.setTimeout,h=window.clearTimeout,y=window.requestAnimationFrame;window.cancelAnimationFrame;t.unstable_now="object"==typeof p&&"function"==typeof p.now?function(){return p.now()}:function(){return f.now()};var _=!1,m=null,g=-1,v=-1,E=33.33,b=-1,T=-1,S=0,w=!1;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e||(0<e?(E=Math.floor(1e3/e),w=!0):(E=33.33,w=!1))};var O=function(){if(null!==m){var e=t.unstable_now(),n=0<S-e;try{m(n,e)||(m=null)}catch(e){throw R.postMessage(null),e}}},A=new MessageChannel,R=A.port2;A.port1.onmessage=O;var C=function(e){if(null===m)T=b=-1,_=!1;else{_=!0,y((function(e){h(g),C(e)}));var n=function(){S=t.unstable_now()+E/2,O(),g=d(n,3*E)};if(g=d(n,3*E),-1!==b&&.1<e-b){var r=e-b;!w&&-1!==T&&r<E&&T<E&&(8.33>(E=r<T?T:r)&&(E=8.33)),T=r}b=e,S=e+E,R.postMessage(null)}};r=function(e){m=e,_||(_=!0,y((function(e){C(e)})))},i=function(e,n){v=d((function(){e(t.unstable_now())}),n)},o=function(){h(v),v=-1}}var P=null,I=null,N=null,k=3,L=!1,D=!1,x=!1;function U(e,t){var n=e.next;if(n===e)P=null;else{e===P&&(P=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=k;var i=N;k=e.priorityLevel,N=e;try{var o=e.expirationTime<=t;switch(k){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(e){throw e}finally{k=r,N=i}if("function"==typeof a)if(t=e.expirationTime,e.callback=a,null===P)P=e.next=e.previous=e;else{a=null,o=P;do{if(t<=o.expirationTime){a=o;break}o=o.next}while(o!==P);null===a?a=P:a===P&&(P=e),(t=a.previous).next=a.previous=e,e.next=a,e.previous=t}}function M(e){if(null!==I&&I.startTime<=e)do{var t=I,n=t.next;if(t===n)I=null;else{I=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,V(t,t.expirationTime)}while(null!==I&&I.startTime<=e)}function F(e){x=!1,M(e),D||(null!==P?(D=!0,r(j)):null!==I&&i(F,I.startTime-e))}function j(e,n){D=!1,x&&(x=!1,o()),M(n),L=!0;try{if(e){if(null!==P)do{U(P,n),M(n=t.unstable_now())}while(null!==P&&!a())}else for(;null!==P&&P.expirationTime<=n;)U(P,n),M(n=t.unstable_now());return null!==P||(null!==I&&i(F,I.startTime-n),!1)}finally{L=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function V(e,t){if(null===P)P=e.next=e.previous=e;else{var n=null,r=P;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==P);null===n?n=P:n===P&&(P=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var H=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===I)I=e.next=e.previous=e;else{n=null;var c=I;do{if(a<c.startTime){n=c;break}c=c.next}while(c!==I);null===n?n=I:n===I&&(I=e),(a=n.previous).next=n.previous=e,e.next=n,e.previous=a}null===P&&I===e&&(x?o():x=!0,i(F,u-s))}else V(e,a),D||L||(D=!0,r(j));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===P?P=null:e===I&&(I=null);else{e===P?P=t:e===I&&(I=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_shouldYield=function(){var e=t.unstable_now();return M(e),null!==N&&null!==P&&P.startTime<=e&&P.expirationTime<N.expirationTime||a()},t.unstable_requestPaint=H,t.unstable_continueExecution=function(){D||L||(D=!0,r(j))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return P}},"V+xs":function(e,t,n){"use strict";var r=n("VwiP"),i=n("ZQMo").supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},V0bL:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n("pm3V"),o=Object.keys,a=o?function(e){return o(e)}:n("ViLm"),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},VWOr:function(e,t,n){"use strict";var r=n("ZjB5"),i=n("hF0+")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},VaBs:function(e,t,n){"use strict";var r=n("DBfd"),i=n("GLmc"),o=n("6KKQ"),a=n("L1Yw"),s=n("b2zt");e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:r(e)?"String":i(e)?"Number":o(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},VdJd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"localize",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var r,i=(r=n("XPvw"))&&r.__esModule?r:{default:r};var o,a,s,u,c,l,p=(o={blacklistedNodeNames:["STYLE"]},a=null,s={characterData:!0,childList:!0,subtree:!0},u=function(e){return e&&"string"==typeof e},c=function(e){var t=function(e){for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(function(e){return/[^\s]/.test(e.nodeValue)?o.blacklistedNodeNames.includes(e.parentElement.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),r=[];t=n.nextNode();)r.push(t);return r}(e),n=!0,r=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value,p=l.nodeValue;u(p)&&(l.nodeValue=(0,i.default)(p,o))}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}},l=function(e){var t=!0,n=!1,r=void 0;try{for(var l,p=e[Symbol.iterator]();!(t=(l=p.next()).done);t=!0){var f=l.value;if("childList"===f.type&&f.addedNodes.length>0)a.disconnect(),f.addedNodes.forEach(c),a.observe(document.body,s);else if("characterData"===f.type){var d=f.target.nodeValue,h=o.blacklistedNodeNames.includes(f.target.parentElement.nodeName);u(d)&&!h&&(a.disconnect(),f.target.nodeValue=(0,i.default)(d,o),a.observe(document.body,s))}}}catch(e){n=!0,r=e}finally{try{t||null==p.return||p.return()}finally{if(n)throw r}}},{start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strategy,n=void 0===t?"accented":t,r=e.blacklistedNodeNames,i=void 0===r?o.blacklistedNodeNames:r;o.blacklistedNodeNames=i,o.strategy=n,c(document.body),(a=new MutationObserver(l)).observe(document.body,s)},stop:function(){a&&a.disconnect()},localize:i.default});t.default=p},ViLm:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n("pm3V"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(r&&e.length>0)for(var _=0;_<e.length;++_)f.push(String(_));else for(var m in e)h&&"prototype"===m||!i.call(e,m)||f.push(String(m));if(u)for(var g=function(e){if("undefined"==typeof window||!d)return p(e);try{return p(e)}catch(e){return!1}}(e),v=0;v<l.length;++v)g&&"constructor"===l[v]||!i.call(e,l[v])||f.push(l[v]);return f}}e.exports=r},VtxT:function(e,t,n){"use strict";var r=n("asuC"),i=n("6GjV"),o=n("2Era"),a=n("hbV+"),s=n("Mj+E"),u=n("nAES"),c=function(){},l={POST:!0,PUT:!0,DELETE:!0},p={json:!0,text:!0,document:!0},f={},d=r.resolve(f);function h(e,t){var n=t||{};this._url=e,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._canceller=n.canceller||r.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._withCredentials="include"===n.credentials,this._forcePolyfill=n.forcePolyfill,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._xhr=new XMLHttpRequest,this._abort=this._abort.bind(this)}h.request=function(e,t){return new h(e,t).send()},h.prototype._abort=function(){this._xhr&&(this._xhr.abort(),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,this._xhr=null)},h.prototype._handleStateChanged=function(e,t,n){this._xhr&&4===this._xhr.readyState&&(this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,r.race([this._canceller,d]).then(function(r){if(r===f&&this._xhr){var a=this._xhr;if(a){var u=a.status,c=new i(a.responseURL||e,u);if(c.body=null,n&&n.isOnline&&(c.offline=!n.isOnline()),(this._parseResponseHeaders||u>299)&&(c.headers=new o(a.getAllResponseHeaders())),!this._ignoreResponseBody&&u!==s.NO_CONTENT&&2===c.getStatusFamily()){var l=this._responseType;if(!this._forcePolyfill&&"response"in a&&l===a.responseType)c.body=a.response;else if("document"===l)c.body=a.responseXML;else if("json"===l)try{c.body=JSON.parse(a.responseText)}catch(e){c.body=null}else"text"!==l&&""!==l||(c.body=a.responseText)}c.timing=this._timing,t.resolve(c),this._xhr=null}}}.bind(this)).catch((function(){})))},h.prototype.send=function(){return r.race([this._canceller,d]).then(function(e){var t=r.defer();if(e!==f)return t.promise;var n=this._url;if(!n)return t.reject(new TypeError("Request URL cannot be blank.")),t.promise;var i=null,o=this._payload,s=this._method;s in l&&o?i=o:o&&(n+="?"+o);var d=this._xhr;if(!d)return t.reject(new Error("Request has been closed.")),t.promise;d.open(s,n,!0),d.onprogress=c,d.onerror=function(){t.reject(new a(u.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status)),this.onerror=c},d.onreadystatechange=this._handleStateChanged.bind(this,n,t);var h=this._responseType;if(h)if(this._forcePolyfill){if(!(h in p))return t.reject(new TypeError('Cannot polyfill responseType "'+h+'"')),t.promise}else{if(!("responseType"in d||h in p))return t.reject(new TypeError("Cannot set responseType: not supported in browser.")),t.promise;if(d.responseType=h,h!==this._xhr.responseType&&!(h in p))return t.reject(new TypeError('Unknown responseType "'+h+'".')),t.promise}var y=this._headers;if(y)for(var _ in y)if(y.hasOwnProperty(_))try{d.setRequestHeader(_,y[_])}catch(e){return t.reject(e),t.promise}try{this._requestStartTime=Date.now(),d.send(i)}catch(e){t.reject(e)}return this._canceller.then(this._abort,this._abort),t.promise}.bind(this))},e.exports=h},VwiP:function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},W0B4:function(e,t,n){e.exports=n("NS33")()},W7aI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("mXGw"),s=_(a),u=_(n("W0B4")),c=y(n("p1yM")),l=_(n("3gDE")),p=y(n("0TdX")),f=y(n("pHF5")),d=_(n("s4Wf")),h=_(n("5X3g"));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}n("gcLO");var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&f.remove(document.body,o),i&&f.remove(document.getElementsByTagName("html")[0],i),r&&g>0&&0===(g-=1)&&p.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":i(t))?t:{base:m[e],afterOpen:m[e]+"--after-open",beforeClose:m[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&f.add(document.body,i),r&&f.add(document.getElementsByTagName("html")[0],r),n&&(g+=1,p.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=n?{}:o.content,u=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);v.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},v.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},t.default=v,e.exports=t.default},W8eV:function(e,t,n){"use strict";function r(e,t){Error.call(this,e),this.code=e,this.message=t,this.origin=null}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="TransportError",e.exports=r},WKDR:function(e,t,n){"use strict";(function(t){var r=n("D5Cn"),i=n("qykS"),o=n("4+3C"),a=r.Tap,s=o.format,u={array:P,boolean:g,bytes:w,double:T,enum:A,error:I,fixed:R,float:b,int:v,long:E,map:C,null:m,record:I,request:I,string:S,union:O},c=/^[A-Za-z_][A-Za-z0-9_]*$/,l=new r.Lcg,p=new a(new i.SlowBuffer(1024)),f=[],d=null;function h(e,t){if(e instanceof y)return e;var n;if(t=U(e,t),"string"==typeof e){if(!t.namespace||~e.indexOf(".")||V(e)||(e=t.namespace+"."+e),n=t.registry[e])return n;if(V(e))return t.registry[e]=h({type:e},t);throw new Error(s("undefined type name: %s",e))}if(t.typeHook&&(n=t.typeHook(e,t))){if(!(n instanceof y))throw new Error(s("invalid typehook return value: %j",n));return n}if(e.logicalType&&!d){var r=t.logicalTypes[e.logicalType];if(r){var i={};Object.keys(t.registry).forEach((function(e){i[e]=t.registry[e]}));try{return new r(e,t)}catch(e){if(t.assertLogicalTypes)throw e;d=null,t.registry=i}}}return n=e instanceof Array?new O(e,t):function(n){var r=u[n];if(void 0===r)throw new Error(s("unknown type: %j",n));return new r(e,t)}(e.type)}function y(e){var t=this._name,n=d||this;if(d=null,void 0!==e&&void 0!==t){if(void 0!==e[t])throw new Error(s("duplicate type name: %s",t));e[t]=n}}function _(){y.call(this)}function m(){_.call(this)}function g(){_.call(this)}function v(){_.call(this)}function E(){_.call(this)}function b(){_.call(this)}function T(){_.call(this)}function S(){_.call(this)}function w(){_.call(this)}function O(e,t){if(!(e instanceof Array))throw new Error(s("non-array union schema: %j",e));if(!e.length)throw new Error("empty union");t=U(e,t),y.call(this),this._types=e.map((function(e){return h(e,t)})),this._indices={},this._types.forEach((function(e,t){if(e instanceof O)throw new Error("unions cannot be directly nested");var n=e._name||B(e);if(void 0!==this._indices[n])throw new Error(s("duplicate union name: %j",n));this._indices[n]=t}),this),this._constructors=this._types.map((function(e){var t,n=e._name||B(e);return"null"===n?null:(t=~n.indexOf(".")?"this['"+n+"'] = val;":"this."+n+" = val;",new Function("val",t))}))}function A(e,t){if(!(e.symbols instanceof Array&&e.symbols.length))throw new Error(s("invalid %j enum symbols: %j",e.name,e));var n=M(e,(t=U(e,t)).namespace);this._name=n.name,this._symbols=e.symbols,this._aliases=n.aliases,y.call(this,t.registry),this._indices={},this._symbols.forEach((function(e,t){if(!c.test(e))throw new Error(s("invalid %s symbol: %j",this,e));if(void 0!==this._indices[e])throw new Error(s("duplicate %s symbol: %j",this,e));this._indices[e]=t}),this)}function R(e,t){if(e.size!==(0|e.size)||e.size<1)throw new Error(s("invalid %j fixed size: %j",e.name,e.size));var n=M(e,(t=U(e,t)).namespace);this._name=n.name,this._size=0|e.size,this._aliases=n.aliases,y.call(this,t.registry)}function C(e,t){if(!e.values)throw new Error(s("missing map values: %j",e));t=U(e,t),y.call(this),this._values=h(e.values,t)}function P(e,t){if(!e.items)throw new Error(s("missing array items: %j",e));t=U(e,t),this._items=h(e.items,t),y.call(this)}function I(e,t){var n=M(e,(t=U(e,t)).namespace);if(this._name=n.name,this._aliases=n.aliases,this._type=e.type,y.call(this,"request"===this._type?void 0:t.registry),!(e.fields instanceof Array))throw new Error(s("non-array %s fields",this._name));if(this._fields=e.fields.map((function(e){return new L(e,t)})),r.hasDuplicates(e.fields,(function(e){return e.name})))throw new Error(s("duplicate %s field name",this._name));var i="error"===e.type;this._constructor=this._createConstructor(i),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker()}function N(e,t,n){if(y.call(this),d=this,this._underlyingType=h(e,t),n&&!~n.indexOf(this._underlyingType.constructor)){var r=e.logicalType,i=this._underlyingType;throw new Error(s("invalid underlying type for %s: %s",r,i))}}function k(e){E.call(this),this._noUnpack=!!e}function L(e,t){var n=e.name;if("string"!=typeof n||!c.test(n))throw new Error(s("invalid field name: %s",n));this._name=n,this._type=h(e.type,t),this._aliases=e.aliases||[],this._order=function(e){switch(e){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(s("invalid order: %j",e))}}(void 0===e.order?"ascending":e.order);var r=e.default;if(void 0!==r){var i=this._type,o=i._copy(r,{coerce:2,wrap:2});this.getDefault=i instanceof _&&!(i instanceof w)?function(){return o}:function(){return i._copy(o)}}}function D(e){this._readerType=e,this._items=null,this._read=null,this._size=0,this._symbols=null,this._values=null}function x(e,t,n,r){if(n){if(n._readerType!==e)throw new Error("invalid resolver");return n._read(t,r)}return e._read(t)}function U(e,t){if(null===e)throw new Error('invalid type: null (did you mean "null"?)');return(t=t||{}).registry=t.registry||{},t.namespace=e.namespace||t.namespace,t.logicalTypes=t.logicalTypes||{},t}function M(e,t,n){t=e.namespace||t;var r=e[n=n||"name"];if(!r)throw new Error(s("missing %s property in schema: %j",n,e));return{name:i(r),aliases:e.aliases?e.aliases.map(i):[]};function i(e){!~e.indexOf(".")&&t&&(e=t+"."+e);var n=F(e);if(V(n))throw new Error(s("cannot rename primitive type: %j",n));return e.split(".").forEach((function(t){if(!c.test(t))throw new Error(s("invalid name: %j",e))})),e}}function F(e){var t=e.split(".");return t[t.length-1]}function j(e){var t,n,r=[e._name],i=e._aliases;for(t=0,n=i.length;t<n;t++)r.push(i[t]);return r}function B(e){var t=e.toJSON();return"string"==typeof t?t:t.type}function V(e){var t=u[e];return void 0!==t&&t.prototype instanceof _}function H(e){var t=e.readLong();return t<0&&(t=-t,e.skipLong()),t}function W(e,t){return n={},JSON.stringify(e,(function(e,r){if(r instanceof L)return{name:r._name,type:r._type};if(r&&r.name){var i=r.name;if(t||n[i])return i;n[i]=!0}return r}));var n}function K(e){return e>=-9007199254740990&&e<=9007199254740990}function G(e,t,n){throw new Error(s("invalid %s: %j",n,t))}y.__reset=function(e){p.buf=new i.SlowBuffer(e)},y.prototype.createResolver=function(e,t){if(!(e instanceof y))throw new Error(s("not a type: %j",e));if(e instanceof N&&!(this instanceof N))return this.createResolver(e._underlyingType,t);var n,r;if((t=t||{}).registry=t.registry||{},this instanceof I&&e instanceof I&&(r=this._name+":"+e._name,n=t.registry[r]))return n;if(n=new D(this),r&&(t.registry[r]=n),e instanceof O){var i=e._types.map((function(e){return this.createResolver(e,t)}),this);n._read=function(e){var t=e.readLong();if(void 0===i[t])throw new Error(s("invalid union index: %s",t));return i[t]._read(e)}}else this._updateResolver(n,e,t);if(!n._read)throw new Error(s("cannot read %s as %s",e,this));return n},y.prototype.decode=function(e,t,n){var r=new a(e);r.pos=0|t;var i=x(this,r,n);return r.isValid()?{value:i,offset:r.pos}:{value:void 0,offset:-1}},y.prototype.encode=function(e,t,n){var r=new a(t);return r.pos=0|n,this._write(r,e),r.isValid()?r.pos:t.length-r.pos},y.prototype.fromBuffer=function(e,t,n){var r=new a(e),i=x(this,r,t,n);if(!r.isValid())throw new Error("truncated buffer");if(!n&&r.pos<e.length)throw new Error("trailing data");return i},y.prototype.toBuffer=function(e){p.pos=0,this._write(p,e),p.isValid()||(y.__reset(2*p.pos),p.pos=0,this._write(p,e));var n=new t(p.pos);return p.buf.copy(n,0,0,p.pos),n},y.prototype.fromString=function(e){return this._copy(JSON.parse(e),{coerce:2})},y.prototype.toString=function(e){return void 0===e?this.getSchema(!0):JSON.stringify(this._copy(e,{coerce:3}))},y.prototype.clone=function(e,t){return t&&(t={coerce:0|!!t.coerceBuffers,fieldHook:t.fieldHook,wrap:0|!!t.wrapUnions}),this._copy(e,t)},y.prototype.isValid=function(e,t){for(;f.length;)f.pop();return this._check(e,t&&t.errorHook)},y.prototype.compareBuffers=function(e,t){return this._match(new a(e),new a(t))},y.prototype.getName=function(e){return e?B(this):this._name},y.prototype.getSchema=function(e){return W(this,e)},y.prototype.getFingerprint=function(e){return r.getHash(this.getSchema(),e)},y.prototype.inspect=function(){if(this instanceof _)return s("<%s>",this.constructor.name);var e=JSON.parse(this.getSchema(!0));return"object"==typeof e&&(e.type=void 0),s("<%s %j>",this.constructor.name,e)},y.prototype._check=r.abstractFunction,y.prototype._copy=r.abstractFunction,y.prototype._match=r.abstractFunction,y.prototype._read=r.abstractFunction,y.prototype._skip=r.abstractFunction,y.prototype._updateResolver=r.abstractFunction,y.prototype._write=r.abstractFunction,y.prototype.compare=r.abstractFunction,y.prototype.random=r.abstractFunction,o.inherits(_,y),_.prototype._updateResolver=function(e,t){t.constructor===this.constructor&&(e._read=this._read)},_.prototype._copy=function(e){return this._check(e,G),e},_.prototype.compare=r.compare,o.inherits(m,_),m.prototype._check=function(e,t){var n=null===e;return!n&&t&&t(f.slice(),e,this),n},m.prototype._read=function(){return null},m.prototype._skip=function(){},m.prototype._write=function(e,t){null!==t&&G(null,t,this)},m.prototype._match=function(){return 0},m.prototype.compare=m.prototype._match,m.prototype.random=m.prototype._read,m.prototype.toJSON=function(){return"null"},o.inherits(g,_),g.prototype._check=function(e,t){var n="boolean"==typeof e;return!n&&t&&t(f.slice(),e,this),n},g.prototype._read=function(e){return e.readBoolean()},g.prototype._skip=function(e){e.skipBoolean()},g.prototype._write=function(e,t){"boolean"!=typeof t&&G(null,t,this),e.writeBoolean(t)},g.prototype._match=function(e,t){return e.matchBoolean(t)},g.prototype.random=function(){return l.nextBoolean()},g.prototype.toJSON=function(){return"boolean"},o.inherits(v,_),v.prototype._check=function(e,t){var n=e===(0|e);return!n&&t&&t(f.slice(),e,this),n},v.prototype._read=function(e){return e.readInt()},v.prototype._skip=function(e){e.skipInt()},v.prototype._write=function(e,t){t!==(0|t)&&G(null,t,this),e.writeInt(t)},v.prototype._match=function(e,t){return e.matchInt(t)},v.prototype.random=function(){return 0|l.nextInt(1e3)},v.prototype.toJSON=function(){return"int"},o.inherits(E,_),E.prototype._check=function(e,t){var n="number"==typeof e&&e%1==0&&K(e);return!n&&t&&t(f.slice(),e,this),n},E.prototype._read=function(e){var t=e.readLong();if(!K(t))throw new Error("potential precision loss");return t},E.prototype._skip=function(e){e.skipLong()},E.prototype._write=function(e,t){("number"!=typeof t||t%1||!K(t))&&G(null,t,this),e.writeLong(t)},E.prototype._match=function(e,t){return e.matchLong(t)},E.prototype._updateResolver=function(e,t){(t instanceof E||t instanceof v)&&(e._read=t._read)},E.prototype.random=function(){return l.nextInt()},E.prototype.toJSON=function(){return"long"},E.using=function(e,t){e=e||{};var n={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},r=new k(t);return Object.keys(n).forEach((function(t){if(void 0===e[t])throw new Error(s("missing method implementation: %s",t));r[n[t]]=e[t]})),r},o.inherits(b,_),b.prototype._check=function(e,t){var n="number"==typeof e;return!n&&t&&t(f.slice(),e,this),n},b.prototype._read=function(e){return e.readFloat()},b.prototype._skip=function(e){e.skipFloat()},b.prototype._write=function(e,t){"number"!=typeof t&&G(null,t,this),e.writeFloat(t)},b.prototype._match=function(e,t){return e.matchFloat(t)},b.prototype._updateResolver=function(e,t){(t instanceof b||t instanceof E||t instanceof v)&&(e._read=t._read)},b.prototype.random=function(){return l.nextFloat(1e3)},b.prototype.toJSON=function(){return"float"},o.inherits(T,_),T.prototype._check=function(e,t){var n="number"==typeof e;return!n&&t&&t(f.slice(),e,this),n},T.prototype._read=function(e){return e.readDouble()},T.prototype._skip=function(e){e.skipDouble()},T.prototype._write=function(e,t){"number"!=typeof t&&G(null,t,this),e.writeDouble(t)},T.prototype._match=function(e,t){return e.matchDouble(t)},T.prototype._updateResolver=function(e,t){(t instanceof T||t instanceof b||t instanceof E||t instanceof v)&&(e._read=t._read)},T.prototype.random=function(){return l.nextFloat()},T.prototype.toJSON=function(){return"double"},o.inherits(S,_),S.prototype._check=function(e,t){var n="string"==typeof e;return!n&&t&&t(f.slice(),e,this),n},S.prototype._read=function(e){return e.readString()},S.prototype._skip=function(e){e.skipString()},S.prototype._write=function(e,t){"string"!=typeof t&&G(null,t,this),e.writeString(t)},S.prototype._match=function(e,t){return e.matchString(t)},S.prototype._updateResolver=function(e,t){(t instanceof S||t instanceof w)&&(e._read=this._read)},S.prototype.random=function(){return l.nextString(l.nextInt(32))},S.prototype.toJSON=function(){return"string"},o.inherits(w,_),w.prototype._check=function(e,n){var r=t.isBuffer(e);return!r&&n&&n(f.slice(),e,this),r},w.prototype._read=function(e){return e.readBytes()},w.prototype._skip=function(e){e.skipBytes()},w.prototype._write=function(e,n){t.isBuffer(n)||G(null,n,this),e.writeBytes(n)},w.prototype._match=function(e,t){return e.matchBytes(t)},w.prototype._updateResolver=S.prototype._updateResolver,w.prototype._copy=function(e,n){var r;switch(0|(n&&n.coerce)){case 3:return this._check(e,G),e.toString("binary");case 2:if("string"!=typeof e)throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e,"binary"),this._check(r,G),r;case 1:if(!(e&&"Buffer"===e.type&&e.data instanceof Array))throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e.data),this._check(r,G),r;default:return this._check(e,G),new t(e)}},w.prototype.compare=t.compare,w.prototype.random=function(){return l.nextBuffer(l.nextInt(32))},w.prototype.toJSON=function(){return"bytes"},o.inherits(O,y),O.prototype._check=function(e,t){var n=!1;if(null===e)n=void 0!==this._indices.null;else if("object"==typeof e){var r=Object.keys(e);if(1===r.length){var i=r[0],o=this._indices[i];if(void 0!==o)return f.push(i),n=this._types[o]._check(e[i],t),f.pop(),n}}return!n&&t&&t(f.slice(),e,this),n},O.prototype._read=function(e){var t=e.readLong(),n=this._constructors[t];if(n)return new n(this._types[t]._read(e));if(null===n)return null;throw new Error(s("invalid union index: %s",t))},O.prototype._skip=function(e){this._types[e.readLong()]._skip(e)},O.prototype._write=function(e,t){var n,r,i;null===t?(void 0===(n=this._indices.null)&&G(null,t,this),e.writeLong(n)):(1===(r=Object.keys(t)).length&&(i=r[0],n=this._indices[i]),void 0===n&&G(null,t,this),e.writeLong(n),this._types[n]._write(e,t[i]))},O.prototype._match=function(e,t){var n=e.readLong(),r=t.readLong();return n===r?this._types[n]._match(e,t):n<r?-1:1},O.prototype._updateResolver=function(e,t,n){var r,i,o,a;for(r=0,i=this._types.length;r<i;r++){try{o=this._types[r].createResolver(t,n)}catch(e){continue}return a=this._constructors[r],void(e._read=a?function(e){return new a(o._read(e))}:function(){return null})}},O.prototype._copy=function(e,t){var n,r,i,o=t&&0|t.wrap;if(2===o)return null===e&&null===this._constructors[0]?null:new this._constructors[0](this._types[0]._copy(e,t));if(null===e&&void 0!==this._indices.null)return null;if("object"==typeof e){var a=Object.keys(e);if(1===a.length){var s,u,c=a[0];if(void 0===(n=this._indices[c]))for(s=0,r=this._types.length;s<r;s++)if((u=this._types[s])._name&&c===F(u._name)){n=s;break}void 0!==n&&(i=this._types[n]._copy(e[c],t))}}if(1===o&&void 0===i)for(n=0,r=this._types.length;n<r&&void 0===i;)try{i=this._types[n]._copy(e,t)}catch(e){n++}if(void 0!==i)return new this._constructors[n](i);G(null,e,this)},O.prototype.compare=function(e,t){var n=null===e?"null":Object.keys(e)[0],i=null===t?"null":Object.keys(t)[0],o=this._indices[n];return n===i?"null"===n?0:this._types[o].compare(e[n],t[n]):r.compare(o,this._indices[i])},O.prototype.getTypes=function(){return this._types.slice()},O.prototype.random=function(){var e=l.nextInt(this._types.length),t=this._constructors[e];return t?new t(this._types[e].random()):null},O.prototype.toJSON=function(){return this._types},o.inherits(A,y),A.prototype._check=function(e,t){var n=void 0!==this._indices[e];return!n&&t&&t(f.slice(),e,this),n},A.prototype._read=function(e){var t=e.readLong(),n=this._symbols[t];if(void 0===n)throw new Error(s("invalid %s enum index: %s",this._name,t));return n},A.prototype._skip=function(e){e.skipLong()},A.prototype._write=function(e,t){var n=this._indices[t];void 0===n&&G(null,t,this),e.writeLong(n)},A.prototype._match=function(e,t){return e.matchLong(t)},A.prototype.compare=function(e,t){return r.compare(this._indices[e],this._indices[t])},A.prototype._updateResolver=function(e,t){var n=this._symbols;t instanceof A&&~j(this).indexOf(t._name)&&t._symbols.every((function(e){return~n.indexOf(e)}))&&(e._symbols=t._symbols,e._read=t._read)},A.prototype._copy=function(e){return this._check(e,G),e},A.prototype.getAliases=function(){return this._aliases},A.prototype.getSymbols=function(){return this._symbols.slice()},A.prototype.random=function(){return l.choice(this._symbols)},A.prototype.toJSON=function(){return{name:this._name,type:"enum",symbols:this._symbols}},o.inherits(R,y),R.prototype._check=function(e,n){var r=t.isBuffer(e)&&e.length===this._size;return!r&&n&&n(f.slice(),e,this),r},R.prototype._read=function(e){return e.readFixed(this._size)},R.prototype._skip=function(e){e.skipFixed(this._size)},R.prototype._write=function(e,n){t.isBuffer(n)&&n.length===this._size||G(null,n,this),e.writeFixed(n,this._size)},R.prototype._match=function(e,t){return e.matchFixed(t,this._size)},R.prototype.compare=t.compare,R.prototype._updateResolver=function(e,t){t instanceof R&&this._size===t._size&&~j(this).indexOf(t._name)&&(e._size=this._size,e._read=this._read)},R.prototype._copy=w.prototype._copy,R.prototype.getAliases=function(){return this._aliases},R.prototype.getSize=function(){return this._size},R.prototype.random=function(){return l.nextBuffer(this._size)},R.prototype.toJSON=function(){return{name:this._name,type:"fixed",size:this._size}},o.inherits(C,y),C.prototype.getValuesType=function(){return this._values},C.prototype._check=function(e,t){if(!e||"object"!=typeof e||e instanceof Array)return t&&t(f.slice(),e,this),!1;var n,r,i,o,a=Object.keys(e),s=!0;if(t){for(i=f.length,f.push(""),n=0,r=a.length;n<r;n++)o=f[i]=a[n],this._values._check(e[o],t)||(s=!1);f.pop()}else for(n=0,r=a.length;n<r;n++)if(!this._values._check(e[a[n]],t))return!1;return s},C.prototype._read=function(e){for(var t,n=this._values,r={};t=H(e);)for(;t--;){r[e.readString()]=n._read(e)}return r},C.prototype._skip=function(e){for(var t,n,r=this._values;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)e.skipString(),r._skip(e)},C.prototype._write=function(e,t){(!t||"object"!=typeof t||t instanceof Array)&&G(null,t,this);var n,r,i=this._values,o=Object.keys(t),a=o.length;if(a)for(e.writeLong(a),n=0;n<a;n++)r=o[n],e.writeString(r),i._write(e,t[r]);e.writeLong(0)},C.prototype._match=function(){throw new Error("maps cannot be compared")},C.prototype._updateResolver=function(e,t,n){t instanceof C&&(e._values=this._values.createResolver(t._values,n),e._read=this._read)},C.prototype._copy=function(e,t){if(e&&"object"==typeof e&&!(e instanceof Array)){var n,r,i,o=this._values,a=Object.keys(e),s={};for(n=0,r=a.length;n<r;n++)s[i=a[n]]=o._copy(e[i],t);return s}G(null,e,this)},C.prototype.compare=C.prototype._match,C.prototype.random=function(){var e,t,n={};for(e=0,t=l.nextInt(10);e<t;e++)n[l.nextString(l.nextInt(20))]=this._values.random();return n},C.prototype.toJSON=function(){return{type:"map",values:this._values}},o.inherits(P,y),P.prototype._check=function(e,t){if(!(e instanceof Array))return t&&t(f.slice(),e,this),!1;var n,r,i,o=!0;if(t){for(i=f.length,f.push(""),n=0,r=e.length;n<r;n++)f[i]=""+n,this._items._check(e[n],t)||(o=!1);f.pop()}else for(n=0,r=e.length;n<r;n++)if(!this._items._check(e[n],t))return!1;return o},P.prototype._read=function(e){for(var t,n=this._items,r=[];t=e.readLong();)for(t<0&&(t=-t,e.skipLong());t--;)r.push(n._read(e));return r},P.prototype._skip=function(e){for(var t,n;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)this._items._skip(e)},P.prototype._write=function(e,t){t instanceof Array||G(null,t,this);var n,r=t.length;if(r)for(e.writeLong(r),n=0;n<r;n++)this._items._write(e,t[n]);e.writeLong(0)},P.prototype._match=function(e,t){for(var n,i=e.readLong(),o=t.readLong();i&&o;){if(n=this._items._match(e,t))return n;--i||(i=H(e)),--o||(o=H(t))}return r.compare(i,o)},P.prototype._updateResolver=function(e,t,n){t instanceof P&&(e._items=this._items.createResolver(t._items,n),e._read=this._read)},P.prototype._copy=function(e,t){e instanceof Array||G(null,e,this);var n,r,i=[];for(n=0,r=e.length;n<r;n++)i.push(this._items._copy(e[n],t));return i},P.prototype.compare=function(e,t){var n,i,o,a=e.length,s=t.length;for(n=0,i=Math.min(a,s);n<i;n++)if(o=this._items.compare(e[n],t[n]))return o;return r.compare(a,s)},P.prototype.getItemsType=function(){return this._items},P.prototype.random=function(){var e,t,n=[];for(e=0,t=l.nextInt(10);e<t;e++)n.push(this._items.random());return n},P.prototype.toJSON=function(){return{type:"array",items:this._items}},o.inherits(I,y),I.prototype._createConstructor=function(e){var t,n,r,i,a,s=[],u=[],c=[],l=e?"  Error.call(this);\n":"";for(t=0,n=this._fields.length;t<n;t++)a=(r=this._fields[t]).getDefault,i=r._name,u.push("v"+t),l+="  ",void 0===a()?l+="this."+i+" = v"+t+";\n":(l+="if (v"+t+" === undefined) { ",l+="this."+i+" = d"+c.length+"(); ",l+="} else { this."+i+" = v"+t+"; }\n",s.push("d"+c.length),c.push(a));var p="return function "+F(this._name)+"(";p+=u.join()+") {\n"+l+"};";var f=new Function(s.join(),p).apply(void 0,c),d=this;return f.getType=function(){return d},f.prototype={constructor:f,$clone:function(e){return d.clone(this,e)},$compare:function(e){return d.compare(this,e)},$getType:f.getType,$isValid:function(e){return d.isValid(this,e)},$toBuffer:function(){return d.toBuffer(this)},$toString:function(e){return d.toString(this,e)}},e&&o.inherits(f,Error),f},I.prototype._createChecker=function(){var e=["t","P"],t=[this,f],n="return function check"+F(this._name)+"(val, cb) {\n";if(n+="  if (val === null || typeof val != 'object') {\n",n+="    if (cb) { cb(P.slice(), val, t); }\n",n+="    return false;\n",n+="  }\n",this._fields.length){for(r=0,i=this._fields.length;r<i;r++)o=this._fields[r],e.push("t"+r),t.push(o._type),void 0!==o.getDefault()&&(n+="  var v"+r+" = val."+o._name+";\n");var r,i,o;for(n+="  if (cb) {\n",n+="    var b = 1;\n",n+="    var j = P.length;\n",n+="    P.push('');\n",r=0,i=this._fields.length;r<i;r++)n+="    P[j] = '"+(o=this._fields[r])._name+"';\n",void 0===o.getDefault()?n+="    b &= t"+r+"._check(val."+o._name+", cb);\n":(n+="    b &= v"+r+" === undefined || ",n+="t"+r+"._check(v"+r+", cb);\n");n+="    P.pop();\n",n+="    return !!b;\n",n+="  } else {\n    return (\n      ",n+=this._fields.map((function(e,t){return void 0===e.getDefault()?"t"+t+"._check(val."+e._name+")":"(v"+t+" === undefined || t"+t+"._check(v"+t+"))"})).join(" &&\n      "),n+="\n    );\n  }\n"}else n+="  return true;\n";return n+="};",new Function(e.join(),n).apply(void 0,t)},I.prototype._createReader=function(){var e,t,n=F(this._name),r=[],i=[this._constructor];for(e=0,t=this._fields.length;e<t;e++)r.push("t"+e),i.push(this._fields[e]._type);var o="return function read"+n+"(tap) {\n";return o+="  return new "+n+"(",o+=r.map((function(e){return e+"._read(tap)"})).join(),o+=");\n};",r.unshift(n),new Function(r.join(),o).apply(void 0,i)},I.prototype._createSkipper=function(){var e,t,n=[],r="return function skip"+F(this._name)+"(tap) {\n",i=[];for(e=0,t=this._fields.length;e<t;e++)n.push("t"+e),i.push(this._fields[e]._type),r+="  t"+e+"._skip(tap);\n";return r+="}",new Function(n.join(),r).apply(void 0,i)},I.prototype._createWriter=function(){var e,t,n,r,i=[],o="return function write"+F(this._name)+"(tap, val) {\n",a=[];for(e=0,t=this._fields.length;e<t;e++)n=this._fields[e],i.push("t"+e),a.push(n._type),o+="  ",void 0===n.getDefault()?o+="t"+e+"._write(tap, val."+n._name+");\n":(r=n._type.toBuffer(n.getDefault()).toString("binary"),i.push("d"+e),a.push(r),o+="var v"+e+" = val."+n._name+"; ",o+="if (v"+e+" === undefined) { ",o+="tap.writeBinary(d"+e+", "+r.length+");",o+=" } else { t"+e+"._write(tap, v"+e+"); }\n");return o+="}",new Function(i.join(),o).apply(void 0,a)},I.prototype._updateResolver=function(e,t,n){if(!~j(this).indexOf(t._name))throw new Error(s("no alias for %s in %s",t._name,this._name));var i,o,a,u,c,l,p=this._fields,f=t._fields,d=r.toMap(f,(function(e){return e._name})),h=[],y={};for(i=0;i<p.length;i++){for(c=j(a=p[i]),l=[],o=0;o<c.length;o++)d[u=c[o]]&&l.push(u);if(l.length>1)throw new Error(s("multiple matches for %s",a.name));if(l.length)y[u=l[0]]={resolver:a._type.createResolver(d[u]._type,n),name:a._name},h.push(a._name);else{if(void 0===a.getDefault())throw new Error(s("no match for default-less %s",a.name));h.push("undefined")}}var _=-1;for(i=f.length;i&&void 0===y[f[--i]._name];)_=i;var m=F(this._name),g=[m],v=[this._constructor],E="  return function read"+m+"(tap,lazy) {\n";for(i=0;i<f.length;i++)i===_&&(E+="  if (!lazy) {\n"),E+=~_&&i>=_?"    ":"  ",void 0===y[u=(a=t._fields[i])._name]?(g.push("t"+i),v.push(a._type),E+="t"+i+"._skip(tap);\n"):(g.push("t"+i),v.push(y[u].resolver),E+="var "+y[u].name+" = ",E+="t"+i+"._read(tap);\n");~_&&(E+="  }\n"),E+="  return new "+m+"("+h.join()+");\n};",e._read=new Function(g.join(),E).apply(void 0,v)},I.prototype._match=function(e,t){var n,r,i,o,a,s=this._fields;for(n=0,r=s.length;n<r;n++)if(o=(i=s[n])._order,a=i._type,o){if(o*=a._match(e,t))return o}else a._skip(e),a._skip(t);return 0},I.prototype._copy=function(e,t){var n,r,i,o,a=t&&t.fieldHook,s=[void 0];for(n=0,r=this._fields.length;n<r;n++)o=(i=this._fields[n])._type._copy(e[i._name],t),a&&(o=a(i,o,this)),s.push(o);return new(this._constructor.bind.apply(this._constructor,s))},I.prototype.compare=function(e,t){var n,r,i,o,a,s,u=this._fields;for(n=0,r=u.length;n<r;n++)if(o=(i=u[n])._name,a=i._order,s=i._type,a&&(a*=s.compare(e[o],t[o])))return a;return 0},I.prototype.random=function(){var e=this._fields.map((function(e){return e._type.random()}));return e.unshift(void 0),new(this._constructor.bind.apply(this._constructor,e))},I.prototype.getAliases=function(){return this._aliases},I.prototype.getFields=function(){return this._fields.slice()},I.prototype.getRecordConstructor=function(){return this._constructor},I.prototype.toJSON=function(){return{name:this._name,type:"record",fields:this._fields}},o.inherits(N,y),N.prototype.getUnderlyingType=function(){return this._underlyingType},N.prototype._read=function(e){return this._fromValue(this._underlyingType._read(e))},N.prototype._write=function(e,t){this._underlyingType._write(e,this._toValue(t))},N.prototype._check=function(e,t){try{var n=this._toValue(e)}catch(n){return t&&t(f.slice(),e,this),!1}return this._underlyingType._check(n,t)},N.prototype._copy=function(e,t){var n=this._underlyingType;switch(t&&t.coerce){case 3:return n._copy(this._toValue(e),t);case 2:return this._fromValue(n._copy(e,t));default:return this._fromValue(n._copy(this._toValue(e),t))}},N.prototype._updateResolver=function(e,t,n){var r=this._resolve(t,n);r&&(e._read=function(e){return r(t._read(e))})},N.prototype.random=function(){return this._fromValue(this._underlyingType.random())},N.prototype.compare=function(e,t){var n=this._toValue(e),r=this._toValue(t);return this._underlyingType.compare(n,r)},N.prototype.toJSON=function(){return this._underlyingType.toJSON()},N.prototype._fromValue=r.abstractFunction,N.prototype._toValue=r.abstractFunction,N.prototype._resolve=r.abstractFunction,o.inherits(k,E),k.prototype._check=function(e,t){var n=this._isValid(e);return!n&&t&&t(f.slice(),e,this),n},k.prototype._read=function(e){var t,n;if(this._noUnpack?(n=e.pos,e.skipLong(),t=e.buf.slice(n,e.pos)):t=e.unpackLongBytes(e),e.isValid())return this._fromBuffer(t)},k.prototype._write=function(e,t){this._isValid(t)||G(null,t,this);var n=this._toBuffer(t);this._noUnpack?e.writeFixed(n):e.packLongBytes(n)},k.prototype._copy=function(e,t){switch(t&&t.coerce){case 3:return this._toJSON(e);case 2:return this._fromJSON(e);default:return this._fromJSON(JSON.parse(JSON.stringify(this._toJSON(e))))}},k.prototype.random=function(){return this._fromJSON(E.prototype.random())},k.prototype._fromBuffer=r.abstractFunction,k.prototype._toBuffer=r.abstractFunction,k.prototype._fromJSON=r.abstractFunction,k.prototype._toJSON=r.abstractFunction,k.prototype._isValid=r.abstractFunction,k.prototype.compare=r.abstractFunction,L.prototype.getAliases=function(){return this._aliases},L.prototype.getDefault=function(){},L.prototype.getName=function(){return this._name},L.prototype.getOrder=function(){return["descending","ignore","ascending"][this._order+1]},L.prototype.getType=function(){return this._type},L.prototype.inspect=function(){return s("<Field %j>",this._name)},D.prototype.inspect=function(){return"<Resolver>"},e.exports={createType:h,resolveNames:M,stringify:W,types:function(){var e,t,n,r={Type:y,LogicalType:N},i=Object.keys(u);for(e=0,t=i.length;e<t;e++)r[(n=u[i[e]]).name]=n;return r}()}}).call(this,n("qykS").Buffer)},WSLi:function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("qG8n"),o=n("P1TA");function a(e){i.call(this);var n=e||{};this._navigator=t.navigator,"function"==typeof t.addEventListener&&(t.addEventListener("online",this.emitSync.bind(this,o.CONNECTION_ONLINE,{})),t.addEventListener("offline",this.emitSync.bind(this,o.CONNECTION_OFFLINE,{})),n.notifyBeforeUnload&&t.addEventListener(o.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,o.WINDOW_BEFORE_UNLOAD,{})))}r(a,i),a.create=function(e){return new a(e)},a.prototype.isOnline=function(){var e=this._navigator;return!(e&&"onLine"in e)||e.onLine},e.exports=a}).call(this,n("pCvA"))},WmMO:function(e,t,n){"use strict";var r=n("ZjB5"),i=n("BMKb")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},Ws1g:function(e,t,n){"use strict";var r,i="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(e){return!1});var a=i?i.prototype.has:null,s=o?o.prototype.has:null;r||s||(e.exports=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(s.call(e,s),a)try{a.call(e,a)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},X5X9:function(e,t,n){"use strict";var r,i="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(e){return!1});var a=i?i.prototype.has:null,s=o?o.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e,a),s)try{s.call(e,s)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},X7EK:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},XIsM:function(e,t,n){"use strict";var r=n("ZQMo"),i=n("lMEP");e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},XNbM:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},XPvw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={accented:{prefix:"",postfix:"",map:{a:"ȧ",A:"Ȧ",b:"ƀ",B:"Ɓ",c:"ƈ",C:"Ƈ",d:"ḓ",D:"Ḓ",e:"ḗ",E:"Ḗ",f:"ƒ",F:"Ƒ",g:"ɠ",G:"Ɠ",h:"ħ",H:"Ħ",i:"ī",I:"Ī",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"ŀ",L:"Ŀ",m:"ḿ",M:"Ḿ",n:"ƞ",N:"Ƞ",o:"ǿ",O:"Ǿ",p:"ƥ",P:"Ƥ",q:"ɋ",Q:"Ɋ",r:"ř",R:"Ř",s:"ş",S:"Ş",t:"ŧ",T:"Ŧ",v:"ṽ",V:"Ṽ",u:"ŭ",U:"Ŭ",w:"ẇ",W:"Ẇ",x:"ẋ",X:"Ẋ",y:"ẏ",Y:"Ẏ",z:"ẑ",Z:"Ẑ"},elongate:!0},bidi:{prefix:"‮",postfix:"‬",map:{a:"ɐ",A:"∀",b:"q",B:"Ԑ",c:"ɔ",C:"Ↄ",d:"p",D:"ᗡ",e:"ǝ",E:"Ǝ",f:"ɟ",F:"Ⅎ",g:"ƃ",G:"⅁",h:"ɥ",H:"H",i:"ı",I:"I",j:"ɾ",J:"ſ",k:"ʞ",K:"Ӽ",l:"ʅ",L:"⅂",m:"ɯ",M:"W",n:"u",N:"N",o:"o",O:"O",p:"d",P:"Ԁ",q:"b",Q:"Ò",r:"ɹ",R:"ᴚ",s:"s",S:"S",t:"ʇ",T:"⊥",u:"n",U:"∩",v:"ʌ",V:"Ʌ",w:"ʍ",W:"M",x:"x",X:"X",y:"ʎ",Y:"⅄",z:"z",Z:"Z"},elongate:!1}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strategy,i=void 0===n?"accented":n,o=r[i],a="",s=!0,u=!1,c=void 0;try{for(var l,p=e[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var f=l.value;if(o.map[f]){var d=f.toLowerCase();!o.elongate||"a"!==d&&"e"!==d&&"o"!==d&&"u"!==d?a+=o.map[f]:a+=o.map[f]+o.map[f]}else a+=f}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}return a.startsWith(o.prefix)&&a.endsWith(o.postfix)?a:o.prefix+a+o.postfix};t.default=i},XrU5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},Xx9P:function(e,t,n){"use strict";(function(t){var r=t.Symbol,i=n("KPiH");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n("pCvA"))},Y7gb:function(e,t,n){"use strict";var r=n("63Ad");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n("rKUl"));e.exports=t.default},YDM6:function(e,t,n){"use strict";var r=n("/ub/");e.exports=function(e){if(!e||e.length%2!=0)throw new TypeError("Invalid clientId value.");var t=e.match(/[0-9a-f]{2}?/g);if(!t||!t.length)throw new TypeError("Invalid clientId value.");var n=String.fromCharCode.apply(null,t.map((function(e){return parseInt(e,16)}))),i=r.encode(n);return function(){return{name:"context_client_id",data:{value:i}}}}},YZiW:function(e,t,n){"use strict";n("P1L4");var r=n("thKI");n.d(t,"a",(function(){return r}))},Yr0C:function(e,t){if(!n)var n={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,i){return n.index=i,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?n.map(e,t):e)}};var r=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function t(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function r(e,t,n,r,i,o,a){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=a}function i(){this.vboxes=new t((function(e,t){return n.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function o(t,r){if(r.count()){var i=r.r2-r.r1+1,o=r.g2-r.g1+1,a=r.b2-r.b1+1,s=n.max([i,o,a]);if(1==r.count())return[r.copy()];var u,c,l,p,f=0,d=[],h=[];if(s==i)for(u=r.r1;u<=r.r2;u++){for(p=0,c=r.g1;c<=r.g2;c++)for(l=r.b1;l<=r.b2;l++)p+=t[e(u,c,l)]||0;f+=p,d[u]=f}else if(s==o)for(u=r.g1;u<=r.g2;u++){for(p=0,c=r.r1;c<=r.r2;c++)for(l=r.b1;l<=r.b2;l++)p+=t[e(c,u,l)]||0;f+=p,d[u]=f}else for(u=r.b1;u<=r.b2;u++){for(p=0,c=r.r1;c<=r.r2;c++)for(l=r.g1;l<=r.g2;l++)p+=t[e(c,l,u)]||0;f+=p,d[u]=f}return d.forEach((function(e,t){h[t]=f-e})),y(s==i?"r":s==o?"g":"b")}function y(e){var t,n,i,o,a,s=e+"1",c=e+"2",l=0;for(u=r[s];u<=r[c];u++)if(d[u]>f/2){for(i=r.copy(),o=r.copy(),a=(t=u-r[s])<=(n=r[c]-u)?Math.min(r[c]-1,~~(u+n/2)):Math.max(r[s],~~(u-1-t/2));!d[a];)a++;for(l=h[a];!l&&d[a-1];)l=h[--a];return i[c]=a,o[s]=i[c]+1,[i,o]}}}return r.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var n=this.histo;if(!this._count_set||t){var r,i,o,a=0;for(r=this.r1;r<=this.r2;r++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)a+=n[e(r,i,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new r(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r,i,o,a,s=0,u=0,c=0,l=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)s+=r=n[e(i,o,a)]||0,u+=r*(i+.5)*8,c+=r*(o+.5)*8,l+=r*(a+.5)*8;this._avg=s?[~~(u/s),~~(c/s),~~(l/s)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=this.r1&&t<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,i=this.vboxes,o=0;o<i.size();o++)((n=Math.sqrt(Math.pow(e[0]-i.peek(o).color[0],2)+Math.pow(e[1]-i.peek(o).color[1],2)+Math.pow(e[2]-i.peek(o).color[2],2)))<t||void 0===t)&&(t=n,r=i.peek(o).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return n.naturalOrder(n.sum(e.color),n.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var r=e.length-1,i=e[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[r].color=[255,255,255])}},{quantize:function(a,s){if(!a.length||s<2||s>256)return!1;var u=function(t){var n,r,i,o,a=new Array(32768);return t.forEach((function(t){r=t[0]>>3,i=t[1]>>3,o=t[2]>>3,n=e(r,i,o),a[n]=(a[n]||0)+1})),a}(a);u.forEach((function(){0}));var c=function(e,t){var n,i,o,a=1e6,s=0,u=1e6,c=0,l=1e6,p=0;return e.forEach((function(e){n=e[0]>>3,i=e[1]>>3,o=e[2]>>3,n<a?a=n:n>s&&(s=n),i<u?u=i:i>c&&(c=i),o<l?l=o:o>p&&(p=o)})),new r(a,s,u,c,l,p,t)}(a,u),l=new t((function(e,t){return n.naturalOrder(e.count(),t.count())}));function p(e,t){for(var n,r=1,i=0;i<1e3;)if((n=e.pop()).count()){var a=o(u,n),s=a[0],c=a[1];if(!s)return;if(e.push(s),c&&(e.push(c),r++),r>=t)return;if(i++>1e3)return}else e.push(n),i++}l.push(c),p(l,.75*s);for(var f=new t((function(e,t){return n.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));l.size();)f.push(l.pop());p(f,s-f.size());for(var d=new i;f.size();)d.push(f.pop());return d}}}();e.exports=r.quantize},"Z/ih":function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("qG8n"),o=n("E6BA");function a(e){i.call(this);var n=e||{};this._navigator=t.navigator,"function"==typeof t.addEventListener&&(t.addEventListener("online",this.emitSync.bind(this,o.CONNECTION_ONLINE,{})),t.addEventListener("offline",this.emitSync.bind(this,o.CONNECTION_OFFLINE,{})),n.notifyBeforeUnload&&t.addEventListener(o.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,o.WINDOW_BEFORE_UNLOAD,{})))}r(a,i),a.create=function(e){return new a(e)},a.prototype.isOnline=function(){var e=this._navigator;return!(e&&"onLine"in e)||e.onLine},e.exports=a}).call(this,n("pCvA"))},"Z/tt":function(e,t,n){"use strict";(function(t){var r=n("ccLT"),i=n("Hbaf"),o=n("DvJn"),a=o("Object.prototype.toString"),s=n("hSmj")()&&"symbol"==typeof Symbol.toStringTag,u=i(),c=o("String.prototype.slice"),l={},p=n("qZ0/"),f=Object.getPrototypeOf;s&&p&&f&&r(u,(function(e){if("function"==typeof t[e]){var n=new t[e];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=f(n),i=p(r,Symbol.toStringTag);if(!i){var o=f(r);i=p(o,Symbol.toStringTag)}l[e]=i.get}}));var d=n("4OvF");e.exports=function(e){return!!d(e)&&(s?function(e){var t=!1;return r(l,(function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}})),t}(e):c(a(e),8,-1))}}).call(this,n("pCvA"))},ZCJg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("llpb"),i=n("7C+0"),o=n("llpb");t.TArray=o.TArray,t.TEnumType=o.TEnumType,t.TEnumLiteral=o.TEnumLiteral,t.TFunc=o.TFunc,t.TIface=o.TIface,t.TLiteral=o.TLiteral,t.TName=o.TName,t.TOptional=o.TOptional,t.TParam=o.TParam,t.TParamList=o.TParamList,t.TProp=o.TProp,t.TTuple=o.TTuple,t.TType=o.TType,t.TUnion=o.TUnion,t.array=o.array,t.enumlit=o.enumlit,t.enumtype=o.enumtype,t.func=o.func,t.iface=o.iface,t.lit=o.lit,t.name=o.name,t.opt=o.opt,t.param=o.param,t.tuple=o.tuple,t.union=o.union,t.BasicType=o.BasicType,t.createCheckers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Object.assign.apply(Object,[{},r.basicTypes].concat(e)),i={},o=0,s=e;o<s.length;o++)for(var u=s[o],c=0,l=Object.keys(u);c<l.length;c++){var p=l[c];i[p]=new a(n,u[p])}return i};var a=function(){function e(e,t,n){if(void 0===n&&(n="value"),this.suite=e,this.ttype=t,this._path=n,this.props=new Map,t instanceof r.TIface)for(var i=0,o=t.props;i<o.length;i++){var a=o[i];this.props.set(a.name,a.ttype)}this.checkerPlain=this.ttype.getChecker(e,!1),this.checkerStrict=this.ttype.getChecker(e,!0)}return e.prototype.setReportedPath=function(e){this._path=e},e.prototype.check=function(e){return this._doCheck(this.checkerPlain,e)},e.prototype.test=function(e){return this.checkerPlain(e,new i.NoopContext)},e.prototype.validate=function(e){return this._doValidate(this.checkerPlain,e)},e.prototype.strictCheck=function(e){return this._doCheck(this.checkerStrict,e)},e.prototype.strictTest=function(e){return this.checkerStrict(e,new i.NoopContext)},e.prototype.strictValidate=function(e){return this._doValidate(this.checkerStrict,e)},e.prototype.getProp=function(t){var n=this.props.get(t);if(!n)throw new Error("Type has no property "+t);return new e(this.suite,n,this._path+"."+t)},e.prototype.methodArgs=function(t){var n=this._getMethod(t);return new e(this.suite,n.paramList)},e.prototype.methodResult=function(t){var n=this._getMethod(t);return new e(this.suite,n.result)},e.prototype.getArgs=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getArgs() applied to non-function");return new e(this.suite,this.ttype.paramList)},e.prototype.getResult=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getResult() applied to non-function");return new e(this.suite,this.ttype.result)},e.prototype.getType=function(){return this.ttype},e.prototype._doCheck=function(e,t){if(!e(t,new i.NoopContext)){var n=new i.DetailContext;throw e(t,n),n.getError(this._path)}},e.prototype._doValidate=function(e,t){if(e(t,new i.NoopContext))return null;var n=new i.DetailContext;return e(t,n),n.getErrorDetail(this._path)},e.prototype._getMethod=function(e){var t=this.props.get(e);if(!t)throw new Error("Type has no property "+e);if(!(t instanceof r.TFunc))throw new Error("Property "+e+" is not a method");return t},e}();t.Checker=a},ZIIl:function(e,t,n){"use strict";var r=n("/ub/"),i={generate:function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(256*Math.random()|0);return t},generateBase64:function(e){return r.encode(i.generate(e))}};e.exports=i},ZK1A:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.HTTP_REQUEST_FAILED="HTTP_REQUEST_FAILED",e.LOGGING_REQUEST_FAILED="LOGGING_REQUEST_FAILED",e.TRANSPORT_ENDPOINTS_PROVIDER_ERROR="TRANSPORT_ENDPOINTS_PROVIDER_ERROR",e.TRANSPORT_INVALID_STATE="TRANSPORT_INVALID_STATE",e.TRANSPORT_INVALID_TOKEN="TRANSPORT_INVALID_TOKEN",e.TRANSPORT_STALE_TOKEN="TRANSPORT_STALE_TOKEN ",e.TRANSPORT_TOKEN_PROVIDER_ERROR="TRANSPORT_TOKEN_PROVIDER_ERROR",e.TRANSPORT_LIFECYCLE_DISABLED="TRANSPORT_LIFECYCLE_DISABLED",e.XRESOLVE_INCOMPLETE_RESPONSE="XRESOLVE_INCOMPLETE_RESPONSE",e.XRESOLVE_INVALID_RESPONSE="XRESOLVE_INVALID_RESPONSE",e.XRESOLVE_REQUEST_FAILED_WITH_STATUS="XRESOLVE_REQUEST_FAILED_WITH_STATUS"}(r||(r={}))},ZPcf:function(e,t,n){"use strict";var r=n("mXGw"),i=n.n(r);t.a=i.a.createContext(null)},ZQMo:function(e,t,n){"use strict";var r=n("V0bL"),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){var i;t in e&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(e,o[s],t[o[s]],n[o[s]])};l.supportsDescriptors=!!u,e.exports=l},ZaFu:function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("P1TA"),s=n("pPJX"),u=n("ohJu"),c=n("eXcQ"),l=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/;function p(e){i.call(this);var n=e||{};this._WebSocket=e.WebSocket||t.WebSocket,this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatTimeout=n.heartbeatTimeout||1e4,this._heartbeatToken=null,this._heartbeatTimeoutToken=null,this._onHeartbeatSuccess=this._onHeartbeatSuccess.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}r(p,i),p.create=function(e){return new p(e)},p.prototype._onHeartbeatError=function(){this._stopHeartbeat(),this._socket&&this._socket.close(c.TIMEOUT,"internal-timeout")},p.prototype._onHeartbeatSuccess=function(){this._stopHeartbeat(),this._startHeartbeat()},p.prototype._startHeartbeat=function(e){var t=function(){this.ping().then(this._onHeartbeatSuccess,this._onHeartbeatError),this._heartbeatTimeoutToken=setTimeout(this._onHeartbeatError,this._heartbeatTimeout)}.bind(this);e?t():this._heartbeatToken=setTimeout(t,3e4)},p.prototype._stopHeartbeat=function(){clearTimeout(this._heartbeatToken),clearTimeout(this._heartbeatTimeoutToken)},p.prototype._prepareConnectionId=function(e){if(!e.uri)return!1;var t,n=e.uri.match(l);return!!n&&(t=e.header&&e.headers["Spotify-Connection-Id"]?e.headers["Spotify-Connection-Id"]:decodeURIComponent(n[1]),this._connectionId=t,this._connectionURI=e.uri,this.emit(a.DEALER_CONNECTION_ID,{id:t,uri:e.uri}),!0)},p.prototype._reply=function(e,t){if(!e)throw new TypeError("Invalid key.");var n=this._socket;if(n&&1===n.readyState){var r={type:"reply",key:e,payload:t};n.send(JSON.stringify(r))}},p.prototype._parseMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){return}if(this._waitingForConnectionId&&this._prepareConnectionId(t))this._waitingForConnectionId=!1,this._startHeartbeat(!0);else if("pong"===t.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("message"===t.type)this.emit(a.DEALER_MESSAGE,{data:t});else if("request"===t.type){var n=t.key;n&&this.emit(a.DEALER_REQUEST,{data:t,reply:this._reply.bind(this,n)})}},p.prototype._handleOpen=function(e){e.resolve(!0),this._connected=!0,this.emit(a.DEALER_AUTHENTICATED)},p.prototype._handleMessage=function(e){var n=this,r=e.data;if(t.Blob&&r instanceof t.Blob){var i=new t.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else t.Buffer&&t.ArrayBuffer&&r instanceof t.ArrayBuffer?this._parseMessage(new t.Buffer(r).toString("ascii")):this._parseMessage(r)},p.prototype._handleClose=function(e){var t=this._connected;if(this._connected=!1,t)this.emitSync(a.DEALER_DISCONNECTED,{wsCode:e.code,reason:e.reason});else{var n=new u(s.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",e);this.emit(a.DEALER_AUTHENTICATION_FAILED,{error:n})}},p.prototype._handleError=function(e){var t=new u(s.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");e.reject(t),this._connected=!1,this.emit(a.DEALER_ERROR,{error:t})},p.prototype.connect=function(e){return this._endpoint=e,this._waitingForConnectionId=!0,this.emit(a.DEALER_CONNECTED),o.resolve(!0)},p.prototype.authenticate=function(e){var t=o.defer(),n=this._endpoint+"?access_token="+e,r=this._socket=new this._WebSocket(n);return r.onopen=this._handleOpen.bind(this,t),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,t),r.onmessage=this._handleMessage.bind(this),t.promise},p.prototype.disconnect=function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(c.CLOSE,"internal-close"),this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket=null,this.emitSync("disconnected",{wsCode:c.CLOSE,reason:"internal-close"}))},p.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=o.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):o.reject(new u(s.DEALER_CONNECTION_ERROR,"Dealer connection error"))},p.prototype.getConnectionId=function(){return this._waitingForConnectionId?new o(function(e){this.once("connection_id",(function(t){e(t.id)}))}.bind(this)):o.resolve(this._connectionId)},p.prototype.getConnectionInfo=function(){return this._waitingForConnectionId?new o(function(e){this.once("connection_id",(function(t){e({id:t.id,uri:t.uri})}))}.bind(this)):o.resolve({id:this._connectionId,uri:this._connectionURI})},p.prototype.hasConnectionId=function(){return!this._waitingForConnectionId&&!!this._connectionId},e.exports=p}).call(this,n("pCvA"))},Zfiy:function(e,t,n){"use strict";var r=n("hF0+"),i=n("VWOr"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?i(n):n}},Zgfu:function(e,t,n){"use strict";(function(t){var r=n("AWLF"),i=n("H2G3"),o=n("19LU");e.exports=function(e){return e.HTTP=i,e.Fetch=o,e.WebSocket=t.WebSocket,r.create(e)}}).call(this,n("pCvA"))},ZjB5:function(e,t,n){"use strict";var r=n("q6sp");e.exports=Function.prototype.bind||r},Zrjs:function(e,t,n){"use strict";var r=n("ovh1");e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(o).concat(a),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(u,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},a9Ck:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n("Qk0H"));t.ConsoleReporter=class{constructor(e=2,t="info"){this.spacingLevel=e,this.logLevel=t}send(e){return r(this,void 0,void 0,(function*(){o.default.log(this.logLevel,`[semantic-metrics] ${JSON.stringify(e,null,this.spacingLevel)}`)}))}}},aECo:function(e,t,n){"use strict";var r=n("2KG9");e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},aGOy:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n("j9kN"),i=n("HNpk"),o=n("1WqI"),a=n("Ftws"),s=n("qYJ9"),u=n("tSmw");const c=function(){},l=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/,p="undefined"!=typeof window;class f extends r.b{constructor(e){super(),this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatToken=0,this._heartbeatTimeoutToken=0,this._connected=!1,this._endpoint=null,this._WebSocket=e.WebSocket||WebSocket,this._heartbeatTimeout=e.heartbeatTimeout||1e4}static create(e){return new f(e)}_startHeartbeat(e){const t=()=>{this.ping().then(()=>this._onHeartbeatSuccess(),()=>this._onHeartbeatError()),this._heartbeatTimeoutToken=setTimeout(()=>this._onHeartbeatError(),this._heartbeatTimeout)};e?t():this._heartbeatToken=setTimeout(()=>t(),3e4)}_onHeartbeatError(){this._stopHeartbeat(),this._socket&&this._socket.close(o.a.TIMEOUT,"internal-timeout")}_onHeartbeatSuccess(){this._stopHeartbeat(),this._startHeartbeat()}_stopHeartbeat(){null!==this._heartbeatToken&&clearTimeout(this._heartbeatToken),null!==this._heartbeatTimeoutToken&&clearTimeout(this._heartbeatTimeoutToken)}_prepareConnectionId(e){if(!e.uri)return!1;const t=e.uri.match(l);if(!t)return!1;let n;return n=e.headers&&e.headers["Spotify-Connection-Id"]?e.headers["Spotify-Connection-Id"]:decodeURIComponent(t[1]),this._connectionId=n,this._connectionURI=e.uri,this.emit(s.a.CONNECTION_ID,{id:n,uri:e.uri}),!0}_reply(e,t){if(!e)throw new TypeError("Invalid key.");const n=this._socket;if(!n||1!==n.readyState)return;const r={type:"reply",key:e,payload:t};n.send(JSON.stringify(r))}_parseMessage(e){let t;try{t=JSON.parse(e)}catch(e){return}if("message"===t.type)this._waitingForConnectionId&&this._prepareConnectionId(t)?(this._waitingForConnectionId=!1,this._startHeartbeat(!0)):this.emit(s.a.MESSAGE,{message:t});else if("pong"===t.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("request"===t.type){const e=t.key;e&&this.emit(s.a.REQUEST,{request:t,reply:this._reply.bind(this,e)})}}_handleOpen(e){e.resolve(!0),this._connected=!0,this.emit(s.a.AUTHENTICATED,null)}_handleMessage(t){const n=this,r=t.data;if(p&&window.Blob&&r instanceof window.Blob){const e=new FileReader;e.onloadend=function(){if(!this.result)return;let e;if(this.result instanceof ArrayBuffer){e="";const t=new Uint8Array(this.result);for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n])}else e=this.result;n._parseMessage(e)},e.readAsText(r)}else void 0!==e&&"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?this._parseMessage(new e(r).toString("ascii")):this._parseMessage(r)}_handleClose(e){const t=this._connected;if(this._connected=!1,t)this.emitSync(s.a.DISCONNECTED,{wsCode:e.code,reason:e.reason});else{const t=new a.a(i.a.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",e);this.emit(s.a.AUTHENTICATION_FAILED,{error:t})}}_handleError(e){const t=new a.a(i.a.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");e.reject(t),this._connected=!1,this.emit(s.a.ERROR,{error:t})}connect(e){return this._endpoint=e,this._waitingForConnectionId=!0,this.emit(s.a.CONNECTED,null),Promise.resolve(!0)}authenticate(e){const t=Object(u.a)(),n=`${this._endpoint}?access_token=${e}`,r=this._socket=new this._WebSocket(n);return r.onopen=this._handleOpen.bind(this,t),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,t),r.onmessage=this._handleMessage.bind(this),t.promise}disconnect(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(o.a.CLOSE,"internal-close"),this._socket.onopen=c,this._socket.onerror=c,this._socket.onmessage=c,this._socket.onclose=c,this._socket=null,this.emitSync(s.a.DISCONNECTED,{wsCode:o.a.CLOSE,reason:"internal-close"}))}ping(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=Object(u.a)(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):Promise.reject(new a.a(i.a.DEALER_CONNECTION_ERROR,"Dealer connection error"))}getConnectionId(){return this._waitingForConnectionId?new Promise(e=>{this.once(s.a.CONNECTION_ID,t=>{e(t.data.id)})}):Promise.resolve(this._connectionId)}getConnectionInfo(){return this._waitingForConnectionId?new Promise(e=>{this.once(s.a.CONNECTION_ID,t=>{e({id:t.data.id,uri:t.data.uri})})}):Promise.resolve({id:this._connectionId,uri:this._connectionURI})}hasConnectionId(){return!this._waitingForConnectionId&&!!this._connectionId}}}).call(this,n("qykS").Buffer)},aMhX:function(e,t,n){"use strict";e.exports=function(e){return{name:"KmPageViewNonAuth",data:n("amWn")(e,{type:{type:"string",nullable:!0},page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},referrer:{type:"string",nullable:!0}})}}},aU8I:function(e,t,n){"use strict";var r=n("mpLd");e.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},amWn:function(e,t,n){"use strict";function r(e){var t=typeof e;return"object"===t?e?Object.prototype.toString.call(e).slice(8,-1):null:t}function i(e,t){for(var n=0,i=e.length;n<i;n++){var o=r(e[n]);if(t.indexOf(o)<0)throw new ReferenceError("Wrong subtype in data array.")}}function o(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=r(e[n]);if(t.indexOf(i)<0)throw new ReferenceError("Wrong subtype in map.")}}e.exports=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))throw new ReferenceError("Bad key, mismatching schema in logging data.");if(!t[n].nullable||e[n]){if(!e[n])throw new ReferenceError("Missing non-nullable value.");var a=r(e[n]),s=t[n].type.split("|"),u=t[n].complex_type;if("Array"===u)i(e[n],s);else{if("Object"!==u){if(s.indexOf(a)>=0)continue;throw new ReferenceError("Type mismatch in logging data.")}o(e[n],s)}}}return e}},aoi3:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},asuC:function(e,t,n){"use strict";(function(t){var n,r=t.Promise;if(!r)throw new Error("Fatal: no Promise implementation available.");(n=Object.defineProperty?function(e,t,n){return e[t]?e:(Object.defineProperty(e,t,{value:n,configurable:!0,writable:!0}),e)}:function(e,t,n){return e[t]?e:(e[t]=n,e)})(r,"defer",(function(){var e={};return e.promise=new r((function(t,n){e.resolve=t,e.reject=n})),e})),n(r.prototype,"spread",(function(e,t){return this.then((function(e){return r.all(e)})).then((function(t){return 1===t.length?e(t[0]):e.apply(this,t)}),t)})),e.exports=r}).call(this,n("pCvA"))},b2zt:function(e,t,n){"use strict";if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return r.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},bRtl:function(e,t,n){"use strict";(function(t){var r=n("ovh1"),i=n("71kK"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n("zf4f"):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=n("zf4f")),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u}).call(this,n("5IsQ"))},bbcx:function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},bhwH:function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("E6BA"),s=n("nAES"),u=n("Md2V"),c=n("06ib"),l=function(){},p=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/;function f(e){i.call(this);var n=e||{};this._WebSocket=e.WebSocket||t.WebSocket,this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatTimeout=n.heartbeatTimeout||1e4,this._heartbeatToken=null,this._heartbeatTimeoutToken=null,this._onHeartbeatSuccess=this._onHeartbeatSuccess.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}r(f,i),f.create=function(e){return new f(e)},f.prototype._onHeartbeatError=function(){this._stopHeartbeat(),this._socket&&this._socket.close(c.TIMEOUT,"internal-timeout")},f.prototype._onHeartbeatSuccess=function(){this._stopHeartbeat(),this._startHeartbeat()},f.prototype._startHeartbeat=function(e){var t=function(){this.ping().then(this._onHeartbeatSuccess,this._onHeartbeatError),this._heartbeatTimeoutToken=setTimeout(this._onHeartbeatError,this._heartbeatTimeout)}.bind(this);e?t():this._heartbeatToken=setTimeout(t,3e4)},f.prototype._stopHeartbeat=function(){clearTimeout(this._heartbeatToken),clearTimeout(this._heartbeatTimeoutToken)},f.prototype._prepareConnectionId=function(e){if(!e.uri)return!1;var t,n=e.uri.match(p);return!!n&&(t=e.header&&e.headers["Spotify-Connection-Id"]?e.headers["Spotify-Connection-Id"]:decodeURIComponent(n[1]),this._connectionId=t,this._connectionURI=e.uri,this.emit(a.DEALER_CONNECTION_ID,{id:t,uri:e.uri}),!0)},f.prototype._reply=function(e,t){if(!e)throw new TypeError("Invalid key.");var n=this._socket;if(n&&1===n.readyState){var r={type:"reply",key:e,payload:t};n.send(JSON.stringify(r))}},f.prototype._parseMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){return}if(this._waitingForConnectionId&&this._prepareConnectionId(t))this._waitingForConnectionId=!1,this._startHeartbeat(!0);else if("pong"===t.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("message"===t.type)this.emit(a.DEALER_MESSAGE,{data:t});else if("request"===t.type){var n=t.key;n&&this.emit(a.DEALER_REQUEST,{data:t,reply:this._reply.bind(this,n)})}},f.prototype._handleOpen=function(e){e.resolve(!0),this._connected=!0,this.emit(a.DEALER_AUTHENTICATED)},f.prototype._handleMessage=function(e){var n=this,r=e.data;if(t.Blob&&r instanceof t.Blob){var i=new t.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else t.Buffer&&t.ArrayBuffer&&r instanceof t.ArrayBuffer?this._parseMessage(new t.Buffer(r).toString("ascii")):this._parseMessage(r)},f.prototype._handleClose=function(e){var t=this._connected;if(this._connected=!1,t)this.emitSync(a.DEALER_DISCONNECTED,{wsCode:e.code,reason:e.reason});else{var n=new u(s.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",e);this.emit(a.DEALER_AUTHENTICATION_FAILED,{error:n})}},f.prototype._handleError=function(e){var t=new u(s.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");e.reject(t),this._connected=!1,this.emit(a.DEALER_ERROR,{error:t})},f.prototype.connect=function(e){return this._endpoint=e,this._waitingForConnectionId=!0,this.emit(a.DEALER_CONNECTED),o.resolve(!0)},f.prototype.authenticate=function(e){var t=o.defer(),n=this._endpoint+"?access_token="+e,r=this._socket=new this._WebSocket(n);return r.onopen=this._handleOpen.bind(this,t),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,t),r.onmessage=this._handleMessage.bind(this),t.promise},f.prototype.disconnect=function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(c.CLOSE,"internal-close"),this._socket.onopen=l,this._socket.onerror=l,this._socket.onmessage=l,this._socket.onclose=l,this._socket=null,this.emitSync("disconnected",{wsCode:c.CLOSE,reason:"internal-close"}))},f.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=o.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):o.reject(new u(s.DEALER_CONNECTION_ERROR,"Dealer connection error"))},f.prototype.getConnectionId=function(){return this._waitingForConnectionId?new o(function(e){this.once("connection_id",(function(t){e(t.id)}))}.bind(this)):o.resolve(this._connectionId)},f.prototype.getConnectionInfo=function(){return this._waitingForConnectionId?new o(function(e){this.once("connection_id",(function(t){e({id:t.id,uri:t.uri})}))}.bind(this)):o.resolve({id:this._connectionId,uri:this._connectionURI})},f.prototype.hasConnectionId=function(){return!this._waitingForConnectionId&&!!this._connectionId},e.exports=f}).call(this,n("pCvA"))},bzhS:function(e,t){function n(){}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}n.maxFromBits=function(e){return Math.pow(2,e)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return r(0,n.limitUI04-1)},n.randomUI06=function(){return r(0,n.limitUI06-1)},n.randomUI08=function(){return r(0,n.limitUI08-1)},n.randomUI12=function(){return r(0,n.limitUI12-1)},n.randomUI14=function(){return r(0,n.limitUI14-1)},n.randomUI16=function(){return r(0,n.limitUI16-1)},n.randomUI32=function(){return r(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(e,t,n){n=n||"0";for(var r=t-(e=String(e)).length;r>0;r>>>=1,n+=n)1&r&&(e=n+e);return e},n.prototype.fromParts=function(e,t,r,i,o,a){return this.version=r>>12&15,this.hex=n.paddedString(e.toString(16),8)+"-"+n.paddedString(t.toString(16),4)+"-"+n.paddedString(r.toString(16),4)+"-"+n.paddedString(i.toString(16),2)+n.paddedString(o.toString(16),2)+"-"+n.paddedString(a.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var e=this.hex.split("-"),t=[],n=0,r=0;r<e.length;r++)for(var i=0;i<e[r].length;i+=2)t[n++]=parseInt(e[r].substr(i,2),16);return t},n.prototype.equals=function(e){return e instanceof UUID&&this.hex===e.hex},n.getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),n=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var e=(new Date).getTime(),t=n.randomUI14(),r=1099511627776*(1|n.randomUI08())+n.randomUI40(),i=n.randomUI04(),o=0;e!=o?(e<o&&t++,o=e,i=n.randomUI04()):Math.random()<.25&&i<9984?i+=1+n.randomUI04():t++;var a=n.getTimeFieldValues(o),s=a.low+i,u=4095&a.hi|4096,c=(t&=16383)>>>8|128,l=255&t;return(new n).fromParts(s,a.mid,u,c,l,r)},n.create=function(e){return this["_create"+(e=e||4)]()},n.fromTime=function(e,t){t=t||!1;var r=n.getTimeFieldValues(e),i=r.low,o=4095&r.hi|4096;return!1===t?(new n).fromParts(i,r.mid,o,0,0,0):(new n).fromParts(i,r.mid,o,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(e){return n.fromTime(e,!1)},n.lastFromTime=function(e){return n.fromTime(e,!0)},n.fromURN=function(e){var t;return(t=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(e))?(new n).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},n.fromBytes=function(e){if(e.length<5)return null;for(var t="",r=0,i=[4,2,2,2,6],o=0;o<i.length;o++){for(var a=0;a<i[o];a++){var s=e[r++].toString(16);1==s.length&&(s="0"+s),t+=s}6!==i[o]&&(t+="-")}return n.fromURN(t)},n.fromBinary=function(e){for(var t=[],r=0;r<e.length;r++)if(t[r]=e.charCodeAt(r),t[r]>255||t[r]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(t)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},e.exports=n},c70j:function(e,t,n){"use strict";(function(t){var r=n("PQZM"),i=n("wrle"),o=n("lIgl"),a=n("dcjB"),s=n("qG8n"),u=n("asuC"),c=n("uo0B"),l=n("bhwH"),p=n("Z/ih"),f=n("6GjV"),d=n("Mj+E"),h=n("27+M"),y=n("E6BA"),_=n("nAES"),m=n("W8eV"),g=n("sDqU"),v=n("06ib"),E=n("yjPC").forTag("transport.transport"),b=/^(?:https?:\/\/)?@([^\/]+)\//,T=/^(ws|http)s?:\/\/.*[^\/]$/,S=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,w=1,O=4,A={fetch:!0,xhr:!0};function R(e){if(!e)throw new TypeError("Argument `config` for Transport cannot be null.");if(!e.providers)throw new TypeError("Argument `config.providers` for Transport cannot be null.");s.call(this),this._ownerRef="ownerRef"in e?Object(e.ownerRef):{},this._tokenProvider=e.providers.token,this._endpointsProvider=e.providers.endpoints,this._HTTP=e.HTTP,this._Fetch=e.Fetch,this._WebSocket=e.WebSocket,this._reconnectionRetries=e.reconnectionRetries>=0?e.reconnectionRetries:3,this._requestMode=e.requestMode in A?e.requestMode:"xhr",this._forcePolyfillTypes=e.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in e&&e.disableAutoLogout,this._activated=!1,this._dealer=null,this._connectionObserver=null,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._disconnectBeforeUnload=e.disconnectBeforeUnload||!1,this._counter=new a(e.backoffStrategy||{algo:"exp",baseTime:5e3,ceiling:15e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._init()}r(R,s),R.create=function(e){return new R(e)},R.prototype._init=function(){this.onAddListener(y.TRANSPORT_CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(y.TRANSPORT_AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(y.TRANSPORT_CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(y.TRANSPORT_CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(y.TRANSPORT_AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(y.TRANSPORT_CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch.isSupported()||(E.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var e=new l({WebSocket:this._WebSocket});this._dealer=e,e.on(y.DEALER_DISCONNECTED,this._onDealerDisconnected.bind(this)),this._disableAutoLogout||this.matchMessages("client:logout",this._onLogout.bind(this)),this.proxyEmit(e,y.DEALER_CONNECTION_ID,y.TRANSPORT_CONNECTION_ID),this.proxyEmitSync(e,y.DEALER_MESSAGE,y.INTERNAL_DEALER_MESSAGE),this.proxyEmitSync(e,y.DEALER_REQUEST,y.INTERNAL_DEALER_REQUEST),this._connectionObserver=new p({notifyBeforeUnload:this._disconnectBeforeUnload}),this._connectionObserver.on(y.CONNECTION_ONLINE,this._onOnline.bind(this)),this._connectionObserver.on(y.CONNECTION_OFFLINE,this._onOffline.bind(this)),this._connectionObserver.on(y.WINDOW_BEFORE_UNLOAD,this.disconnect.bind(this))},R.prototype._onAddListener=function(e,t){if(!t.options.ignoreCurrentState){var n=null;switch(e){case"connected":if(!this.isConnected())return;n=u.resolve(s.createEvent(y.TRANSPORT_CONNECTED));break;case"authenticated":if(!this.isAuthenticated())return;n=u.resolve(s.createEvent(y.TRANSPORT_AUTHENTICATED));break;case"connection_id":if(!this._dealer.hasConnectionId())return;n=this._dealer.getConnectionInfo().then((function(e){return s.createEvent(y.TRANSPORT_CONNECTION_ID,e)}));break;default:return}var r=t.listener;this._stateAwareListeners[e].push(r);var i=this._stateAwareRunners;i[e]||(i[e]=n.then(this._runStateAwareQueues.bind(this,e)),t.options.once&&t.preventDefault())}},R.prototype._onRemoveListener=function(e,t){if(!t.options.ignoreCurrentState){var n=t.listener,r=this._stateAwareListeners[e].indexOf(n);-1!==r&&this._stateAwareListeners[e].splice(r,1)}},R.prototype._runStateAwareQueues=function(e,t){for(var n=this._stateAwareListeners[e].splice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t);this._stateAwareRunners[e]=null},R.prototype._onDealerDisconnected=function(e){var t=Date.now(),n=t-this._lastDisconnect;this._disconnect(!0),e.wsCode!==v.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(y.TRANSPORT_SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._counter.getTime(this._quickDisconnectCount))):(this._quickDisconnectCount=0,this._lastDisconnect=t,this._tryToReconnect())):this._quickDisconnectCount=0},R.prototype._onLogout=function(){var e=function(){this._lastToken=null,this._lastTokenExpiry=0,this.emit(y.TRANSPORT_LOGGED_OUT)}.bind(this);this.disconnect().then(e,e)},R.prototype._onAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=O,this._initTime=Date.now(),this.emit(y.TRANSPORT_AUTHENTICATED),u.resolve(!0)},R.prototype._onAuthenticationFailed=function(e){var t=e&&e.error?e.error:e;return this._authenticationPromise=null,this._stateMask&=~O,this.emit(y.TRANSPORT_AUTHENTICATION_FAILED,{error:t}),u.reject(t)},R.prototype._onOffline=function(){this.emit(y.TRANSPORT_CONNECTION_OFFLINE),this._disconnect(!0)},R.prototype._onOnline=function(){this.emit(y.TRANSPORT_CONNECTION_ONLINE),this._activated&&this._tryToReconnect()},R.prototype._tryToReconnect=function(){this._isReconnecting||(this._stateMask=0,o.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){this._stateMask=0,this._isReconnecting=!1,this.emit(y.TRANSPORT_DISCONNECTED)}.bind(this)))},R.prototype._createReconnector=function(){var e=!0;return function(){return this._isReconnecting=!0,this.emit(y.TRANSPORT_RECONNECTING),this._disconnect(!0),this._connect().then(function(){return this._authenticate(e).then((function(t){return e=!1,t}),(function(t){return e=!0,u.reject(t)}))}.bind(this)).then(function(){return this._isReconnecting=!1,this.emit(y.TRANSPORT_RECONNECTED),!0}.bind(this))}.bind(this)},R.prototype._connect=function(){return this._stateMask&w?u.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new u(function(e,t){this._connectionObserver.once(y.CONNECTION_ONLINE,function(){this._performConnect().then(e,t)}.bind(this))}.bind(this))},R.prototype._performConnect=function(){return new u(function(e){e(this._endpointsProvider(this.toPublic()))}.bind(this)).catch((function(e){if(!e||e.code)return u.reject(e);var t=new m(_.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,e.message||"Endpoints provider error.");return t.origin=t,u.reject(t)})).then(this._connectToEndpoints.bind(this)).catch(function(e){var t=e&&e.error?e.error:e;return this.emit(y.TRANSPORT_CONNECTION_FAILED,{error:t}),u.reject(t)}.bind(this))},R.prototype._connectToEndpoints=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&e[n]){var r=e[n];T.test(r)&&(r+="/"),t[n]=r}this._endpoints=t,this.emit(y.TRANSPORT_ENDPOINTS_RESOLVED,{endpoints:i({},this._endpoints)});var o=function(){return this._stateMask|=w,this.emit(y.TRANSPORT_CONNECTED),u.resolve(!0)}.bind(this);return e.dealer?this._dealer.connect(t.dealer).then(o):o()},R.prototype._disconnect=function(e){return this._stateMask=0,this._dealer.disconnect(),e||this.emit(y.TRANSPORT_DISCONNECTED),!0},R.prototype._refreshToken=function(e){if(!this._refreshTokenPromise){if(!e&&Date.now()<this._lastTokenExpiry)return u.resolve(this._lastToken);var t=function(){this._refreshTokenPromise=null}.bind(this);this._refreshTokenPromise=new u(function(e){e(this._tokenProvider())}.bind(this)).then(this._parseProvidedToken),this._refreshTokenPromise.then(t,t)}return this._refreshTokenPromise},R.prototype._parseProvidedToken=function(e){var t,n;if(Array.isArray(e)?(t=e[0],n=parseInt(e[1]||3540,10)):(t=e,n=3540),!t)throw this._lastToken=null,this._lastTokenExpiry=0,new m(_.TRANSPORT_INVALID_TOKEN,"Token provider returned an invalid token: "+t);return this._lastToken=t,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(y.TRANSPORT_ACCESS_TOKEN,{token:t}),t},R.prototype._authenticateWithToken=function(e){return this._endpoints.dealer?this._dealer.authenticate(e):u.resolve(!0)},R.prototype._tryExpandSpecialURL=function(e){var t=this._endpoints;return e.replace(b,(function(e,n){if(!t.hasOwnProperty(n))throw new TypeError("Cannot replace endpoint @"+n+"; Endpoint undefined.");return t[n]}))},R.prototype._processRequestArgs=function(e,t){return new u(function(n){var r=e,o=t||{},a={algo:"exp",maxRetries:2,maxTime:15e3};b.test(r)&&(r=this._tryExpandSpecialURL(r),"authorize"in o||(o.authorize=!0)),o.forcePolyfill=o.responseType in this._forcePolyfillTypes,o.requestMode||(o.requestMode=this._requestMode),"retry"in o&&i(a,o.retry),o.connectionObserver=this._connectionObserver,"metadata"in o||(o.metadata=null),n({url:r,args:o,backoffStrategy:a})}.bind(this))},R.prototype._setAuthHeader=function(e,t){if(!e.authorize)return u.resolve(e);var n=function(){return this._refreshToken(t).then((function(t){return e.headers||(e.headers={}),t!==g&&(e.headers.Authorization="Bearer "+t),e}))}.bind(this);return this._stateMask&O?n():new u(function(e,t){this.once("authenticated",(function(){n().then(e,t)}))}.bind(this))},R.prototype._sendRetriedRequest=function(e){var t=e.backoffStrategy,n=!1,r=function(){return this._setAuthHeader(e.args,n)}.bind(this),i=this._connectionObserver,a=function(){return(i.isOnline()?r():new u((function(t,n){e.args.allowOffline?r().then(t,n):i.once(y.CONNECTION_ONLINE,(function(){r().then(t,n)}))}))).then(function(){return"fetch"===e.args.requestMode&&this._Fetch.isSupported()?this._Fetch.request(e.url,e.args):this._HTTP.request(e.url,e.args)}.bind(this)).then((function(r){var i;if(r.headers&&(i=r.headers.get("Retry-After")),r.status===d.UNAUTHORIZED&&!e.args.ignoreUnauthorized)return n=!0,u.reject(r);if("function"==typeof t.condition&&(t.condition(r,h)||i)){var o=parseInt(i,10);return S.test(i)?r.retryAfter=new Date(i).getTime()-Date.now():o>0&&(r.retryAfter=1e3*o),u.reject(r)}return r}))}.bind(this);return o.init(a,t).catch(this._handleRetriedRequestError).then((function(t){return t.metadata=e.args.metadata,e.args.rejectNotOk&&!t.ok?u.reject(t):t}))},R.prototype._handleRetriedRequestError=function(e){return e instanceof f?u.resolve(e):u.reject(e)},R.prototype._sendFireAndForgetRequest=function(e){return"function"==typeof t.fetch?t.fetch(e,{mode:"no-cors"}).catch((function(){})):t.Image?(new t.Image).src=e:this.request(e,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}),u.resolve(new f(e,0))},R.prototype._sendRequest=function(e,t){return this._processRequestArgs(e,t).then(function(e){return e.args.forget?this._sendFireAndForgetRequest(e.url):this._sendRetriedRequest(e)}.bind(this))},R.prototype.getEndpoints=function(){return i({},this._endpoints)},R.prototype.getInitTime=function(){return this._initTime},R.prototype.getLastToken=function(){return this._lastToken},R.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},R.prototype.isConnected=function(){return!!(this._stateMask&w)},R.prototype.isAuthenticated=function(){return!!(this._stateMask&O)},R.prototype.isOnline=function(){return this._connectionObserver.isOnline()},R.prototype.forceTokenRefresh=function(){return this._refreshToken(!0).then((function(){return!0}))},R.prototype.connect=function(){return this._activated=!0,this._connect()},R.prototype.disconnect=function(){if(!this._activated)return u.resolve(!1);this._activated=!1;var e=this.isConnected()?y.TRANSPORT_BEFORE_ONLINE_DISCONNECT:y.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,t=[];return this.emitSync(e,{awaitPromise:function(e){t.push(e)}}),u.all(t).then(this._disconnect.bind(this,!1))},R.prototype.forceDisconnect=function(){return this._activated?(this._activated=!1,this._disconnect(),u.resolve(!0)):u.resolve(!1)},R.prototype._authenticate=function(e){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken(e).catch((function(e){if(!e||e.code)return u.reject(e);var t=new m(_.TRANSPORT_TOKEN_PROVIDER_ERROR,e.message||"Token provider error.");return t.origin=t,u.reject(t)})).then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:2,baseTime:500,maxTime:15e3}).then(this._onAuthenticated).catch(this._onAuthenticationFailed)),this._authenticationPromise},R.prototype.authenticate=function(){return this._authenticate(!0)},R.prototype.request=function(e,t){var n=this._sendRequest.bind(this,e,t);return!(t&&t.allowOffline)&&!this._connectionObserver.isOnline||b.test(e)&&!(this._stateMask&w)?new u(function(e,t){this.once("connected",(function(){n().then(e,t)}))}.bind(this)):n()},R.prototype.matchMessages=function(e,t){if(!e)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(e)&&t(r)};n.__matchMessagesExp=e,t.__matchMessagesWrapper=n,this.on(y.INTERNAL_DEALER_MESSAGE,n)},R.prototype.unmatchMessages=function(e,t){if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=t.__matchMessagesWrapper;return n.__matchMessagesExp===e&&(this.removeListener(y.INTERNAL_DEALER_MESSAGE,n),!0)},R.prototype.handlePushRequests=function(e,t){if(!e)throw new TypeError('Dealer push request "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Dealer push request callback cannot be null.");var n=function(n){var r=n.data;r.message_ident&&r.message_ident.match(e)&&u.resolve(t(r)).then(n.reply)};n.__matchRequestExp=e,t.__matchRequestWrapper=n,this.on(y.INTERNAL_DEALER_REQUEST,n)},R.prototype.unhandlePushRequests=function(e,t){if("function"!=typeof t)throw new TypeError("Dealer push request callback cannot be null.");var n=t.__matchRequestWrapper;return n.__matchRequestWrapper===e&&(this.removeListener(y.INTERNAL_DEALER_REQUEST,n),!0)},R.prototype.toPublic=function(){return new c(this)},R.prototype.hasOwnerRef=function(e){return this._ownerRef===e},e.exports=R}).call(this,n("pCvA"))},cMU9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ZK1A");class i extends Error{constructor(e,t,n=-1){super(t),this.name="XResolveError",this.message=t,this.code=e,this.status=n}}const o="dealer",a="spclient";function s(e={}){const t=e.dealer||o,n=e.webgate||a,s=`https://apresolve.spotify.com/?type=${t}&type=${n}`;return function(e){return e.request(s,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:5,condition:function(e,t){return e.getStatusFamily()!==t.SUCCESS}},metadata:{noRequestTransform:!0}}).then(e=>{if(200!==e.status)throw new i(r.a.XRESOLVE_REQUEST_FAILED_WITH_STATUS,`X-Resolve responded with status${e.status}`,e.status);const o=e.body;if(!o)throw new i(r.a.XRESOLVE_INVALID_RESPONSE,"X-Resolve responded with empty/invalid body.",e.status);const a={dealer:o[t]&&o[t][0],webgate:o[n]&&o[n][0],webapi:"https://api.spotify.com/"};if(!a.dealer||!a.webgate)throw new i(r.a.XRESOLVE_INCOMPLETE_RESPONSE,"X-Resolve responded with incomplete results.",e.status);return a}).then(e=>(e.dealer=`wss://${e.dealer.replace(/:443$/,"")}`,e.webgate=`https://${e.webgate.replace(/:443$/,"")}`,e))}}},cON5:function(e,t,n){"use strict";var r=n("ovh1");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},cPgy:function(e,t,n){"use strict";var r=n("EFBM"),i=n("JHUG"),o=n("4w/7"),a=n("inC2").Event,s=n("Fqzz"),u=n("TBe3"),c=n("8vwS"),l=n("uDox"),p=n("asuC"),f=l.forTag("EventSender");function d(e){var t=e||{};this._transport=t.transport,this._upload=this._upload.bind(this),this._shouldRetry=this._shouldRetry.bind(this),this._uploadWaiting=!1,this._sequenceIdGenerator=r.create(),this._uploader=i.create({enableDebugInfo:t.enableDebugInfo,suppressPersist:t.suppressPersist,transport:this._transport}),this._contextCreators=t.context||[];for(var n=0,o=this._contextCreators.length;n<o;n++)if("function"!=typeof this._contextCreators[n])throw new Error("The context creator at index "+n+" is not a function");this._contextCreators.push(s),this._contextCreators.push(u),t.clientId&&this._contextCreators.push(c(t.clientId)),this._refreshing=!1,this._events=[],this._backoffBaseTime=t.baseTime||200,this._backoffCeiling=t.ceiling||3e5,this._backoffMaxDuration=t.maxDuration||18e5,this._transport.on(a.TRANSPORT_BEFORE_ONLINE_DISCONNECT,this._onBeforeDisconnect.bind(this))}d.create=function(e){return new d(e)},d.prototype._onBeforeDisconnect=function(e){var t=this._uploader.lastUpload(this._events.splice(0));e.data&&e.data.awaitPromise?e.data.awaitPromise(t):e.awaitPromise(t)},d.prototype._shouldRetry=function(){return this._transport.isOnline()&&!this._refreshing},d.prototype._initFlush=function(){var e=this._backoffBaseTime,t=!1;return this._uploader.shouldBackoff()&&(e=this._backoffCeiling,t=!0),o.init(this._upload,{algo:"exp",baseTime:e,ceiling:this._backoffCeiling,maxDuration:this._backoffMaxDuration,backoffInitial:t,retryPredicate:this._shouldRetry})},d.prototype._waitForConnection=function(){return new p(function(e){this._transport.once(a.TRANSPORT_CONNECTION_ONLINE,e)}.bind(this))},d.prototype.flush=function(){return this._transport.isOnline()||this._ongoingUpload||(this._ongoingUpload=this._waitForConnection()),this._ongoingUpload?(this._uploadWaiting||(this._uploadWaiting=!0,this._ongoingUpload=this._ongoingUpload.then(function(){return this._ongoingUpload=!1,this._uploadWaiting=!1,this.flush()}.bind(this))),this._ongoingUpload):this._events.length?(this._ongoingUpload=this._initFlush().then(function(e){return this._ongoingUpload=void 0,e}.bind(this)).catch(function(){return this._ongoingUpload=void 0,this._transport.isOnline()?(this._refreshing||(f.warn("The events in the queue could not be uploaded. Throwing away "+this._events.length+" events."),this._events=[]),{nack:this._events,backoff:this._uploader.shouldBackoff()}):this.flush()}.bind(this)),this._ongoingUpload):p.resolve({nack:this._events,backoff:this._uploader.shouldBackoff()})},d.prototype._upload=function(){return this._uploader.upload(this._events.splice(0)).then(function(e){if(e.nack.length)throw this._events=e.nack.concat(this._events),new Error("Backoff requested");return e}.bind(this))},d.prototype.log=function(e,t){var n={sequence_id:this._sequenceIdGenerator.getSequenceId(),sequence_number:this._sequenceIdGenerator.nextSequenceNumber(e.name),event_name:e.name};n.fragments={message:e.data};for(var r=0,i=this._contextCreators.length;r<i;r++){var o=this._contextCreators[r].call(this);n.fragments[o.name]=o.data}this._events.push(n),!1!==t&&this.flush()},d.prototype.refresh=function(){return this._sequenceIdGenerator.reset(),this._refreshing=!0,this.flush().then(function(){return this._transport.forceTokenRefresh().then(function(e){return this._refreshing=!1,e}.bind(this))}.bind(this)).catch(function(e){return f.warn("Could not flush using cached token",e),this._refreshing=!1,!0}.bind(this))},e.exports=d},ccLT:function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,i){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(i,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(i,e[s],s,e)}},cnbf:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return s}));var r=n("Rblx"),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],p=l,f=!1;function d(){p===l&&(p=l.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return d(),p.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,d();var n=p.indexOf(e);p.splice(n,1),l=null}}}function _(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=p,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,_({type:o.REPLACE})}function g(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return _({type:o.INIT}),(i={dispatch:_,subscribe:y,getState:h,replaceReducer:m})[r.a]=g,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],p=e[c],f=l(p,t);if(void 0===f){var d=u(c,t);throw new Error(d)}i[c]=f,r=r||f!==p}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=l(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return h({},n,{dispatch:r=y.apply(void 0,o)(n.dispatch)})}}}},czhI:function(e,t,n){e.exports=n("TDIH")},"d8/y":function(e,t,n){(function(t){var r=n("H96c").UINT64,i=r("11400714785074694791"),o=r("14029467366897019727"),a=r("1609587929392839161"),s=r("9650029242287828579"),u=r("2870177450012600261");function c(){return 2==arguments.length?new c(arguments[1]).update(arguments[0]).digest():this instanceof c?void l.call(this,arguments[0]):new c(arguments[0])}function l(e){return this.seed=e instanceof r?e.clone():r(e),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}c.prototype.init=l,c.prototype.update=function(e){var n,a="string"==typeof e;a&&(e=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}(e),a=!1,n=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(n=!0,e=new Uint8Array(e));var s=0,u=e.length,c=s+u;if(0==u)return this;if(this.total_len+=u,0==this.memsize&&(this.memory=a?"":n?new Uint8Array(32):new t(32)),this.memsize+u<32)return a?this.memory+=e:n?this.memory.set(e.subarray(0,u),this.memsize):e.copy(this.memory,this.memsize,0,u),this.memsize+=u,this;if(this.memsize>0){a?this.memory+=e.slice(0,32-this.memsize):n?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize);var l=0;if(a)f=r(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v1.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v2.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v3.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v4.add(f.multiply(o)).rotl(31).multiply(i);else f=r(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v1.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v2.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v3.add(f.multiply(o)).rotl(31).multiply(i),l+=8,f=r(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v4.add(f.multiply(o)).rotl(31).multiply(i);s+=32-this.memsize,this.memsize=0,a&&(this.memory="")}if(s<=c-32){var p=c-32;do{var f;if(a)f=r(e.charCodeAt(s+1)<<8|e.charCodeAt(s),e.charCodeAt(s+3)<<8|e.charCodeAt(s+2),e.charCodeAt(s+5)<<8|e.charCodeAt(s+4),e.charCodeAt(s+7)<<8|e.charCodeAt(s+6)),this.v1.add(f.multiply(o)).rotl(31).multiply(i),s+=8,f=r(e.charCodeAt(s+1)<<8|e.charCodeAt(s),e.charCodeAt(s+3)<<8|e.charCodeAt(s+2),e.charCodeAt(s+5)<<8|e.charCodeAt(s+4),e.charCodeAt(s+7)<<8|e.charCodeAt(s+6)),this.v2.add(f.multiply(o)).rotl(31).multiply(i),s+=8,f=r(e.charCodeAt(s+1)<<8|e.charCodeAt(s),e.charCodeAt(s+3)<<8|e.charCodeAt(s+2),e.charCodeAt(s+5)<<8|e.charCodeAt(s+4),e.charCodeAt(s+7)<<8|e.charCodeAt(s+6)),this.v3.add(f.multiply(o)).rotl(31).multiply(i),s+=8,f=r(e.charCodeAt(s+1)<<8|e.charCodeAt(s),e.charCodeAt(s+3)<<8|e.charCodeAt(s+2),e.charCodeAt(s+5)<<8|e.charCodeAt(s+4),e.charCodeAt(s+7)<<8|e.charCodeAt(s+6)),this.v4.add(f.multiply(o)).rotl(31).multiply(i);else f=r(e[s+1]<<8|e[s],e[s+3]<<8|e[s+2],e[s+5]<<8|e[s+4],e[s+7]<<8|e[s+6]),this.v1.add(f.multiply(o)).rotl(31).multiply(i),f=r(e[(s+=8)+1]<<8|e[s],e[s+3]<<8|e[s+2],e[s+5]<<8|e[s+4],e[s+7]<<8|e[s+6]),this.v2.add(f.multiply(o)).rotl(31).multiply(i),f=r(e[(s+=8)+1]<<8|e[s],e[s+3]<<8|e[s+2],e[s+5]<<8|e[s+4],e[s+7]<<8|e[s+6]),this.v3.add(f.multiply(o)).rotl(31).multiply(i),f=r(e[(s+=8)+1]<<8|e[s],e[s+3]<<8|e[s+2],e[s+5]<<8|e[s+4],e[s+7]<<8|e[s+6]),this.v4.add(f.multiply(o)).rotl(31).multiply(i);s+=8}while(s<=p)}return s<c&&(a?this.memory+=e.slice(s):n?this.memory.set(e.subarray(s,c),this.memsize):e.copy(this.memory,this.memsize,s,c),this.memsize=c-s),this},c.prototype.digest=function(){var e,t,n=this.memory,c="string"==typeof n,l=0,p=this.memsize,f=new r;for(this.total_len>=32?((e=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v2.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v3.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v4.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s)):e=this.seed.clone().add(u),e.add(f.fromNumber(this.total_len));l<=p-8;)c?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2),n.charCodeAt(l+5)<<8|n.charCodeAt(l+4),n.charCodeAt(l+7)<<8|n.charCodeAt(l+6)):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2],n[l+5]<<8|n[l+4],n[l+7]<<8|n[l+6]),f.multiply(o).rotl(31).multiply(i),e.xor(f).rotl(27).multiply(i).add(s),l+=8;for(l+4<=p&&(c?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2),0,0):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2],0,0),e.xor(f.multiply(i)).rotl(23).multiply(o).add(a),l+=4);l<p;)f.fromBits(c?n.charCodeAt(l++):n[l++],0,0,0),e.xor(f.multiply(u)).rotl(11).multiply(i);return t=e.clone().shiftRight(33),e.xor(t).multiply(o),t=e.clone().shiftRight(29),e.xor(t).multiply(a),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},e.exports=c}).call(this,n("qykS").Buffer)},dTEH:function(e,t){var n=1e3,r=6e4,i=36e5,o=24*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=r)return a(e,t,r,"minute");if(t>=n)return a(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},dbjm:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("E6vx");function i(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n="'{snip} "+n),o<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(r.k)(e)&&(Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},dcjB:function(e,t,n){"use strict";var r=n("7JHm").counterDefaults;function i(e){var t=e||{};this._curve=t.curve||t.algo||r.curve,this._baseTime=t.baseTime||r.baseTime,this._ceiling=t.ceiling||r.ceiling,this._jitter=!(!1===t.jitter)}i.prototype.getTime=function(e){var t;switch(this._curve){case"static":t=1;break;case"logarithmic":case"log":t=Math.log(e);break;case"exponential":case"exp":t=Math.pow(Math.E,e);break;case"linear":case"lin":default:t=e+1}var n,r,i=Math.min(4294967296,Math.floor(t*this._baseTime));return this._ceiling&&(i=Math.min(i,this._ceiling)),this._jitter?(r=(n=i)/5,Math.floor(n-r/2+Math.random()*r)):i},e.exports=i},e4Ya:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(){for(var e=[],t=0;t<256;++t)e[t]=255;for(t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return String.fromCharCode.apply(String,e)}();var o=function(e){for(var t=String(e),n=[],i=t.length,o=0;o<i;){var a=255&t.charCodeAt(o++);if(o===i){n.push(r.charAt(a>>2),r.charAt((3&a)<<4),"==");break}var s=t.charCodeAt(o++);if(o===i){n.push(r.charAt(a>>2),r.charAt((3&a)<<4|(240&s)>>4),r.charAt((15&s)<<2),"=");break}var u=t.charCodeAt(o++);n.push(r.charAt(a>>2),r.charAt((3&a)<<4|(240&s)>>4),r.charAt((15&s)<<2|(192&u)>>6),r.charAt(63&u))}return n.join("")};t.encode=o;var a=function(e){for(var t,n,r=String(e),o=[],a=r.length,s=0;;){do{t=i.charCodeAt(255&r.charCodeAt(s++))}while(255===t&&s<a);do{n=i.charCodeAt(255&r.charCodeAt(s++))}while(255===n&&s<a);if(255===n)break;o.push(255&(t<<2|n>>4));do{t=i.charCodeAt(255&r.charCodeAt(s++))}while(255===t&&s<a);if(255===t)break;o.push(255&(n<<4|t>>2));do{n=i.charCodeAt(255&r.charCodeAt(s++))}while(255===n&&s<a);if(255===n)break;o.push(255&(t<<6|n))}return function(e){if(e.length<4096)return String.fromCharCode.apply(String,e);var t=0,n=[];do{n.push(String.fromCharCode.apply(String,e.slice(t,t+4096))),t+=4096}while(t<e.length);return n.join("")}(o)};t.decode=a,"undefined"!=typeof window&&window.btoa&&window.atob&&(t.encode=o=function(e){return window.btoa(e)},t.decode=a=function(e){return window.atob(e)})},e4br:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.DELETE="DELETE",e.GET="GET",e.OPTIONS="OPTIONS",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.TRACE="TRACE"}(r||(r={}))},e5jZ:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"eI+U":function(e,t,n){e.exports=n("Kk3y")},eXcQ:function(e,t,n){"use strict";e.exports={CLOSE:4e3,TIMEOUT:4001}},elnK:function(e,t,n){"use strict";var r=n("mXGw");const i="undefined"==typeof window?r.useEffect:r.useLayoutEffect;t.a=function(e){let t,n=new Set;const o=e=>{const r="function"==typeof e?e(t):e;r!==t&&(t=Object.assign({},t,r),n.forEach(e=>e()))},a=()=>t,s=(e,n=a,r=Object.is)=>({currentSlice:n(t),equalityFn:r,errored:!1,listener:e,selector:n,unsubscribe:()=>{}}),u=e=>{function r(){try{const n=e.selector(t);e.equalityFn(e.currentSlice,n)||e.listener(e.currentSlice=n)}catch(t){e.errored=!0,e.listener(null,t)}}return n.add(r),()=>{n.delete(r)}},c={setState:o,getState:a,subscribe:(e,t,n)=>u(s(e,t,n)),destroy:()=>n.clear()};return t=e(o,a,c),[(e=a,n=Object.is)=>{const o=Object(r.useReducer)(e=>e+1,0)[1],c=Object(r.useRef)();c.current||(c.current=s(o,e,n),c.current.unsubscribe=u(c.current));const l=c.current;let p,f=!1;return(l.selector!==e||l.equalityFn!==n||l.errored)&&(p=e(t),f=!n(l.currentSlice,p)),i(()=>{f&&(l.currentSlice=p),l.selector=e,l.equalityFn=n,l.errored=!1}),i(()=>l.unsubscribe,[]),f?p:l.currentSlice},c]}},f66B:function(e,t,n){"use strict";var r=n("V0bL"),i=n("73GF"),o=n("bbcx"),a=n("2Nju"),s=n("5xAX"),u=n("49sm"),c=n("DmXP"),l=n("VaBs"),p=n("6ayh"),f=n("Khql"),d=n("jNIk"),h=n("z2tW"),y=n("OZ+Z"),_=n("Z/tt"),m=n("G+CI"),g=f("Date.prototype.getTime"),v=Object.getPrototypeOf,E=f("Object.prototype.toString"),b=p("%Set%",!0),T=f("Map.prototype.has",!0),S=f("Map.prototype.get",!0),w=f("Map.prototype.size",!0),O=f("Set.prototype.add",!0),A=f("Set.prototype.delete",!0),R=f("Set.prototype.has",!0),C=f("Set.prototype.size",!0);function P(e,t,n,r){for(var i,o=h(e);(i=o.next())&&!i.done;)if(D(t,i.value,n,r))return A(e,i.value),!0;return!1}function I(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function N(e,t,n,r,i,o){var a=I(n);if(null!=a)return a;var s=S(t,a),u=m({},i,{strict:!1});return!(void 0===s&&!T(t,a)||!D(r,s,u,o))&&(!T(e,a)&&D(r,s,u,o))}function k(e,t,n){var r=I(n);return null!=r?r:R(t,r)&&!R(e,r)}function L(e,t,n,r,i,o){for(var a,s,u=h(e);(a=u.next())&&!a.done;)if(D(n,s=a.value,i,o)&&D(r,S(t,s),i,o))return A(e,s),!0;return!1}function D(e,t,n,p){var f=n||{};if(f.strict?o(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return f.strict?o(e,t):e==t;var y,A=p.has(e),I=p.has(t);if(A&&I){if(p.get(e)===p.get(t))return!0}else y={};return A||p.set(e,y),I||p.set(t,y),function(e,t,n,o){var l,p;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(E(e)!==E(t))return!1;if(i(e)!==i(t))return!1;var f=u(e),y=u(t);if(f!==y)return!1;var A=e instanceof Error,I=t instanceof Error;if(A!==I)return!1;if((A||I)&&(e.name!==t.name||e.message!==t.message))return!1;var U=a(e),M=a(t);if(U!==M)return!1;if((U||M)&&(e.source!==t.source||s(e)!==s(t)))return!1;var F=c(e),j=c(t);if(F!==j)return!1;if((F||j)&&g(e)!==g(t))return!1;if(n.strict&&v&&v(e)!==v(t))return!1;if(_(e)!==_(t))return!1;var B=x(e),V=x(t);if(B!==V)return!1;if(B||V){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;var H=r(e),W=r(t);if(H.length!==W.length)return!1;for(H.sort(),W.sort(),l=H.length-1;l>=0;l--)if(H[l]!=W[l])return!1;for(l=H.length-1;l>=0;l--)if(p=H[l],!D(e[p],t[p],n,o))return!1;var K=d(e),G=d(t);if(K!==G)return!1;if("Set"===K||"Set"===G)return function(e,t,n,r){if(C(e)!==C(t))return!1;var i,o,a,s=h(e),u=h(t);for(;(i=s.next())&&!i.done;)if(i.value&&"object"==typeof i.value)a||(a=new b),O(a,i.value);else if(!R(t,i.value)){if(n.strict)return!1;if(!k(e,t,i.value))return!1;a||(a=new b),O(a,i.value)}if(a){for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value){if(!P(a,o.value,n.strict,r))return!1}else if(!n.strict&&!R(e,o.value)&&!P(a,o.value,n.strict,r))return!1;return 0===C(a)}return!0}(e,t,n,o);if("Map"===K)return function(e,t,n,r){if(w(e)!==w(t))return!1;var i,o,a,s,u,c,l=h(e),p=h(t);for(;(i=l.next())&&!i.done;)if(s=i.value[0],u=i.value[1],s&&"object"==typeof s)a||(a=new b),O(a,s);else if(void 0===(c=S(t,s))&&!T(t,s)||!D(u,c,n,r)){if(n.strict)return!1;if(!N(e,t,s,u,n,r))return!1;a||(a=new b),O(a,s)}if(a){for(;(o=p.next())&&!o.done;)if(s=o.value[0],c=o.value[1],s&&"object"==typeof s){if(!L(a,e,s,c,n,r))return!1}else if(!(n.strict||e.has(s)&&D(S(e,s),c,n,r)||L(a,e,s,c,m({},n,{strict:!1}),r)))return!1;return 0===C(a)}return!0}(e,t,n,o);return!0}(e,t,f,p)}function x(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&(!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,n){return D(e,t,n,y())}},fIze:function(e,t,n){"use strict";var r,i=(r=n("iXzu"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mXGw");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=function(e){var t=void 0===e?{}:e,n=t.ref,r=t.onResize,s=o.useRef(null);n=n||s;var u=o.useState({width:void 0,height:void 0}),c=u[0],l=u[1],p=o.useRef({width:void 0,height:void 0});return o.useEffect((function(){if("object"==typeof n&&null!==n&&n.current instanceof Element){var e=n.current,t=new i((function(e){if(Array.isArray(e)&&e.length){var t=e[0],n=Math.round(t.contentRect.width),i=Math.round(t.contentRect.height);if(p.current.width!==n||p.current.height!==i){var o={width:n,height:i};r?r(o):(p.current.width=n,p.current.height=i,l(o))}}}));return t.observe(e),function(){return t.unobserve(e)}}}),[n,r]),o.useMemo((function(){return a({ref:n},c)}),[n,c?c.width:null,c?c.height:null])}},fTkg:function(e,t,n){"use strict";var r="function"==typeof Object.defineProperty,i={value:!1,writable:!0};function o(e,t){if(this.type=e,t)for(var n in t)t.hasOwnProperty(n)&&"type"!==n&&(this[n]=t[n]);r?(Object.defineProperty(this,"_prevented",i),Object.defineProperty(this,"_stopped",i),Object.defineProperty(this,"_immediateStopped",i),Object.defineProperty(this,"defaultPrevented",{get:function(){return this._prevented}.bind(this),set:function(e){return e}})):(this.defaultPrevented=!1,this._prevented=!1,this._stopped=!1,this._immediateStopped=!1)}o.wasPropagationStopped=function(e){return!!e._stopped},o.wasImmediatePropagationStopped=function(e){return!!e._immediateStopped},o.prototype.preventDefault=function(){this._prevented=!0,r||(this.defaultPrevented=!0)},o.prototype.stopPropagation=function(){this._stopped=!0},o.prototype.stopImmediatePropagation=function(){this._immediateStopped=!0},e.exports=o},fVVT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("mXGw"),a=h(o),s=h(n("xARA")),u=h(n("W0B4")),c=h(n("W7aI")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("0TdX")),p=n("s4Wf"),f=h(p),d=n("NGR8");function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",v=void 0!==s.default.createPortal,E=function(){return v?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function b(e){return e()}var T=function(e){function t(){var e,n,i;y(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!v&&s.default.unmountComponentAtNode(i.node);var e=b(i.props.parentSelector);e&&e.removeChild(i.node)},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=E()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},_(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){p.canUseDOM&&(v||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,b(this.props.parentSelector).appendChild(this.node),!v&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:b(e.parentSelector),nextParent:b(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(p.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!v&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(p.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return p.canUseDOM&&v?(!this.node&&v&&(this.node=document.createElement("div")),E()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(o.Component);T.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(f.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},T.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},T.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(T),t.default=T},"fwl+":function(e,t,n){"use strict";var r=n("ovh1");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},gHi2:function(e,t,n){"use strict";var r=n("rAIa"),i=n("Zgfu"),o=n("KUYf"),a=n("77OH").Event,s=n("asuC");e.exports=function(e){var t=e||{},n=o(t.xresolve),u=i({providers:{endpoints:function(e){return n(e).then((function(e){var n=t.endpoints;if(n)for(var r in n)n.hasOwnProperty(r)&&n[r]&&(e[r]=n[r]);return e.dealer=null,e}))},token:function(){return new s((function(e){t.getToken((function(t,n){e(void 0===n?t:[t,n])}))}))}}});u.on(a.TRANSPORT_CONNECTED,(function(){t.noAuthentication||u.authenticate()})),t.transport=u;var c=r.create(t);return u.connect(),c}},gLbv:function(e,t,n){"use strict";e.exports=function(){return{name:"context_time",data:{timestamp:Date.now()}}}},gcLO:function(e,t,n){"use strict";var r,i=n("5X3g"),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,u=[];function c(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(u=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},guUT:function(e,t,n){"use strict";var r=n("ovh1"),i=n("4OlW"),o=n("e5jZ"),a=n("bRtl");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"gvM+":function(e,t,n){"use strict";var r=n("ZjB5"),i=n("31Tc")("%Function%"),o=i.apply,a=i.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},gwHf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e=0){this.nanos=e}static fromNanos(e){return new r(e)}static fromMicros(e){return new r(1e3*e)}static fromMillis(e){return new r(1e6*e)}static fromSeconds(e){return new r(1e9*e)}static from(e){return new r(e.asNanos())}asSeconds(){return this.nanos/1e9}asMillis(){return this.nanos/1e6}asMicros(){return this.nanos/1e3}asNanos(){return Math.round(this.nanos)}}t.Time=r,r.ZERO=new r(0)},h1Um:function(e,t,n){"use strict";var r=n("Rzld"),i=n("hUM7");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},"hF0+":function(e,t,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(e){try{return i(arguments,"callee").get}catch(e){return o}}}():o,s=n("hSmj")(),u=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n("ZjB5").call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,y=function(e){var t=[];return f(e,d,(function(e,n,r,i){t[t.length]=r?f(i,h,"$1"):n||e})),t},_=function(e,t){if(!(e in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(e),o=_("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!(t||n[a]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},hSmj:function(e,t,n){"use strict";(function(t){var r=t.Symbol,i=n("+aJC");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n("pCvA"))},hUM7:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"hbV+":function(e,t,n){"use strict";function r(e,t,n){Error.call(this),this.message=t,this.code=e,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="RequestError",e.exports=r},heVN:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},f.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("pCvA"),n("5IsQ"))},hes8:function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},hwum:function(e,t,n){"use strict";e.exports=function(e){return{name:"SemanticMetricClient",data:n("amWn")(e,{key:{type:"string",nullable:!0},metric_type:{type:"string",nullable:!0},component_id:{type:"string",nullable:!0},what:{type:"string",nullable:!0},value:{type:"number",nullable:!0},tags:{type:"string",complex_type:"Object",nullable:!0}})}}},i0F7:function(e,t,n){"use strict";var r=n("ovh1");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},iIYa:function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},iIvD:function(e,t,n){"use strict";e.exports={CLOSE:4e3,TIMEOUT:4001}},iKG6:function(e,t,n){"use strict";e.exports=function(e){return{name:"context_correlation_id",data:n("amWn")(e,{value:{type:"string",nullable:!0}})}}},iTMk:function(e,t,n){"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}t.a=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var i=r(t),o=r(n);return i!==t||o!==n?e(i,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1}},iXzu:function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}())}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=m(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=l(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(u+a)!==n&&(u-=d(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(s+o)-t,h=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(h)&&(u-=h)}return m(i.left,i.top,s,u)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function _(e){return r?y(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):h(e):p}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,i,o,a,s,u,l=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),c(u,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),u);c(this,{target:e,contentRect:l})},E=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new n,T=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new E(t,n,this);b.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}}));var S=void 0!==i.ResizeObserver?i.ResizeObserver:T;t.default=S}.call(this,n("pCvA"))},iZRD:function(e,t,n){"use strict";var r,i="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var a=i?Map.prototype.has:null,s=o?Set.prototype.has:null;r||s||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(s.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},ikOk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,_=r?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case _:case y:case o:return t}}}function g(e){return m(e)===f}t.typeOf=m,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=_,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d)},t.isAsyncMode=function(e){return g(e)||m(e)===p},t.isConcurrentMode=g,t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===d},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===_},t.isMemo=function(e){return m(e)===y},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===u},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===h}},inC2:function(e,t,n){"use strict";t.Event=n("aU8I"),t.Method=n("rrCd"),t.StatusCode=n("TRFn"),t.StatusFamily=n("pifV");var r=n("iIvD");t.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,t.Endpoints,t.EndpointsProvider,t.TokenProvider,t.SessionProviders,t.SessionConfig,t.HTTPURI,t.HTTPArgs,t.HTTPResponse,t.DealerMessage,t.ClientEventData},j9kN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));class r{constructor(e,t){this.defaultPrevented=!1,this.immediateStopped=!1,this.stopped=!1,this.type=e,this.data=t}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.stopped=!0}stopImmediatePropagation(){this.immediateStopped=!0}}var i=n("z5ou");function o(e,t,n){for(let r=0,i=e.length;r<i;r++){const i=e[r];if(i.listener===t&&i.options.once===n.once)return r}return-1}function a(e,t,n,r={}){if(!t||!n)return;const i=e[t],a={listener:n,options:r};i?-1===o(i,n,r)&&i.push(a):e[t]=[a]}class s{constructor(){this._listeners={},this._metaListeners={add:{},remove:{}}}_dispatchFromStore(e,t){const n=t.type;let r=e[n];if(r){r=r.slice(0);for(const e of r)if(e.listener.call(this,t),e.options.once&&this.removeListener(n,e.listener,e.options),t.immediateStopped)break}}createEvent(e,t){return new r(e,t)}on(e,t,n={}){if(!e)throw new TypeError("Argument `eventType` is required.");if(!t)return this;const i=this._metaListeners.add[e];if(i&&i.length){const i=new r(e,{listener:t,options:n});if(this._dispatchFromStore(this._metaListeners.add,i),i.defaultPrevented)return this}return a(this._listeners,e,t,n),this}addListener(e,t,n={}){return this.on(e,t,n)}addListeners(e){for(const t in e)e.hasOwnProperty(t)&&this.on(t,e[t]);return this}once(e,t){return this.on(e,t,{once:!0})}removeListener(e,t,n={}){if(!e)throw new TypeError("Argument `eventType` is required.");if(!t)return this;const i=this._listeners[e];if(!i)return this;const a=this._metaListeners.remove[e];if(a&&a.length){const i=new r(e,{listener:t,options:n});if(this._dispatchFromStore(this._metaListeners.remove,i),i.defaultPrevented)return this}const s=o(i,t,n);return-1!==s&&i.splice(s,1),this}removeListeners(e){for(const t in e)e.hasOwnProperty(t)&&this.removeListener(t,e[t]);return this}removeAllListeners(e){return e?this._listeners[e]=[]:this._listeners={},this}emit(e,t){if(!e)throw new TypeError("Argument `eventType` is required.");const n=this.createEvent(e,t);return Object(i.a)(()=>this._dispatchFromStore(this._listeners,n)),n}emitSync(e,t){if(!e)throw new TypeError("Argument `eventType` is required.");const n=this.createEvent(e,t);return this._dispatchFromStore(this._listeners,n),n}emitEvent(e){return Object(i.a)(()=>this._dispatchFromStore(this._listeners,e)),e}emitEventSync(e){return this._dispatchFromStore(this._listeners,e),e}emitAndWait(e,t,n){if(!e)throw new TypeError("Argument `eventType` is required.");const r=this.createEvent(e,t);return Object(i.a)(()=>{this._dispatchFromStore(this._listeners,r),n.call(this,r)}),r}emitEventAndWait(e,t){return Object(i.a)(()=>{this._dispatchFromStore(this._listeners,e),t.call(this,e)}),e}proxyEmit(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Proxy source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create recursive proxy.");if(!t||!n)throw new TypeError("Parameter sourceType and targetType are required.");const r=e=>{e.stopped||this.emitAndWait(n,e.data,t=>{t.defaultPrevented&&e.preventDefault()})};return e.on(t,r),r}proxyEmitSync(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Proxy source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create recursive proxy.");if(!t||!n)throw new TypeError("Parameter sourceType and targetType are required.");const r=e=>{if(e.stopped)return;const t=this.createEvent(n,e.data);this.emitEventSync(t),t.defaultPrevented&&e.preventDefault()};return e.on(t,r),r}proxyEmitAll(e,t){for(const n in t)t.hasOwnProperty(n)&&this.proxyEmit(e,n,t[n])}proxyEmitAllSync(e,t){for(const n in t)t.hasOwnProperty(n)&&this.proxyEmitSync(e,n,t[n])}onAddListener(e,t,n={}){return a(this._metaListeners.add,e,t,n),this}onRemoveListener(e,t,n={}){return a(this._metaListeners.remove,e,t,n),this}}},jIGx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("TZip"),i=()=>({name:"context_user_agent",data:{user_agent:navigator.userAgent}});t.createUniversalReporter=function(e={}){const t=e.context?[i,...e.context]:[i];return r.EventSenderReporter.create(Object.assign(Object.assign({environment:"browser"},e),{context:t}))}},jNIk:function(e,t,n){"use strict";var r=n("F53H"),i=n("iZRD"),o=n("X5X9"),a=n("Ws1g");e.exports=function(e){if(e&&"object"==typeof e){if(r(e))return"Map";if(i(e))return"Set";if(o(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},jXlj:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("qg8E")),r(n("TZip")),r(n("a9Ck"));var i=n("R3KX");t.Timer=i.Timer;var o=n("gwHf");t.Time=o.Time},k8xr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("2O7x"),i=n("UK3a");t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)(0,i.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)(0,i.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var r=(0,i.uniqueId)();return t.callbacks[r]={show:e,hide:n},r},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},i.canUseDOM&&(window.addEventListener(r.MENU_SHOW,this.handleShowEvent),window.addEventListener(r.MENU_HIDE,this.handleHideEvent))}},kHLn:function(e,t,n){"use strict";var r=n("99Y6").counterDefaults;function i(e){var t=e||{};this._curve=t.curve||t.algo||r.curve,this._baseTime=t.baseTime||r.baseTime,this._ceiling=t.ceiling||r.ceiling,this._jitter=!(!1===t.jitter)}i.prototype.getTime=function(e){var t;switch(this._curve){case"static":t=1;break;case"logarithmic":case"log":t=Math.log(e);break;case"exponential":case"exp":t=Math.pow(Math.E,e);break;case"linear":case"lin":default:t=e+1}var n,r,i=t*this._baseTime|0;return this._ceiling&&(i=Math.min(i,this._ceiling)),this._jitter?0|(n=i)-(r=n/5)/2+Math.random()*r:i},e.exports=i},kah5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},l3xc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("lPsE");t.addPerformanceObserver=(e,t)=>{"undefined"!=typeof PerformanceObserver&&r.requestIdleCallbackOrTimeout(()=>{new PerformanceObserver(e).observe({entryTypes:t})})}},lIgl:function(e,t,n){"use strict";var r=n("7JHm").backoffDefaults,i=n("asuC"),o=n("dcjB"),a=Array.prototype.slice;function s(e,t){var n=t||{};this._fn=e,this._resolver=i.defer(),this._maxDuration=n.maxDuration||r.maxDuration,this._maxRetries="maxRetries"in n?n.maxRetries:r.maxRetries,this._maxTime=n.maxTime||r.maxTime,this._retryPredicate=n.retryPredicate||r.retryPredicate,this._ts=0,this._callCount=0,this._backoffInitial=n.backoffInitial,this._tickInterval=null,this._isRunning=!1,this._counter=new o({curve:n.curve||n.algo,baseTime:n.baseTime,ceiling:n.ceiling}),this._backoffInitial&&(this._maxRetries+=1),this._tick=this._tick.bind(this)}s.init=function(e,t){return new s(e,t).start()},s.prototype.getResolver=function(){return this._resolver.promise},s.prototype.start=function(e){return!this._fn&&e&&(this._fn=e),this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(this._tick,this._counter.getTime(0))):this._tick()),this._resolver.promise},s.prototype.stop=function(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()},s.prototype._destroy=function(){this._fn=null,this._resolver=null},s.prototype._failure=function(e){if(e&&"retryAfter"in e)this._retryAfter(e);else{var t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(this._tick,t)):(this._resolver.reject(e),this._destroy())}},s.prototype._retryAfter=function(e){this._callCount++,this._tickInterval=setTimeout(this._tick,e.retryAfter)},s.prototype._success=function(){this._resolver.resolve.apply(null,a.call(arguments)),this._destroy()},s.prototype._shouldRetry=function(e,t){var n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)},s.prototype._tick=function(){this._fn().then(this._success.bind(this)).catch(this._failure.bind(this))},e.exports=s},lMEP:function(e,t,n){"use strict";var r=n("rH2d");e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()?r:function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},lPsE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestIdleCallbackOrTimeout=(e,t)=>{if("undefined"!=typeof requestIdleCallback){requestIdleCallback(e,t?{timeout:t}:void 0)}else setTimeout(e,t||1e3)}},lfWw:function(e,t,n){"use strict";function r(e,t,n,r){var i=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s={},u=!0,c=!1,l=void 0;try{for(var p,f=t[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value;s[d]=n.namedParameters?o[0][d]:o.shift()}}catch(e){c=!0,l=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw l}}return r&&(s.resolve=r),Object.assign({},{type:n.mapNameToConstant(e)},s)};return i.key=n.mapNameToConstant(e),i}function i(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t[s]=s}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}function o(e){return e.replace(/([A-Z])/g,(function(e){return"_"+e})).toUpperCase()}function a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&r!==t&&(n[r]=e[r]);return n}e.exports={createActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},{namedParameters:!1,splitOutput:!1,mapNameToConstant:function(e){if(t.typePrefix){var n=e.charAt(0).toUpperCase()+e.slice(1);return o(t.typePrefix+n)}return o(e)}},t),s={};if(a(e,(function(e,t){var i=Object.keys(t),o=t.resolve;s[e]=r(e,i,n,o)})),n.splitOutput){var u=Object.keys(e).map(n.mapNameToConstant);return{constants:i(u),actions:s}}return s},createActionMiddleware:function(){return function(e){var t=e.dispatch;e.getState;return function(e){return function(n){if(!n.resolve)return e(n);var r=s(n,"resolve");t(r);var i=s(r,"type"),o=n.resolve(i);return Promise.resolve(o).then((function(e){var n=Object.assign({},r,{type:r.type+"_SUCCESS",payload:e});t(n)})).catch((function(e){var n=Object.assign({},r,{type:r.type+"_FAIL",error:e});t(n)}))}}}}}},llpb:function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("7C+0"),a=function(){};function s(e){return"string"==typeof e?c(e):e}function u(e,t){var n=e[t];if(!n)throw new Error("Unknown type "+t);return n}function c(e){return new l(e)}t.TType=a,t.name=c;var l=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n._failMsg="is not a "+t,n}return i(t,e),t.prototype.getChecker=function(e,n){var r=this,i=u(e,this.name),o=i.getChecker(e,n);return i instanceof w||i instanceof t?o:function(e,t){return!!o(e,t)||t.fail(null,r._failMsg,0)}},t}(a);t.TName=l,t.lit=function(e){return new p(e)};var p=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n.name=JSON.stringify(t),n._failMsg="is not "+n.name,n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return e===n.value||t.fail(null,n._failMsg,-1)}},t}(a);t.TLiteral=p,t.array=function(e){return new f(s(e))};var f=function(e){function t(t){var n=e.call(this)||this;return n.ttype=t,n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this.ttype.getChecker(e,t);return function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var r=0;r<e.length;r++){if(!n(e[r],t))return t.fail(r,null,1)}return!0}},t}(a);t.TArray=f,t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new d(e.map((function(e){return s(e)})))};var d=function(e){function t(t){var n=e.call(this)||this;return n.ttypes=t,n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this.ttypes.map((function(n){return n.getChecker(e,t)})),r=function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var r=0;r<n.length;r++){if(!n[r](e[r],t))return t.fail(r,null,1)}return!0};return t?function(e,t){return!!r(e,t)&&(e.length<=n.length||t.fail(n.length,"is extraneous",2))}:r},t}(a);t.TTuple=d,t.union=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new h(e.map((function(e){return s(e)})))};var h=function(e){function t(t){var n=e.call(this)||this;n.ttypes=t;var r=t.map((function(e){return e instanceof l||e instanceof p?e.name:null})).filter((function(e){return e})),i=t.length-r.length;return r.length?(i>0&&r.push(i+" more"),n._failMsg="is none of "+r.join(", ")):n._failMsg="is none of "+i+" types",n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this,r=this.ttypes.map((function(n){return n.getChecker(e,t)}));return function(e,t){for(var i=t.unionResolver(),o=0;o<r.length;o++){if(r[o](e,i.createContext()))return!0}return t.resolveUnion(i),t.fail(null,n._failMsg,0)}},t}(a);t.TUnion=h,t.enumtype=function(e){return new y(e)};var y=function(e){function t(t){var n=e.call(this)||this;return n.members=t,n.validValues=new Set,n._failMsg="is not a valid enum value",n.validValues=new Set(Object.keys(t).map((function(e){return t[e]}))),n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return!!n.validValues.has(e)||t.fail(null,n._failMsg,0)}},t}(a);t.TEnumType=y,t.enumlit=function(e,t){return new _(e,t)};var _=function(e){function t(t,n){var r=e.call(this)||this;return r.enumName=t,r.prop=n,r._failMsg="is not "+t+"."+n,r}return i(t,e),t.prototype.getChecker=function(e,t){var n=this,r=u(e,this.enumName);if(!(r instanceof y))throw new Error("Type "+this.enumName+" used in enumlit is not an enum type");var i=r.members[this.prop];if(!r.members.hasOwnProperty(this.prop))throw new Error("Unknown value "+this.enumName+"."+this.prop+" used in enumlit");return function(e,t){return e===i||t.fail(null,n._failMsg,-1)}},t}(a);function m(e){return Object.keys(e).map((function(t){return function(e,t){return t instanceof v?new E(e,t.ttype,!0):new E(e,s(t),!1)}(t,e[t])}))}t.TEnumLiteral=_,t.iface=function(e,t){return new g(e,m(t))};var g=function(e){function t(t,n){var r=e.call(this)||this;return r.bases=t,r.props=n,r.propSet=new Set(n.map((function(e){return e.name}))),r}return i(t,e),t.prototype.getChecker=function(e,t){var n=this,r=this.bases.map((function(n){return u(e,n).getChecker(e,t)})),i=this.props.map((function(n){return n.ttype.getChecker(e,t)})),a=new o.NoopContext,s=this.props.map((function(e,t){return!e.isOpt&&!i[t](void 0,a)})),c=function(e,t){if("object"!=typeof e||null===e)return t.fail(null,"is not an object",0);for(var o=0;o<r.length;o++)if(!r[o](e,t))return!1;for(o=0;o<i.length;o++){var a=n.props[o].name,u=e[a];if(void 0===u){if(s[o])return t.fail(a,"is missing",1)}else if(!i[o](u,t))return t.fail(a,null,1)}return!0};return t?function(e,t){if(!c(e,t))return!1;for(var r in e)if(!n.propSet.has(r))return t.fail(r,"is extraneous",2);return!0}:c},t}(a);t.TIface=g,t.opt=function(e){return new v(s(e))};var v=function(e){function t(t){var n=e.call(this)||this;return n.ttype=t,n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this.ttype.getChecker(e,t);return function(e,t){return void 0===e||n(e,t)}},t}(a);t.TOptional=v;var E=function(e,t,n){this.name=e,this.ttype=t,this.isOpt=n};t.TProp=E,t.func=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new b(new S(t),s(e))};var b=function(e){function t(t,n){var r=e.call(this)||this;return r.paramList=t,r.result=n,r}return i(t,e),t.prototype.getChecker=function(e,t){return function(e,t){return"function"==typeof e||t.fail(null,"is not a function",0)}},t}(a);t.TFunc=b,t.param=function(e,t,n){return new T(e,s(t),Boolean(n))};var T=function(e,t,n){this.name=e,this.ttype=t,this.isOpt=n};t.TParam=T;var S=function(e){function t(t){var n=e.call(this)||this;return n.params=t,n}return i(t,e),t.prototype.getChecker=function(e,t){var n=this,r=this.params.map((function(n){return n.ttype.getChecker(e,t)})),i=new o.NoopContext,a=this.params.map((function(e,t){return!e.isOpt&&!r[t](void 0,i)})),s=function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var i=0;i<r.length;i++){var o=n.params[i];if(void 0===e[i]){if(a[i])return t.fail(o.name,"is missing",1)}else if(!r[i](e[i],t))return t.fail(o.name,null,1)}return!0};return t?function(e,t){return!!s(e,t)&&(e.length<=r.length||t.fail(r.length,"is extraneous",2))}:s},t}(a);t.TParamList=S;var w=function(e){function t(t,n){var r=e.call(this)||this;return r.validator=t,r.message=n,r}return i(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return!!n.validator(e)||t.fail(null,n.message,0)}},t}(a);t.BasicType=w,t.basicTypes={any:new w((function(e){return!0}),"is invalid"),number:new w((function(e){return"number"==typeof e}),"is not a number"),object:new w((function(e){return"object"==typeof e&&e}),"is not an object"),boolean:new w((function(e){return"boolean"==typeof e}),"is not a boolean"),string:new w((function(e){return"string"==typeof e}),"is not a string"),symbol:new w((function(e){return"symbol"==typeof e}),"is not a symbol"),void:new w((function(e){return null==e}),"is not void"),undefined:new w((function(e){return void 0===e}),"is not undefined"),null:new w((function(e){return null===e}),"is not null"),never:new w((function(e){return!1}),"is unexpected"),Date:new w(A("[object Date]"),"is not a Date"),RegExp:new w(A("[object RegExp]"),"is not a RegExp")};var O=Object.prototype.toString;function A(e){return function(t){return"object"==typeof t&&t&&O.call(t)===e}}void 0!==e&&(t.basicTypes.Buffer=new w((function(t){return e.isBuffer(t)}),"is not a Buffer"));for(var R=function(e){t.basicTypes[e.name]=new w((function(t){return t instanceof e}),"is not a "+e.name)},C=0,P=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,ArrayBuffer];C<P.length;C++){R(P[C])}}).call(this,n("qykS").Buffer)},mB1U:function(e,t,n){"use strict";e.exports=function(e){return{name:"Share",data:n("amWn")(e,{entity_uri:{type:"string",nullable:!0},destination_id:{type:"string",nullable:!0},share_id:{type:"string",nullable:!0},source_page_uri:{type:"string",nullable:!0},source_page:{type:"string",nullable:!0},creator_uri:{type:"string",nullable:!0},system_destination:{type:"string",nullable:!0},capability:{type:"string",nullable:!0}})}}},mONU:function(e){e.exports=JSON.parse('{"tagged":"1.7.5-25758cb","version":"1.7.5","revision":"25758cb"}')},mXGw:function(e,t,n){"use strict";e.exports=n("BdB7")},mpLd:function(e,t,n){"use strict";(function(t){var n,r=function(){};n=function(e){return t.Proxy&&"function"!=typeof t.Proxy.create&&"function"==typeof t.Proxy?new t.Proxy(e,{get:function(e,t){if(!e.hasOwnProperty(t))throw new ReferenceError("Unknown enum value "+t);return e[t]},set:r,delete:r}):e},e.exports=n}).call(this,n("pCvA"))},mxNg:function(e,t,n){"use strict";var r=n("hF0+")("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(e){r=null}e.exports=r},nAES:function(e,t,n){"use strict";var r=n("GrTZ");e.exports=r({DEALER_CONNECTION_ERROR:"DEALER_CONNECTION_ERROR",DEALER_AUTHENTICATION_FAILED:"DEALER_AUTHENTICATION_FAILED",DEALER_ERROR:"DEALER_ERROR",HTTP_REQUEST_FAILED:"HTTP_REQUEST_FAILED",LOGGING_REQUEST_FAILED:"LOGGING_REQUEST_FAILED",TRANSPORT_ENDPOINTS_PROVIDER_ERROR:"TRANSPORT_ENDPOINTS_PROVIDER_ERROR",TRANSPORT_INVALID_TOKEN:"TRANSPORT_INVALID_TOKEN",TRANSPORT_TOKEN_PROVIDER_ERROR:"TRANSPORT_TOKEN_PROVIDER_ERROR",TRANSPORT_LIFECYCLE_DISABLED:"TRANSPORT_LIFECYCLE_DISABLED",XRESOLVE_INCOMPLETE_RESPONSE:"XRESOLVE_INCOMPLETE_RESPONSE",XRESOLVE_INVALID_RESPONSE:"XRESOLVE_INVALID_RESPONSE",XRESOLVE_REQUEST_FAILED_WITH_STATUS:"XRESOLVE_REQUEST_FAILED_WITH_STATUS"})},nEgm:function(e,t,n){"use strict";function r(e,t){Error.call(this,e),this.code=e,this.message=t,this.origin=null}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="TransportError",e.exports=r},nL8o:function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},nLrc:function(e,t,n){"use strict";(function(e){!function(){var n="undefined"!=typeof window?window:e,r={};for(var i in function(e,t){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=void 0!==e&&e===this?this:void 0!==t&&null!=t?t:this;function o(){o=function(){},i.Symbol||(i.Symbol=s)}var a,s=(a=0,function(e){return"jscomp_symbol_"+(e||"")+a++});function u(){o();var e=i.Symbol.iterator;e||(e=i.Symbol.iterator=i.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&r(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return c(this)}}),u=function(){}}function c(e){var t=0;return l((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function l(e){return u(),(e={next:e})[i.Symbol.iterator]=function(){return this},e}function p(e){u();var t=e[Symbol.iterator];return t?t.call(e):c(e)}function f(e,t){if(t){for(var n=i,o=e.split("."),a=0;a<o.length-1;a++){var s=o[a];s in n||(n[s]={}),n=n[s]}(s=t(a=n[o=o[o.length-1]]))!=a&&null!=s&&r(n,o,{configurable:!0,writable:!0,value:s})}}function d(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,i)}(e.next())}))}(e())}f("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},n.prototype.f=function(){var e=this;this.c((function(){e.h()}))};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.g(e)}}}this.a=null},n.prototype.g=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.s),reject:e(this.f)}},t.prototype.s=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.u(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.u=function(e){var t=this.c();e.nb(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.nb(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.nb=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=p(e),o=i.next();!o.done;o=i.next())r(o.value).nb(t,n)}))},t.all=function(e){var n=p(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).nb(o(a.length-1),t),i=n.next()}while(!i.done)}))},t})),f("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}}));var h,y="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var _;e:{var m={};try{m.__proto__={Pc:!0},_=m.Pc;break e}catch(a){}_=!1}h=_?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var g=h;function v(){this.c=!1,this.a=null,this.w=void 0,this.j=1,this.g=this.P=0,this.b=null}function E(e){if(e.c)throw new TypeError("Generator is already running");e.c=!0}function b(e,t){e.b={qc:t,yd:!0},e.j=e.P||e.g}function T(e,t,n){return e.j=n,{value:t}}function S(e){e.j=0}function w(e,t){e.j=t,e.P=0}function O(e){e.P=0;var t=e.b.qc;return e.b=null,t}function A(e){this.a=new v,this.b=e}function R(e,t,n,r){try{var i=t.call(e.a.a,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.c=!1,i;var o=i.value}catch(t){return e.a.a=null,b(e.a,t),C(e)}return e.a.a=null,r.call(e.a,o),C(e)}function C(e){for(;e.a.j;)try{var t=e.b(e.a);if(t)return e.a.c=!1,{value:t.value,done:!1}}catch(t){e.a.w=void 0,b(e.a,t)}if(e.a.c=!1,e.a.b){if(t=e.a.b,e.a.b=null,t.yd)throw t.qc;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function P(e){this.next=function(t){return E(e.a),e.a.a?t=R(e,e.a.a.next,t,e.a.f):(e.a.f(t),t=C(e)),t},this.throw=function(t){return E(e.a),e.a.a?t=R(e,e.a.a.throw,t,e.a.f):(b(e.a,t),t=C(e)),t},this.return=function(t){return function(e,t){E(e.a);var n=e.a.a;return n?R(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),C(e))}(e,t)},u(),this[Symbol.iterator]=function(){return this}}function I(e,t){return P.prototype=e.prototype,new P(new A(t))}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}v.prototype.f=function(e){this.w=e},v.prototype.return=function(e){this.b={return:e},this.j=this.g},f("WeakMap",(function(e){function t(e){if(this.a=(s+=Math.random()+1).toString(),e){o(),u(),e=p(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(e){N(e,a)||r(e,a,{value:{}})}function i(e){var t=Object[e];t&&(Object[e]=function(e){return n(e),t(e)})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var s=0;return t.prototype.set=function(e,t){if(n(e),!N(e,a))throw Error("WeakMap key fail: "+e);return e[a][this.a]=t,this},t.prototype.get=function(e){return N(e,a)?e[a][this.a]:void 0},t.prototype.has=function(e){return N(e,a)&&N(e[a],this.a)},t.prototype.delete=function(e){return!(!N(e,a)||!N(e[a],this.a))&&delete e[a][this.a]},t})),f("Map",(function(e){function t(){var e={};return e.ja=e.next=e.head=e}function n(e,t){var n=e.a;return l((function(){if(n){for(;n.head!=e.a;)n=n.ja;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++s,a.set(t,n)):n="p_"+t;var r=e.b[n];if(r&&N(e.b,n))for(var i=0;i<r.length;i++){var o=r[i];if(t!=t&&o.key!=o.key||t===o.key)return{id:n,list:r,index:i,O:o}}return{id:n,list:r,index:-1,O:void 0}}function i(e){if(this.b={},this.a=t(),this.size=0,e){e=p(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(p([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;o(),u();var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e);return n.list||(n.list=this.b[n.id]=[]),n.O?n.O.value=t:(n.O={next:this.a,ja:this.a.ja,head:this.a,key:e,value:t},n.list.push(n.O),this.a.ja.next=n.O,this.a.ja=n.O,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).O||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.O.ja.next=e.O.next,e.O.next.ja=e.O.ja,e.O.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.ja=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).O},i.prototype.get=function(e){return(e=r(this,e).O)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i})),f("Set",(function(e){function t(e){if(this.a=new Map,e){e=p(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(p([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(e){return!1}}()?e:(o(),u(),t.prototype.add=function(e){return this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(r){return e.call(t,r,r,n)}))},t)})),f("Array.prototype.keys",(function(e){return e||function(){return function(e,t){u(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}})),f("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),f("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=t||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var o=n[i];if(o===e||Object.is(o,e))return!0}return!1}})),f("String.prototype.includes",(function(e){return e||function(e,t){return-1!==k(this,e,"includes").indexOf(e,t||0)}})),f("Array.from",(function(e){return e||function(e,t,n){u(),t=null!=t?t:function(e){return e};var r=[],i=e[Symbol.iterator];if("function"==typeof i)for(e=i.call(e);!(i=e.next()).done;)r.push(t.call(n,i.value));else{i=e.length;for(var o=0;o<i;o++)r.push(t.call(n,e[o]))}return r}})),f("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=k(this,e,"startsWith"),r=n.length,i=e.length,o=Math.max(0,Math.min(0|t,n.length)),a=0;a<i&&o<r;)if(n[o++]!=e[a++])return!1;return a>=i}})),f("Array.prototype.find",(function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var o=n[i];if(e.call(t,o,i,n)){n=o;break e}}n=void 0}return n}}));var L=this;function D(e,t){var n,r=e.split("."),i=L;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]?i[n]:i[n]={}:i[n]=t}function x(e,t){function n(){}n.prototype=t.prototype,e.ke=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.we=function(e,n,r){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function U(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function M(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function F(e){return e.a/(1-Math.pow(e.c,e.b))}function j(){this.b=new U(2),this.c=new U(5),this.a=0}function B(){}function V(){}L.a=!0,j.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(F(this.b),F(this.c))},e.console&&e.console.log.bind&&(V=void 0,B=void 0);var H=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function W(e){var t;e instanceof W?(K(this,e.ea),this.Ea=e.Ea,this.aa=e.aa,G(this,e.Xa),this.U=e.U,Y(this,e.a.clone()),this.xa=e.xa):e&&(t=String(e).match(H))?(K(this,t[1]||"",!0),this.Ea=q(t[2]||""),this.aa=q(t[3]||"",!0),G(this,t[4]),this.U=q(t[5]||"",!0),Y(this,t[6]||"",!0),this.xa=q(t[7]||"")):this.a=new te(null)}function K(e,t,n){e.ea=n?q(t,!0):t,e.ea&&(e.ea=e.ea.replace(/:$/,""))}function G(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Xa=t}else e.Xa=null}function Y(e,t,n){t instanceof te?e.a=t:(n||(t=z(t,Z)),e.a=new te(t))}function q(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function z(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,X),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function X(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=W.prototype).ea="",n.Ea="",n.aa="",n.Xa=null,n.U="",n.xa="",n.toString=function(){var e=[],t=this.ea;if(t&&e.push(z(t,$,!0),":"),t=this.aa){e.push("//");var n=this.Ea;n&&e.push(z(n,$,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Xa)&&e.push(":",String(t))}return(t=this.U)&&(this.aa&&"/"!=t.charAt(0)&&e.push("/"),e.push(z(t,"/"==t.charAt(0)?J:Q,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.xa)&&e.push("#",z(t,ee)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.ea&&(t=new W);var n=!!e.ea;n?K(t,e.ea):n=!!e.Ea,n?t.Ea=e.Ea:n=!!e.aa,n?t.aa=e.aa:n=null!=e.Xa;var r=e.U;if(n)G(t,e.Xa);else if(n=!!e.U){if("/"!=r.charAt(0))if(this.aa&&!this.U)r="/"+r;else{var i=t.U.lastIndexOf("/");-1!=i&&(r=t.U.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?t.U=r:n=""!==e.a.toString(),n?Y(t,e.a.clone()):n=!!e.xa,n&&(t.xa=e.xa),t},n.clone=function(){return new W(this)};var $=/[#\/\?@]/g,Q=/[#\?:]/g,J=/[#\?]/g,Z=/[#\?@]/g,ee=/#/g;function te(e){this.a=e||null}function ne(e){this.b=e,this.a=null}function re(e){this.b=e,this.a=null}function ie(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function oe(e){return d((function t(){var n,r;return I(t,(function(t){switch(t.j){case 1:if(e.a>=e.i){if(!e.c)return t.return(Promise.reject());e.a=1,e.b=e.f}return n=e.a,e.a++,0==n?t.return():(r=e.b*(1+(2*Math.random()-1)*e.h),T(t,new Promise((function(e){new re(e).L(r/1e3)})),2));case 2:e.b*=e.g,S(t)}}))}))}function ae(e,t,n,r){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function se(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ue(e,t){this.promise=e,this.zc=t,this.a=!1}function ce(e){return new ue(Promise.reject(e),(function(){return Promise.resolve()}))}function le(){var e=Promise.reject(new ae(2,7,7001));return e.catch((function(){})),new ue(e,(function(){return Promise.resolve()}))}function pe(e){return new ue(Promise.resolve(e),(function(){return Promise.resolve()}))}function fe(e){return new ue(e,(function(){return e.catch((function(){}))}))}function de(e){return new ue(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function he(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}function ye(t,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function _e(){this.a={}}function me(){this.Fb=new _e,this.rc=this}function ge(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,o=r?[]:{};for(i in n)o[i]=e(n[i]);return r&&(o.length=n.length),o}}(e)}function ve(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Ee(){this.a=[]}function be(e,t){e.a.push(t.finally((function(){ve(e.a,t)})))}function Te(e){me.call(this),this.f=!1,this.g=new Ee,this.a=new Set,this.b=new Set,this.c=e||null}(n=te.prototype).T=null,n.pb=null,n.add=function(e,t){if(!this.T&&(this.T={},this.pb=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.a=null,(n=this.T.hasOwnProperty(e)&&this.T[e])||(this.T[e]=n=[]),n.push(t),this.pb++,this},n.toString=function(){if(this.a)return this.a;if(!this.T)return"";var e,t=[];for(e in this.T)for(var n=encodeURIComponent(e),r=this.T[e],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),t.push(o)}return this.a=t.join("&")},n.clone=function(){var e=new te;if(e.a=this.a,this.T){var t,n={};for(t in this.T)n[t]=this.T[t].concat();e.T=n,e.pb=this.pb}return e},ne.prototype.L=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},ne.prototype.stop=function(){this.a&&(this.a(),this.a=null)},D("shaka.util.Timer",re),re.prototype.le=function(){return this.stop(),this.b(),this},re.prototype.tickNow=re.prototype.le,re.prototype.L=function(e){var t=this;return this.stop(),this.a=new ne((function(){t.b()})).L(e),this},re.prototype.tickAfter=re.prototype.L,re.prototype.qa=function(e){var t=this;return this.stop(),this.a=new ne((function(){t.a.L(e),t.b()})).L(e),this},re.prototype.tickEvery=re.prototype.qa,re.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},re.prototype.stop=re.prototype.stop,D("shaka.util.Error",ae),ae.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},ae.Severity={RECOVERABLE:1,CRITICAL:2},ae.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},ae.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},se.prototype.resolve=function(){},se.prototype.reject=function(){},D("shaka.util.AbortableOperation",ue),ue.failed=ce,ue.aborted=le,ue.completed=pe,ue.notAbortable=fe,ue.prototype.abort=function(){return this.a=!0,this.zc()},ue.prototype.abort=ue.prototype.abort,ue.all=de,ue.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},ue.prototype.finally=ue.prototype.finally,ue.prototype.$=function(e,t){function n(){return i.reject(new ae(2,7,7001)),r.abort()}var r=this,i=new se;return this.promise.then((function(t){r.a?i.reject(new ae(2,7,7001)):e?n=he(e,t,i):i.resolve(t)}),(function(e){t?n=he(t,e,i):i.reject(e)})),new ue(i,(function(){return n()}))},ue.prototype.chain=ue.prototype.$,ye.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ye.prototype.stopImmediatePropagation=function(){this.a=!0},ye.prototype.stopPropagation=function(){},_e.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},_e.prototype.get=function(e){return(e=this.a[e])?e.slice():null},_e.prototype.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},_e.prototype.forEach=function(e){for(var t in this.a)e(t,this.a[t])},me.prototype.addEventListener=function(e,t){this.Fb.push(e,t)},me.prototype.removeEventListener=function(e,t){this.Fb.remove(e,t)},me.prototype.dispatchEvent=function(e){for(var t=this.Fb.get(e.type)||[],n=0;n<t.length;++n){e.target=this.rc,e.currentTarget=this.rc;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},Ee.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise.catch((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)},x(Te,me),D("shaka.net.NetworkingEngine",Te);var Se={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4};Te.RequestType=Se,Te.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var we={};function Oe(e,t,n){n=n||3;var r=we[e];(!r||n>=r.priority)&&(we[e]={priority:n,Nd:t})}function Ae(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null}}function Re(){this.a=0}function Ce(e,t,n){ue.call(this,e,t),this.b=n}Te.registerScheme=Oe,Te.unregisterScheme=function(e){delete we[e]},Te.prototype.Pd=function(e){this.a.add(e)},Te.prototype.registerRequestFilter=Te.prototype.Pd,Te.prototype.oe=function(e){this.a.delete(e)},Te.prototype.unregisterRequestFilter=Te.prototype.oe,Te.prototype.Wc=function(){this.a.clear()},Te.prototype.clearAllRequestFilters=Te.prototype.Wc,Te.prototype.Qd=function(e){this.b.add(e)},Te.prototype.registerResponseFilter=Te.prototype.Qd,Te.prototype.pe=function(e){this.b.delete(e)},Te.prototype.unregisterResponseFilter=Te.prototype.pe,Te.prototype.Xc=function(){this.b.clear()},Te.prototype.clearAllResponseFilters=Te.prototype.Xc,Te.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Te.prototype.destroy=Te.prototype.destroy,Te.prototype.request=function(e,t){var n=this,r=new Re;if(this.f){var i=Promise.reject(new ae(2,7,7001));return i.catch((function(){})),new Ce(i,(function(){return Promise.resolve()}),r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ge(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=ge(t.uris);var o=(i=function(e,t,n){for(var r=pe(void 0),i={},o=(e=p(e.a)).next();!o.done;i={dc:i.dc},o=e.next())i.dc=o.value,r=r.$(function(e){return function(){return e.dc(t,n)}}(i));return r.$(void 0,(function(e){if(e&&7001==e.code)throw e;throw new ae(2,1,1006,e)}))}(this,e,t)).$((function(){return function e(t,n,r,i,o,a,s){var u=new W(r.uris[o]),c=u.ea,l=!1;c||(c=(c=location.protocol).slice(0,-1),K(u,c),r.uris[o]=u.toString());var p,f=(c=we[c])?c.Nd:null;return f?fe(oe(i)).$((function(){return t.f?le():(p=Date.now(),f(r.uris[o],r,n,(function(e,r,i){t.c&&1==n&&(t.c(e,r),l=!0,s.a=i)})))})).$((function(e){return null==e.timeMs&&(e.timeMs=Date.now()-p),{response:e,wd:l}}),(function(s){if(s&&7001==s.code)throw s;if(t.f)return le();if(s&&1==s.severity)return t.dispatchEvent(new ye("retry",{error:s instanceof ae?s:null})),o=(o+1)%r.uris.length,e(t,n,r,i,o,s);throw s||a})):ce(new ae(2,1,1e3,u))}(n,e,t,new ie(t.retryParameters,!1),0,null,r)})),a=o.$((function(t){return function(e,t,n){for(var r=pe(void 0),i=(e=p(e.b)).next();!i.done;i=e.next())r=r.$(i.value.bind(null,t,n.response));return r.$((function(){return n}),(function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof ae&&(t=e.severity),new ae(t,1,1007,e)}))}(n,e,t)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var c=0;return o.promise.then((function(){c=Date.now()}),(function(){})),i=new Ce((i=a.$((function(t){var r=Date.now()-c,i=t.response;return i.timeMs+=u,i.timeMs+=r,t.wd||!n.c||i.fromCache||1!=e||n.c(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e}))).promise,i.zc,r),be(this.g,i),i},Te.prototype.request=Te.prototype.request,Te.NumBytesRemainingClass=Re;var Pe=Ce;if(Pe.prototype=y(ue.prototype),Pe.prototype.constructor=Pe,g)g(Pe,ue);else for(var Ie in ue)if("prototype"!=Ie)if(Object.defineProperties){var Ne=Object.getOwnPropertyDescriptor(ue,Ie);Ne&&Object.defineProperty(Pe,Ie,Ne)}else Pe[Ie]=ue[Ie];function ke(){this.b=new _e}function Le(e,t,n,r){e.b&&(t=new Ue(t,n,r),e.b.push(n,t))}function De(e,t,n,r){Le(e,t,n,(function i(o){e.Y(t,n,i),r(o)}))}function xe(e){if(e.b){var t,n=e.b,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)r[n].Y();e.b.a={}}}function Ue(e,t,n){this.target=e,this.type=t,this.listener=n,this.target.addEventListener(t,n,!1)}function Me(e,t){for(var n=p(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0}function Fe(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}function je(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Be(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function Ve(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}Pe.ke=ue.prototype,Te.PendingRequest=Ce,Ce.all=de,Ce.notAbortable=fe,Ce.completed=pe,Ce.aborted=le,Ce.failed=ce,ke.prototype.a=function(){xe(this),this.b=null},ke.prototype.Y=function(e,t,n){if(this.b)for(var r=this.b.get(t)||[],i=0;i<r.length;++i){var o=r[i];o.target!=e||n!=o.listener&&n||(o.Y(),this.b.remove(t,o))}},Ue.prototype.Y=function(){this.target.removeEventListener(this.type,this.listener,!1),this.listener=this.target=null};var He=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function We(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Ke(e){return""!=(qe||(Ye||(Ye=new re((function(){qe=null}))),(qe=document.querySelector("video")||document.querySelector("audio"))||(qe=document.createElement("video")),Ye.L(1),qe)).canPlayType(e)}function Ge(e){return(navigator.userAgent||"").includes(e)}var Ye=null,qe=null;function ze(e){if(!e)return"";239==(e=new Uint8Array(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(Ze(e));try{return decodeURIComponent(e)}catch(e){throw new ae(2,2,2004)}}function Xe(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new ae(2,2,2004);if(e instanceof ArrayBuffer)var r=e;else(n=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return Ze(n)}function $e(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return ze(t);if(254==t[0]&&255==t[1])return Xe(t.subarray(2),!1);if(255==t[0]&&254==t[1])return Xe(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return Xe(e,!1);if(0==t[1]&&0==t[3])return Xe(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return ze(e);throw new ae(2,2,2003)}function Qe(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function Je(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer}function Ze(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t}function et(t,n){var r=Ze(t);return n=null==n||n,r=e.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}function tt(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function nt(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n}function rt(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function it(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function ot(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(var r=n=0;r<t.length;++r)n+=t[r].length;n=new Uint8Array(n);for(var i=r=0;i<t.length;++i)n.set(t[i],r),r+=t[i].length;return n}function at(e){var t=this;this.v=e,this.s=new Set,this.l=this.h=null,this.J=!1,this.a=null,this.i=new ke,this.b=new Map,this.u=[],this.m=new se,this.f=null,this.g=function(n){t.m.reject(n),e.onError(n)},this.W=new Map,this.K=new Map,this.H=new re((function(){return function(e){var t=e.W,n=e.K;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new ae(2,6,6014)),e.v.Cc(je(n))}(t)})),this.c=!1,this.N=new se,this.G=!1,this.B=[],this.V=!1,this.M=new re((function(){!function(e){e.b.forEach((function(t,n){var r=t.Zb,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.v.onExpirationUpdated(n.sessionId,i),t.Zb=i)}))}(t)})).qa(1),this.m.catch((function(){}))}function st(t,n,r){return t.u=r,t.G=0<r.length,function(t,n){var r=n.some((function(e){return 0<e.drmInfos.length}));if(!r){var i=Fe(t.f.servers);!function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=p(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,i)}var o=function(t){if(0==(t=Fe(t.f.clearKeys)).size)return null;var n=[],r=[];t.forEach((function(e,t){var i=nt(t),o=nt(e);i={kty:"oct",kid:et(i,!1),k:et(o,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(Qe(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(t);if(o){var a=p(n);for(i=a.next();!i.done;i=a.next())i.value.drmInfos=[o]}for(o=p(n),i=o.next();!i.done;i=o.next())for(i=p(i.value.drmInfos),a=i.next();!a.done;a=i.next())yt(a.value,Fe(t.f.servers),Fe(t.f.advanced||{}));return(i=function(e,t){for(var n=new Set,r=p(t),i=r.next();!i.done;i=r.next()){var o=p(i.value.drmInfos);for(i=o.next();!i.done;i=o.next())n.add(i.value)}for(r=p(n),i=r.next();!i.done;i=r.next())yt(i.value,Fe(e.f.servers),Fe(e.f.advanced||{}));o=e.G?"required":"optional";var a=e.G?["persistent-license"]:["temporary"];for(r=new Map,n=p(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:o,sessionTypes:a,label:i.keySystem,drmInfos:[]});for(n=p(t),i=n.next();!i.done;i=n.next()){i=i.value,o=i.audio,a=i.video;var s=o?Be(o.mimeType,o.codecs):"",u=a?Be(a.mimeType,a.codecs):"",c=p(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),o&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),a&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(t,n)).size?(i=function(e,t){if(1==t.size&&t.has(""))return Promise.reject(new ae(2,6,6e3));for(var n=p(t.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new se;return[!0,!1].forEach(function(e){var n=this;t.forEach((function(t,r){t.drmInfos.some((function(e){return!!e.licenseServerUri}))==e&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[t])}.bind(n)))}))}.bind(e)),i=(i=i.catch((function(){return Promise.reject(new ae(2,6,6001))}))).then(function(e){if(this.c)return Promise.reject();this.s.clear();var n=e.getConfiguration(),r=n.videoCapabilities||[],i=p(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.s.add(n.value.contentType);for(n=(r=p(r)).next();!n.done;n=r.next())this.s.add(n.value.contentType);r=e.keySystem,i=[];var o=[],a=[],s=[];return function(e,t,n,r,i){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return it(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&e.initData.forEach((function(e){r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&it(t.initData,e.initData)}))||r.push(e)})),e.keyIds)for(var o=0;o<e.keyIds.length;++o)i.includes(e.keyIds[o])||i.push(e.keyIds[o])}))}((n=t.get(e.keySystem)).drmInfos,i,o,a,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:a,keyIds:s},this.a.licenseServerUri?e.createMediaKeys():Promise.reject(new ae(2,6,6012,this.a.keySystem))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.h=e,this.J=!0}.bind(e)).catch(function(e){if(!this.c)return this.a=null,this.s.clear(),e instanceof ae?Promise.reject(e):Promise.reject(new ae(2,6,6002,e.message))}.bind(e)),n.reject(),i}(t,i),r?i:i.catch((function(){}))):(t.J=!0,Promise.resolve())}(t,n)}function ut(e,t,n){for(var r=e.b.values(),i=(r=p(r)).next();!i.done;i=r.next())if(it(n,i.value.initData))return;lt(e,t,n)}function ct(e,t){return!!Ge("Edge/")||e.s.has(t)}function lt(e,t,n){try{var r=e.G?e.h.createSession("persistent-license"):e.h.createSession()}catch(t){return void e.g(new ae(2,6,6005,t.message))}Le(e.i,r,"message",e.Ec.bind(e)),Le(e.i,r,"keystatuseschange",e.Dc.bind(e)),e.b.set(r,{initData:n,loaded:!1,Zb:1/0,ra:null}),r.generateRequest(t,n.buffer).catch((function(t){if(!e.c){if(e.b.delete(r),t.errorCode&&t.errorCode.systemCode){var n=t.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}e.g(new ae(2,6,6006,t.message,t,n))}}))}function pt(e,t){var n=t.target,r=e.b.get(n),i=e.a.licenseServerUri,o=e.f.advanced[e.a.keySystem];"individualization-request"==t.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(i=Ae([i],e.f.retryParameters)).body=t.message,i.method="POST",i.licenseRequestType=t.messageType,"com.microsoft.playready"!=e.a.keySystem&&"com.chromecast.playready"!=e.a.keySystem||function(e){var t=Xe(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=(t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=tt(t.querySelector("Challenge").textContent).buffer}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(i),e.a.keySystem.startsWith("com.apple.fps")&&function(e){var t=new Uint8Array(e.body);t="spc="+et(t),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=Qe(t)}(i),e.v.ub.request(2,i).promise.then(function(e){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&function(e){try{var t=ze(e.data)}catch(e){return}"<ckc>"===(t=t.trim()).substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(e){}e.data=tt(t).buffer}(e),n.update(e.data).then(function(){var e=this;this.v.onEvent(new ye("drmsessionupdate")),r&&(r.ra&&r.ra.resolve(),new re((function(){r.loaded=!0,ht(e)&&e.m.resolve()})).L(mt))}.bind(this)))}.bind(e),function(e){this.c||(e=new ae(2,6,6007,e),this.g(e),r&&r.ra&&r.ra.reject(e))}.bind(e)).catch(function(e){this.c||(e=new ae(2,6,6008,e.message),this.g(e),r&&r.ra&&r.ra.reject(e))}.bind(e))}function ft(){var e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],t=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],n=new Map;return e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(e){return function(e){return d((function r(){var i,o,a;return I(r,(function(r){switch(r.j){case 1:return r.P=2,T(r,navigator.requestMediaKeySystemAccess(e,t),4);case 4:return i=r.w,a=!!(o=i.getConfiguration().sessionTypes)&&o.includes("persistent-license"),Ge("Tizen 3")&&(a=!1),n.set(e,{persistentState:a}),T(r,i.createMediaKeys(),5);case 5:w(r,0);break;case 2:O(r),n.set(e,null),S(r)}}))}))}(e)})),Promise.all(e).then((function(){return je(n)}))}function dt(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var o=e[r];i=t[i];var a=[];a=(a=a.concat(o.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(o.keyIds)).concat(i.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||i.persistentStateRequired,videoRobustness:o.videoRobustness||i.videoRobustness,audioRobustness:o.audioRobustness||i.audioRobustness,serverCertificate:o.serverCertificate||i.serverCertificate,initData:a,keyIds:s});break}return n}function ht(e){return Me(e=e.b.values(),(function(e){return e.loaded}))}function yt(t,n,r){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=[]),(r=r.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}D("shaka.util.StringUtils.fromUTF8",ze),D("shaka.util.StringUtils.fromUTF16",Xe),D("shaka.util.StringUtils.fromBytesAutoDetect",$e),D("shaka.util.StringUtils.toUTF8",Qe),D("shaka.util.StringUtils.toUTF16",Je),D("shaka.util.Uint8ArrayUtils.toBase64",et),D("shaka.util.Uint8ArrayUtils.fromBase64",tt),D("shaka.util.Uint8ArrayUtils.fromHex",nt),D("shaka.util.Uint8ArrayUtils.toHex",rt),D("shaka.util.Uint8ArrayUtils.equal",it),D("shaka.util.Uint8ArrayUtils.concat",ot),(n=at.prototype).destroy=function(){var e=this;return d((function t(){return I(t,(function(t){switch(t.j){case 1:return e.c?T(t,e.N,0):(e.c=!0,T(t,function(e){return d((function t(){var n;return I(t,(function(t){switch(t.j){case 1:return e.i.a(),e.i=null,e.m.reject(),e.M.stop(),e.M=null,e.H.stop(),e.H=null,n=Array.from(e.b.keys()),e.b.clear(),T(t,Promise.all(n.map((function(e){return Promise.resolve().then((function(){return d((function t(){return I(t,(function(t){switch(t.j){case 1:return t.P=2,T(t,function(e){return d((function t(){var n;return I(t,(function(t){switch(t.j){case 1:return n=new Promise((function(e){new re(e).L(_t)})),T(t,Promise.race([e.close().then((function(){return!0})),n.then((function(){return!1}))]),2);case 2:S(t)}}))}))}(e),4);case 4:w(t,0);break;case 2:O(t),S(t)}}))}))}))}))),2);case 2:if(!e.l){t.j=3;break}return t.P=4,T(t,e.l.setMediaKeys(null),6);case 6:w(t,5);break;case 4:O(t);case 5:e.l=null;case 3:e.a=null,e.s.clear(),e.h=null,e.u=[],e.f=null,e.g=null,e.v=null,S(t)}}))}))}(e),4));case 4:e.N.resolve(),t.j=0}}))}))},n.configure=function(e){this.f=e},n.ab=function(e){var t=this;if(!this.h)return De(this.i,e,"encrypted",(function(){t.g(new ae(2,6,6010))})),Promise.resolve();this.l=e,De(this.i,this.l,"play",(function(){for(var e=0;e<t.B.length;e++)pt(t,t.B[e]);t.V=!0,t.B=[]})),e=(e=this.l.setMediaKeys(this.h)).catch((function(e){return Promise.reject(new ae(2,6,6003,e.message))}));var n=function(e){return d((function t(){var n;return I(t,(function(t){switch(t.j){case 1:if(!(e.h&&e.a&&e.a.serverCertificate&&e.a.serverCertificate.length)){t.j=0;break}return t.P=3,T(t,e.h.setServerCertificate(e.a.serverCertificate),5);case 5:w(t,0);break;case 3:return n=O(t),t.return(Promise.reject(new ae(2,6,6004,n.message)))}}))}))}(this);return Promise.all([e,n]).then((function(){if(t.c)return Promise.reject();!function(e){var t=e.a?e.a.initData:[];t.forEach((function(t){return lt(e,t.initDataType,t.initData)})),e.u.forEach((function(t){return function(e,t){try{var n=e.h.createSession("persistent-license")}catch(t){var r=new ae(2,6,6005,t.message);return e.g(r),Promise.reject(r)}Le(e.i,n,"message",e.Ec.bind(e)),Le(e.i,n,"keystatuseschange",e.Dc.bind(e));var i={initData:null,loaded:!1,Zb:1/0,ra:null};return e.b.set(n,i),n.load(t).then(function(e){return this.c?Promise.reject():e?(i.loaded=!0,ht(this)&&this.m.resolve(),n):(this.b.delete(n),void this.g(new ae(2,6,6013)))}.bind(e),function(e){this.c||(this.b.delete(n),this.g(new ae(2,6,6005,e.message)))}.bind(e))}(e,t)})),t.length||e.u.length||e.m.resolve()}(t),t.a.initData.length||t.u.length||Le(t.i,t.l,"encrypted",(function(e){return ut(t,e.initDataType,new Uint8Array(e.initData))}))})).catch((function(e){if(!t.c)return Promise.reject(e)}))},n.keySystem=function(){return this.a?this.a.keySystem:""},n.Sb=function(){for(var e=1/0,t=this.b.keys(),n=(t=p(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},n.Ec=function(e){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.V?this.B.push(e):pt(this,e)},n.Dc=function(e){e=e.target;var t=this.b.get(e),n=!1;e.keyStatuses.forEach(function(e,r){if("string"==typeof r){var i=r;r=e,e=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!Ge("Tizen")){var o=(i=new DataView(r)).getUint32(0,!0),a=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,o,!1),i.setUint16(4,a,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(t.loaded=!0),"expired"==e&&(n=!0),i=rt(new Uint8Array(r)),this.W.set(i,e)}.bind(this));var r=e.expiration-Date.now();(0>r||n&&1e3>r)&&t&&!t.ra&&(this.b.delete(e),e.close().catch((function(){}))),ht(this)&&(this.m.resolve(),this.H.L(gt))};var _t=1,mt=5,gt=.5;function vt(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Et(){}function bt(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Tt(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function St(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=e.length-1;0<=r&&e.end(r)>t;--r)n+=e.end(r)-Math.max(e.start(r),t);return n}function wt(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}vt.prototype.init=function(e){var t=muxjs.mp4.probe;e=new Uint8Array(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},vt.prototype.b=function(e,t){var n=new Uint8Array(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},vt.prototype.c=function(){this.a.resetCaptionStream()},Et.prototype.init=function(){},Et.prototype.b=function(){},Et.prototype.c=function(){};var Ot={xe:function(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())},Lb:function(e,t){return e.concat(t)},eb:function(){},zd:function(e){return null!=e}};var At={ua:"video",Za:"audio",Z:"text",se:"application"};function Rt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Ct(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Pt(n,t)):MediaSource.isTypeSupported(Pt("audio",t))||MediaSource.isTypeSupported(Pt("video",t)))}function Pt(e,t){var n=t.replace("mp2t","mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function It(e,t,n){this.startTime=e,this.direction=Ut,this.endTime=t,this.payload=n,this.region=new Kt,this.position=null,this.positionAlign=Nt,this.size=100,this.textAlign=kt,this.writingMode=Mt,this.lineInterpretation=Ft,this.line=null,this.lineHeight="",this.lineAlign=jt,this.displayAlign=Dt,this.backgroundColor=this.color="",this.backgroundImage=null,this.fontSize="",this.fontWeight=Vt,this.fontStyle=Ht,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}Rt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Rt.prototype.i=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.g.push(t)},Rt.prototype.h=function(){var e={data:ot.apply(null,this.g),captions:this.c};this.b.resolve(e),this.f=!1},D("shaka.text.Cue",It);var Nt="auto";It.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Nt};var kt="center",Lt={LEFT:"left",RIGHT:"right",CENTER:kt,START:"start",END:"end"};It.textAlign=Lt;var Dt="after",xt={BEFORE:"before",CENTER:"center",AFTER:Dt};It.displayAlign=xt;var Ut="ltr";It.direction={HORIZONTAL_LEFT_TO_RIGHT:Ut,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Mt="horizontal-tb";It.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Mt,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Ft=0;It.lineInterpretation={LINE_NUMBER:Ft,PERCENTAGE:1};var jt="start",Bt={CENTER:"center",START:jt,END:"end"};It.lineAlign=Bt;var Vt=400;It.fontWeight={NORMAL:Vt,BOLD:700};var Ht="normal",Wt={NORMAL:Ht,ITALIC:"italic",OBLIQUE:"oblique"};function Kt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Gt,this.scroll=Yt}It.fontStyle=Wt,It.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},D("shaka.text.CueRegion",Kt);var Gt=1;Kt.units={PX:0,PERCENTAGE:Gt,LINES:2};var Yt="";function qt(e){this.g=null,this.c=e,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}Kt.scrollMode={NONE:Yt,UP:"up"};var zt={};function Xt(t){return!!(zt[t]||e.muxjs&&"application/cea-608"==t)}function $t(e,t){"application/cea-608"!=t&&(e.g=new zt[t])}function Qt(e,t,n,r,i){for(var o=n+" "+r,a=new Map,s=(t=p(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),u.startTime+=i,u.endTime+=i,u.startTime>=e.f&&u.startTime<e.h&&(u=new It(u.startTime,u.endTime,u.text),a.get(s).get(o).push(u),s==e.l&&e.c.append([u]))}for(o=(i=p(a.keys())).next();!o.done;o=i.next())for(o=o.value,e.i.has(o)||e.i.set(o,new Map),s=(t=p(a.get(o).keys())).next();!s.done;s=t.next())s=s.value,u=a.get(o).get(s),e.i.get(o).set(s,u);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.h))}function Jt(e,t,n){this.f=e,this.h=n,this.b={},this.a=null,this.c={},this.i=new ke,this.u=!1,this.l={},this.m=t,e=this.s=new se,t=new MediaSource,De(this.i,t,"sourceopen",e.resolve),this.f.src=Zt(t),this.g=t}D("shaka.text.TextEngine.registerParser",(function(e,t){zt[e]=t})),D("shaka.text.TextEngine.unregisterParser",(function(e){delete zt[e]})),qt.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},qt.prototype.Ub=function(e){try{return this.g.parseMedia(new Uint8Array(e),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(e){throw new ae(2,2,2009,e)}},qt.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},qt.prototype.Sc=function(e){this.c.append(e)},qt.prototype.appendCues=qt.prototype.Sc,qt.prototype.Bb=function(e,t){this.l=e;var n=this.i.get(e);if(n)for(var r=p(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter((function(e){return e.endTime<=t})),this.c.append(i))},qt.prototype.setSelectedClosedCaptionId=qt.prototype.Bb;var Zt=e.URL.createObjectURL;function en(e){var t=Be(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return He.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")}(e);return Xt(t)||MediaSource.isTypeSupported(n)||Ct(t,e.type)}function tn(e,t){e.a||(e.a=new qt(e.h)),$t(e.a,t)}function nn(e,t){if("text"==t)var n=e.a.a;else n=!(n=on(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function rn(e,t){return"text"==t?e.a.b:bt(on(e,t))}function on(e,t){try{return e.b[t].buffered}catch(e){return null}}function an(t,n,r,i,o,a){return"text"==n?function(e,t,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(t));else{var e={periodStart:this.m,segmentStart:n,segmentEnd:r};e=this.g.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.f&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(e))}(t.a,r,i,o):t.l[n]?function(e,t){e.f=!0,e.b=new se,e.g=[],e.c=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new ae(2,3,3018)),e.b}(t.l[n],r).then(function(e){return this.a||tn(this,"text/vtt"),e.captions&&Qt(this.a,e.captions,i,o,this.b.video.timestampOffset),un(this,n,this.Mc.bind(this,n,e.data.buffer))}.bind(t)):(a&&e.muxjs&&(t.a||tn(t,"text/vtt"),null==i&&null==o?t.m.init(r):t.m.b(r,(function(e){e.length&&Qt(t.a,e,i,o,t.b.video.timestampOffset)}))),un(t,n,t.Mc.bind(t,n,r)))}function sn(e,t){return"text"==t?e.a?(e.m.c(),e.a.remove(0,1/0)):Promise.resolve():un(e,t,e.Hc.bind(e,t,0,e.g.duration))}function un(e,t,n){if(e.u)return Promise.reject();if(n={start:n,p:new se},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new ae(2,3,3017,t)):n.p.reject(new ae(2,3,3015,r)),ln(e,t)}return n.p}function cn(e,t){if(e.u)return Promise.reject();var n,r=[];for(n in e.b){var i=new se,o={start:function(e){e.resolve()}.bind(null,i),p:i};e.c[n].push(o),r.push(i),1==e.c[n].length&&o.start()}return Promise.all(r).then(function(){try{t()}catch(t){var e=Promise.reject(new ae(2,3,3015,t))}for(var n in this.b)ln(this,n);return e}.bind(e),function(){return Promise.reject()}.bind(e))}function ln(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(r){n.p.reject(new ae(2,3,3015,r)),ln(e,t)}}function pn(e,t){return e=dn(e),t=dn(t),e.split("-")[0]==t.split("-")[0]}function fn(e,t){e=dn(e),t=dn(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function dn(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=_n.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function hn(e){return e.language?dn(e.language):e.audio&&e.audio.language?dn(e.audio.language):e.video&&e.video.language?dn(e.video.language):"und"}function yn(e,t){for(var n=dn(e),r=new Set,i=p(t),o=i.next();!o.done;o=i.next())r.add(dn(o.value));for(o=(i=p(r)).next();!o.done;o=i.next())if((o=o.value)==n)return o;for(o=(i=p(r)).next();!o.done;o=i.next())if(fn(o=o.value,n))return o;for(o=(i=p(r)).next();!o.done;o=i.next()){var a=o=o.value,s=n;if(a=dn(a),s=dn(s),a=a.split("-"),s=s.split("-"),2==a.length&&2==s.length&&a[0]==s[0])return o}for(o=(r=p(r)).next();!o.done;o=r.next())if(fn(n,i=o.value))return i;return null}(n=Jt.prototype).destroy=function(){var e=this;this.u=!0;var t,n=[];for(t in this.c){var r=this.c[t],i=r[0];for(this.c[t]=r.slice(0,1),i&&n.push(i.p.catch(Ot.eb)),i=1;i<r.length;++i)r[i].p.catch(Ot.eb),r[i].p.reject()}for(var o in this.a&&n.push(this.a.destroy()),this.h&&n.push(this.h.destroy()),this.l)n.push(this.l[o].destroy());return Promise.all(n).then((function(){e.i&&(e.i.a(),e.i=null),e.f&&(e.f.removeAttribute("src"),e.f.load(),e.f=null),e.g=null,e.a=null,e.h=null,e.b={},e.l={},e.m=null,e.c={}}))},n.init=function(e,t){var n=this;return d((function r(){var i;return I(r,(function(r){switch(r.j){case 1:return i=At,T(r,n.s,2);case 2:e.forEach((function(e,r){var o=Be(e.mimeType,e.codecs);r==i.Z?tn(n,o):(!t&&MediaSource.isTypeSupported(o)||!Ct(o,r)||(n.l[r]=new Rt,o=Pt(r,o)),o=n.g.addSourceBuffer(o),Le(n.i,o,"error",n.de.bind(n,r)),Le(n.i,o,"updateend",n.Va.bind(n,r)),n.b[r]=o,n.c[r]=[])})),S(r)}}))}))},n.Qb=function(e){if(e.total=wt(this.f.buffered),e.audio=wt(on(this,"audio")),e.video=wt(on(this,"video")),e.text=[],this.a){var t=this.a.a,n=this.a.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}},n.Bb=function(e){var t=rn(this,"video")||0;this.a.Bb(e,t)},n.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):un(this,e,this.Hc.bind(this,e,t,n))},n.flush=function(e){return"text"==e?Promise.resolve():un(this,e,this.$c.bind(this,e))},n.endOfStream=function(e){return cn(this,function(){e?this.g.endOfStream(e):this.g.endOfStream()}.bind(this))},n.oa=function(e){return cn(this,function(){this.g.duration=e}.bind(this))},n.R=function(){return this.g.duration},n.Mc=function(e,t){this.b[e].appendBuffer(t)},n.Hc=function(e,t,n){n<=t?this.Va(e):this.b[e].remove(t,n)},n.Qc=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.Va(e)},n.$c=function(e){this.f.currentTime-=.001,this.Va(e)},n.ce=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.Va(e)},n.Yd=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.Va(e)},n.de=function(e){this.c[e][0].p.reject(new ae(2,3,3014,this.f.error?this.f.error.code:0))},n.Va=function(e){var t=this.c[e][0];t&&(t.p.resolve(),ln(this,e))};var _n=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function mn(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function gn(e,t,n){var r=!1;return e.forEach((function(e){var i=e.allowedByApplication;e.allowedByApplication=mn(e,t,n),i!=e.allowedByApplication&&(r=!0)})),r}function vn(e,t,n,r){r.variants=r.variants.filter((function(r){if(e&&e.J&&!function(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!ct(e,Be(n.mimeType,n.codecs))||r&&r.encrypted&&!ct(e,Be(r.mimeType,r.codecs)))return!1;var i=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))}(e,r))return!1;var i=r.audio;return r=r.video,!(i&&!en(i)||r&&!en(r)||i&&t&&!En(i,t)||r&&n&&!En(r,n))})),r.textStreams=r.textStreams.filter((function(e){return Xt(Be(e.mimeType,e.codecs))}))}function En(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function bn(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),t&&a.push(t.mimeType),a=a[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return t&&t.roles.forEach((function(e){return u.add(e)})),n&&n.roles.forEach((function(e){return u.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Tn(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Sn(e){return e.__shaka_id||(e.__shaka_id=wn++),e.__shaka_id}var wn=0;function On(e){return{id:Sn(e),active:!1,type:"",bandwidth:0,language:dn(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function An(e){return e.allowedByApplication&&e.allowedByKeySystem}function Rn(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=p(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?e:(i=n.filter((function(e){return e<=t}))).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function Cn(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var o=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==o})),t){var a=yn(dn(t),e.map((function(e){return e.language})));a&&(r=e.filter((function(e){return dn(e.language)==a})))}if(n){if((e=Pn(r,n)).length)return e}else if((e=r.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=r.map((function(e){return e.roles})).reduce(Ot.Lb,[])).length?Pn(r,e[0]):r}function Pn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function In(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function Nn(){this.h=null,this.f=!1,this.b=new j,this.c=[],this.i=!1,this.a=this.g=null}function kn(e,t){return e&&(t=t.filter((function(t){return mn(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function Ln(e,t){this.a=e,this.b=t}function Dn(e,t){var n=new Ln(2,6),r=Mn,i=r.a,o=n.b-i.b;(0<(n.a-i.a||o)?r.c:r.b)(r.a,n,e,t)}function xn(e,t,n,r){V([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function Un(e,t,n,r){B([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}D("shaka.abr.SimpleAbrManager",Nn),Nn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Nn.prototype.stop=Nn.prototype.stop,Nn.prototype.init=function(e){this.h=e},Nn.prototype.init=Nn.prototype.init,Nn.prototype.chooseVariant=function(){var e=kn(this.a.restrictions,this.c),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!e.length&&(e=[(e=kn(null,this.c))[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],o=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=i.bandwidth/this.a.bandwidthDowngradeTarget&&t<=o&&(n=i)}return this.g=Date.now(),n},Nn.prototype.chooseVariant=Nn.prototype.chooseVariant,Nn.prototype.enable=function(){this.f=!0},Nn.prototype.enable=Nn.prototype.enable,Nn.prototype.disable=function(){this.f=!1},Nn.prototype.disable=Nn.prototype.disable,Nn.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,M(n.b,i,r),M(n.c,i,r)}if(null!=this.g&&this.f)e:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Nn.prototype.segmentDownloaded=Nn.prototype.segmentDownloaded,Nn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Nn.prototype.getBandwidthEstimate=Nn.prototype.getBandwidthEstimate,Nn.prototype.setVariants=function(e){this.c=e},Nn.prototype.setVariants=Nn.prototype.setVariants,Nn.prototype.configure=function(e){this.a=e},Nn.prototype.configure=Nn.prototype.configure,Ln.prototype.toString=function(){return"v"+this.a+"."+this.b};var Mn=null;function Fn(e,t,n,r){this.b=e,this.type=t,this.a=n,this.segments=r||null}function jn(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r}function Bn(e,t){this.name=e,this.value=t}function Vn(e,t){var n=e.a.filter((function(e){return e.name==t}));return n.length?n[0]:null}function Hn(e,t,n){return(e=Vn(e,t))?e.value:n||null}function Wn(e,t){this.b=t,this.a=e}jn.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e};var Kn={Oa:function(e,t){return e.filter((function(e){return e.name==t}))},ya:function(e,t){var n=Kn.Oa(e,t);return n.length?n[0]:null},Pb:function(e,t,n){return e.filter((function(e){var r=Vn(e,"TYPE");return e=Vn(e,"GROUP-ID"),r.value==t&&e.value==n}))},Mb:function(e,t){return function(e,t){if(0==t.length)return e;var n=t.map((function(e){return new W(e)}));return e.map((function(e){return new W(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(Ot.Lb,[]).map((function(e){return e.toString()}))}([e],[t])[0]},Wb:function(e){return/^#(?!EXT)/m.test(e)}};function Gn(e){this.b=e,this.a=0}function Yn(e){qn(e,/[ \t]+/gm)}function qn(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,Sd:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.Sd)}function zn(e){return e.a==e.b.length?null:(e=qn(e,/[^ \t\n]*/gm))?e[0]:null}function Xn(){this.a=0}function $n(e,t,n){var r=(t=(t=ze(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new ae(2,4,4015);t=0;for(var i=1;i<r.length;i++)if(!Kn.Wb(r[i])){var o=Jn(e,r[i]);if(--e.a,Zn.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(i+=1)}for(i=[],o=1;o<r.length;)if(Kn.Wb(r[o]))o+=1;else{var a=Jn(e,r[o]);if(er.includes(a.name)){if(1!=t)throw new ae(2,4,4017);return new Fn(n,t,i,e=Qn(e,n,r=r.splice(o,r.length-o),i))}i.push(a),o+=1,"EXT-X-STREAM-INF"==a.name&&(a.a.push(new Bn("URI",r[o])),o+=1)}return new Fn(n,t,i)}function Qn(e,t,n,r){var i=[],o=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=Jn(e,n),Zn.includes(n.name)?r.push(n):o.push(n);else{if(Kn.Wb(n))return[];n=Kn.Mb(t,n.trim()),i.push(new Wn(n,o)),o=[]}})),i}function Jn(e,t){var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new ae(2,4,4016,t);var i,o=r[1],a=r[2];if(r=[],a){var s;(s=qn(a=new Gn(a),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=qn(a,u);)r.push(new Bn(s[1],s[2]||s[3]))}return new jn(n,o,r,i)}var Zn="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),er="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function tr(e,t,n){this.c=e,this.b=t,this.a=n}function nr(e,t,n,r,i,o){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=o}D("shaka.media.InitSegmentReference",tr),tr.prototype.Nb=function(){return this.c()},tr.prototype.createUris=tr.prototype.Nb,tr.prototype.Tb=function(){return this.b},tr.prototype.getStartByte=tr.prototype.Tb,tr.prototype.Rb=function(){return this.a},tr.prototype.getEndByte=tr.prototype.Rb,D("shaka.media.SegmentReference",nr),nr.prototype.ba=function(){return this.position},nr.prototype.getPosition=nr.prototype.ba,nr.prototype.Ub=function(){return this.startTime},nr.prototype.getStartTime=nr.prototype.Ub,nr.prototype.ed=function(){return this.endTime},nr.prototype.getEndTime=nr.prototype.ed,nr.prototype.Nb=function(){return this.c()},nr.prototype.createUris=nr.prototype.Nb,nr.prototype.Tb=function(){return this.b},nr.prototype.getStartByte=nr.prototype.Tb,nr.prototype.Rb=function(){return this.a},nr.prototype.getEndByte=nr.prototype.Rb;var rr={Wa:{},gb:{},Gc:function(e,t){rr.gb[e]=t}};function ir(e,t,n){this.f=e,this.yb=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.s=void 0===n||n}function or(e){this.a=e}function ar(e){try{var t=ar.parse(e);return pe({uri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return ce(e)}}function sr(e,t){this.C=e,this.b=t==ur,this.a=0}D("shaka.media.ManifestParser.registerParserByExtension",rr.Gc),rr.cc=function(e,t){rr.Wa[e]=t},D("shaka.media.ManifestParser.registerParserByMime",rr.cc),rr.Od=function(){var e={};if(We()){for(var t in rr.Wa)e[t]=!0;for(var n in rr.gb)e[n]=!0}t={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=p(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())e[r=r.value]=We()?!!rr.Wa[r]:Ke(r);for(var i in t)e[i]=We()?!!rr.gb[i]:Ke(t[i]);return e},rr.create=function(e,t,n,r){return d((function i(){var o,a;return I(i,(function(i){switch(i.j){case 1:return i.P=2,T(i,rr.fd(e,t,n,r),4);case 4:return o=i.w,i.return(new o);case 2:throw(a=O(i)).severity=2,a}}))}))},rr.fd=function(e,t,n,r){return d((function i(){var o,a,s,u,c;return I(i,(function(i){switch(i.j){case 1:if(o=rr,r&&(a=o.Wa[r.toLowerCase()]))return i.return(a);if((s=o.getExtension(e))&&(u=o.gb[s]))return i.return(u);if(r){i.j=2;break}return T(i,o.nd(e,t,n),3);case 3:if((r=i.w)&&(c=rr.Wa[r]))return i.return(c);case 2:throw new ae(2,4,4e3,e)}}))}))},rr.nd=function(e,t,n){return d((function r(){var i,o,a;return I(r,(function(r){switch(r.j){case 1:return(i=Ae([e],n)).method="HEAD",T(r,t.request(0,i).promise,2);case 2:return o=r.w,a=o.headers["content-type"],r.return(a?a.toLowerCase():"")}}))}))},rr.getExtension=function(e){return 1==(e=new W(e).U.split("/").pop().split(".")).length?"":e.pop().toLowerCase()},rr.isSupported=function(e,t){return!!We()&&(t in rr.Wa||rr.getExtension(e)in rr.gb)},D("shaka.media.PresentationTimeline",ir),ir.prototype.R=function(){return this.g},ir.prototype.getDuration=ir.prototype.R,ir.prototype.oa=function(e){this.g=e},ir.prototype.setDuration=ir.prototype.oa,ir.prototype.sd=function(){return this.f},ir.prototype.getPresentationStartTime=ir.prototype.sd,ir.prototype.Zd=function(e){this.l=e},ir.prototype.setClockOffset=ir.prototype.Zd,ir.prototype.Cb=function(e){this.m=e},ir.prototype.setStatic=ir.prototype.Cb,ir.prototype.Kc=function(e){this.h=e},ir.prototype.setSegmentAvailabilityDuration=ir.prototype.Kc,ir.prototype.$d=function(e){this.yb=e},ir.prototype.setDelay=ir.prototype.$d,ir.prototype.dd=function(){return this.yb},ir.prototype.getDelay=ir.prototype.dd,ir.prototype.yc=function(e,t){if(0!=e.length){var n=e[e.length-1].endTime+t;this.xc(e[0].startTime+t),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.s&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},ir.prototype.notifySegments=ir.prototype.yc,ir.prototype.xc=function(e){this.c=null==this.c?e:Math.min(this.c,e)},ir.prototype.notifyMinSegmentStartTime=ir.prototype.xc,ir.prototype.Bd=function(e){this.a=Math.max(this.a,e)},ir.prototype.notifyMaxSegmentDuration=ir.prototype.Bd,ir.prototype.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},ir.prototype.offset=ir.prototype.offset,ir.prototype.S=function(){return 1/0==this.g&&!this.m},ir.prototype.isLive=ir.prototype.S,ir.prototype.Sa=function(){return 1/0!=this.g&&!this.m},ir.prototype.isInProgress=ir.prototype.Sa,ir.prototype.tc=function(){return 1/0==this.h?this.i:Math.max(this.i,this.Qa()-this.h)},ir.prototype.getSegmentAvailabilityStart=ir.prototype.tc,ir.prototype.Lc=function(e){this.i=e},ir.prototype.setUserSeekStart=ir.prototype.Lc,ir.prototype.Qa=function(){return this.S()||this.Sa()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},ir.prototype.getSegmentAvailabilityEnd=ir.prototype.Qa,ir.prototype.bb=function(e){var t=Math.max(this.c,this.i);return 1/0==this.h?t:Math.max(t,Math.min(this.Qa()-this.h+e,this.ga()))},ir.prototype.getSafeSeekRangeStart=ir.prototype.bb,ir.prototype.Pa=function(){return this.bb(0)},ir.prototype.getSeekRangeStart=ir.prototype.Pa,ir.prototype.ga=function(){return Math.max(0,this.Qa()-(this.S()||this.Sa()?this.yb:0))},ir.prototype.getSeekRangeEnd=ir.prototype.ga,ir.prototype.re=function(){return null!=this.f&&null==this.b},ir.prototype.usingPresentationStartTime=ir.prototype.re,D("shaka.media.SegmentIndex",or),or.prototype.destroy=function(){return this.a=null,Promise.resolve()},or.prototype.destroy=or.prototype.destroy,or.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},or.prototype.find=or.prototype.find,or.prototype.get=function(e){return 0==this.a.length?null:0>(e-=this.a[0].position)||e>=this.a.length?null:this.a[e]},or.prototype.get=or.prototype.get,or.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},or.prototype.offset=or.prototype.offset,or.prototype.Ad=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],o=e[r];i.startTime<o.startTime?(t.push(i),n++):(i.startTime>o.startTime?0==n&&t.push(o):(.1<Math.abs(i.endTime-o.endTime)?t.push(new nr(i.position,o.startTime,o.endTime,o.c,o.b,o.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=new nr(n++,(i=e[r++]).startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},or.prototype.merge=or.prototype.Ad,or.prototype.Zc=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},or.prototype.evict=or.prototype.Zc,D("shaka.net.DataUriPlugin",ar),ar.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new ae(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new ae(2,1,1004,t);var r=n[0];n=e.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)t=tt(n).buffer;else{if(i)throw new ae(2,1,1005,t);t=Qe(n)}return{data:t,contentType:r[0]}},Oe("data",ar),D("shaka.util.DataViewReader",sr);var ur=1;function cr(){throw new ae(2,3,3e3)}function lr(){this.c=[],this.b=[],this.a=!1}function pr(e){for(;e.reader.rb()&&!e.parser.a;)e.parser.xb(e.start,e.reader,e.partialOkay)}function fr(e){for(var t=e.reader.D();0<t&&!e.parser.a;--t)e.parser.xb(e.start,e.reader,e.partialOkay)}function dr(e){return function(t){e(t.reader.Da(t.reader.C.byteLength-t.reader.ba()))}}function hr(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function yr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function _r(e,t,n,r){return e=Ae(e,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function mr(){var e=this;this.c=this.g=null,this.N=1,this.B=new Map,this.K=new Set,this.a=new Map,this.b=null,this.u="",this.s=new Xn,this.J=0,this.h=new re((function(){!function(e){d((function t(){var n,r;return I(t,(function(t){switch(t.j){case 1:return e.g?(t.P=2,T(t,e.update(),4)):t.return();case 4:n=e.J,e.h.L(n),w(t,0);break;case 2:(r=O(t)).severity=1,e.g.onError(r),e.h.L(.1),S(t)}}))}))}(e)})),this.f=Mr,this.m=null,this.v=0,this.G=1/0,this.i=new Ee,this.H=[],this.l=new Map,this.M=!1}function gr(e,t){return d((function n(){var r,i,o,a,s,u,c,l,p,f;return I(n,(function(n){switch(n.j){case 1:return r=Kn,i=Fr,o=t.Rc,T(n,Nr(e,o),2);case 2:if(a=n.w,1!=(s=$n(e.s,a.data,a.uri)).type)throw new ae(2,4,4017);return c=(u=r.ya(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=t.stream,T(n,Ar(e,t.Db,s,c,l.mimeType,l.codecs),3);case 3:p=n.w,t.hb.a=p,f=p[p.length-1],r.ya(s.a,"EXT-X-ENDLIST")&&(Dr(e,i.va),e.b.oa(f.endTime)),S(n)}}))}))}function vr(e){e.forEach((function(e){var t=e.stream.codecs.split(",");t=t.filter((function(e){return"mp4a.40.34"!=e})),e.stream.codecs=t.join(",")}))}function Er(e,t,n,r,i){return{id:e.N++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function br(e,t,n){return d((function r(){var i,o,a,s,u,c,l,p,f;return I(r,(function(r){switch(r.j){case 1:if(i=Pr(t,"URI"),e.a.has(i))return r.return(e.a.get(i));if(o=Pr(t,"TYPE").toLowerCase(),a=At,"subtitles"==o&&(o=a.Z),s=dn(Hn(t,"LANGUAGE","und")),u=Hn(t,"NAME"),c=Vn(t,"DEFAULT"),l=Vn(t,"AUTOSELECT"),p=Hn(t,"CHANNELS"),"audio"==o)if(p){var d=p.split("/")[0];d=parseInt(d,10)}else d=null;else d=null;return T(r,Tr(e,i,n,o,s,!!c||!!l,u,d,null),2);case 2:return null==(f=r.w)?r.return(null):e.a.has(i)?r.return(e.a.get(i)):(e.B.set(t.id,f),e.a.set(i,f),r.return(f))}}))}))}function Tr(e,t,n,r,i,o,a,s,u){return d((function c(){var l,f,h,y,_,m,g,v,E,b,S,w,O,A,R,C,P,N,k,L,D,x,U,M,F;return I(c,(function(c){switch(c.j){case 1:return f=(l=Kn).Mb(e.u,t),y="",T(c,Nr(e,f),2);case 2:if(m=c.w,f=m.uri,1!=(h=$n(e.s,m.data,f)).type)throw new ae(2,4,4017);g=[],h.segments.forEach((function(e){e=l.Oa(e.b,"EXT-X-KEY"),g.push.apply(g,e)})),v=!1,E=[],b=null;for(var j=p(g),B=j.next();!B.done;B=j.next())if(S=B.value,"NONE"!=(w=Pr(S,"METHOD"))){if(v=!0,"AES-128"==w)return e.M=!0,c.return(null);O=Pr(S,"KEYFORMAT"),(R=(A=Ur[O])?A(S):null)&&(R.keyIds.length&&(b=R.keyIds[0]),E.push(R))}if(v&&!E.length)throw new ae(2,4,4026);return function(e,t){var n=Fr,r=Kn.ya(t.a,"EXT-X-PLAYLIST-TYPE"),i=Kn.ya(t.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?Dr(e,n.va):(Dr(e,r?n.kc:n.Oc),n=Ir(t.a,"EXT-X-TARGETDURATION"),n=Number(n.value),e.v=Math.max(n,e.v),e.G=Math.min(n,e.G))}(e,h),y=function(e,t){if(1==t.length)return t[0];var n=Cr(e,t);if(null!=n)return n;throw new ae(2,4,4025,t)}(r,n),T(c,function(e,t,n,r){return d((function i(){var o,a,s,u,c,l,p,f,d,h;return I(i,(function(i){switch(i.j){case 1:return o=At,a=Se,s=r.segments[0].a,u=new W(s),c=u.U.split(".").pop(),l=Lr[t],(p=l[c])?i.return(p):t==o.Z?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=Ae([s],e.c.retryParameters)).method="HEAD",T(i,xr(e,f,a.lc),2));case 2:if(d=i.w,!(h=d.headers["content-type"]))throw new ae(2,4,4021,c);return i.return(h.split(";")[0])}}))}))}(e,r,y,h),3);case 3:return _=c.w,P=(C=l.ya(h.a,"EXT-X-MEDIA-SEQUENCE"))?Number(C.value):0,T(c,Ar(e,t,h,P,_,y),4);case 4:return N=c.w,k=N[0].startTime,L=N[N.length-1].endTime,D=L-k,x=new or(N),U=Sr(h),M=void 0,"text"==r&&(M="subtitle"),F={id:e.N++,originalId:a,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:x.find.bind(x),getSegmentReference:x.get.bind(x),initSegmentReference:U,presentationTimeOffset:0,mimeType:_,codecs:y,kind:M,encrypted:v,keyId:b,language:i,label:a,type:r,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:u},c.return({stream:F,hb:x,drmInfos:E,Db:t,Rc:f,Yb:k,ye:L,duration:D})}}))}))}function Sr(e){var t=Kn.Oa(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new ae(2,4,4020);var n=Pr(t=t[0],"URI"),r=Kn.Mb(e.b,n);return e=0,n=null,(t=Hn(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),n=(e=Number(e[1]))+t-1),new tr((function(){return[r]}),e,n)}function wr(e,t,n,r){var i=t.b,o=t.a;t=Ir(i,"EXTINF").value.split(","),t=r+Number(t[0]);var a=0,s=null;return(i=Kn.ya(i,"EXT-X-BYTERANGE"))&&(a=i.value.split("@"),i=Number(a[0]),s=(a=a[1]?Number(a[1]):e.a+1)+i-1),new nr(n,r,t,(function(){return[o]}),a,s)}function Or(e){e.b&&(e.H.forEach((function(t){e.b.yc(t,0)})),e.H=[])}function Ar(e,t,n,r,i,o){return d((function a(){var s,u,c,l,p,f,h,y,_,m;return I(a,(function(a){switch(a.j){case 1:return s=n.segments,u=[],c=s[0].a,l=wr(null,s[0],r,0),p=Sr(n),T(a,function(e,t,n,r,i,o){return d((function a(){var s,u,c,l,p,f,d,h,y;return I(a,(function(a){switch(a.j){case 1:if(e.m&&(s=e.a.get(t),u=s.hb,c=u.get(r.position)))return a.return(c.startTime);if("audio/mpeg"==i)return a.return(0);if("video/mp4"!=i&&"audio/mp4"!=i){a.j=2;break}return l=[Rr(e,r)],n&&l.push(Rr(e,n)),T(a,Promise.all(l),3);case 3:return p=a.w,f=p[0],d=p[1]||p[0],a.return(function(e,t){var n=0;if((new lr).A("moov",pr).A("trak",pr).A("mdia",pr).X("mdhd",(function(e){e.reader.I(0==e.version?8:16),n=e.reader.D(),e.parser.stop()})).parse(t,!0),!n)throw new ae(2,4,4030);var r=0,i=!1;if((new lr).A("moof",pr).A("traf",pr).X("tfdt",(function(e){r=(0==e.version?e.reader.D():e.reader.Ab())/n,i=!0,e.parser.stop()})).parse(e,!0),!i)throw new ae(2,4,4030);return r}(f.data,d.data));case 2:if("video/mp2t"!=i){a.j=4;break}return T(a,Rr(e,r),5);case 5:return h=a.w,a.return(function(e){function t(){throw new ae(2,4,4030)}e=new sr(new DataView(e),0);for(var n=0,r=0;;){if(n=e.ba(),71!=(r=e.da())&&t(),16384&e.zb()||t(),0!=(r=(48&e.da())>>4)&&2!=r||t(),3==r&&(r=e.da(),e.I(r)),1==e.D()>>8)return e.I(3),0!=(n=e.da()>>6)&&1!=n||t(),0==e.da()&&t(),n=e.da(),r=e.zb(),e=e.zb(),(1073741824*((14&n)>>1)+((65534&r)<<14|(65534&e)>>1))/9e4;e.seek(n+188),71!=(r=e.da())&&(e.seek(n+192),r=e.da()),71!=r&&(e.seek(n+204),r=e.da()),71!=r&&t(),e.Jc(1)}}(h.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){a.j=6;break}return T(a,Rr(e,r),7);case 7:return y=a.w,a.return(function(e,t,n){return Xt(e=Be(e,t))?($t(t=new qt(null),e),t.Ub(n)):0}(i,o,y.data));case 6:throw new ae(2,4,4030)}}))}))}(e,t,p,l,i,o),2);case 2:f=a.w,c.split("/").pop();for(var g=0;g<s.length;++g)h=s[g],y=u[u.length-1],_=0==g?f:y.endTime,m=wr(y,h,r+g,_),u.push(m);return e.H.push(u),Or(e),a.return(u)}}))}))}function Rr(e,t){return d((function n(){var r,i,o,a,s,u;return I(n,(function(n){switch(n.j){case 1:return r=Se,i=_r(t.c(),t.b,t.b+2048-1,e.c.retryParameters),o=_r(t.c(),t.b,t.a,e.c.retryParameters),n.P=2,T(n,xr(e,i,r.lc),4);case 4:return a=n.w,n.return(a);case 2:if(7001==(s=O(n)).code)throw s;return V("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),T(n,xr(e,o,r.lc),5);case 5:return u=n.w,n.return(u)}}))}))}function Cr(e,t){for(var n=kr[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return"text"==e?"":null}function Pr(e,t){var n=Vn(e,t);if(!n)throw new ae(2,4,4023,t);return n.value}function Ir(e,t){var n=Kn.ya(e,t);if(!n)throw new ae(2,4,4024,t);return n}function Nr(e,t){return xr(e,Ae([t],e.c.retryParameters),Se.ve)}sr.Endianness={te:0,ue:ur},sr.prototype.rb=function(){return this.a<this.C.byteLength},sr.prototype.hasMoreData=sr.prototype.rb,sr.prototype.ba=function(){return this.a},sr.prototype.getPosition=sr.prototype.ba,sr.prototype.gd=function(){return this.C.byteLength},sr.prototype.getLength=sr.prototype.gd,sr.prototype.da=function(){try{var e=this.C.getUint8(this.a);return this.a+=1,e}catch(e){cr()}},sr.prototype.readUint8=sr.prototype.da,sr.prototype.zb=function(){try{var e=this.C.getUint16(this.a,this.b);return this.a+=2,e}catch(e){cr()}},sr.prototype.readUint16=sr.prototype.zb,sr.prototype.D=function(){try{var e=this.C.getUint32(this.a,this.b);return this.a+=4,e}catch(e){cr()}},sr.prototype.readUint32=sr.prototype.D,sr.prototype.Fc=function(){try{var e=this.C.getInt32(this.a,this.b);return this.a+=4,e}catch(e){cr()}},sr.prototype.readInt32=sr.prototype.Fc,sr.prototype.Ab=function(){try{if(this.b)var e=this.C.getUint32(this.a,!0),t=this.C.getUint32(this.a+4,!0);else t=this.C.getUint32(this.a,!1),e=this.C.getUint32(this.a+4,!1)}catch(e){cr()}if(2097151<t)throw new ae(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},sr.prototype.readUint64=sr.prototype.Ab,sr.prototype.Da=function(e){this.a+e>this.C.byteLength&&cr();var t=new Uint8Array(this.C.buffer,this.C.byteOffset+this.a,e);return this.a+=e,new Uint8Array(t)},sr.prototype.readBytes=sr.prototype.Da,sr.prototype.I=function(e){this.a+e>this.C.byteLength&&cr(),this.a+=e},sr.prototype.skip=sr.prototype.I,sr.prototype.Jc=function(e){this.a<e&&cr(),this.a-=e},sr.prototype.rewind=sr.prototype.Jc,sr.prototype.seek=function(e){(0>e||e>this.C.byteLength)&&cr(),this.a=e},sr.prototype.seek=sr.prototype.seek,sr.prototype.ac=function(){for(var e=this.a;this.rb()&&0!=this.C.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.C.buffer,this.C.byteOffset+e,this.a-e),this.a+=1,ze(e)},sr.prototype.readTerminatedString=sr.prototype.ac,D("shaka.util.Mp4Parser",lr),lr.prototype.A=function(e,t){var n=hr(e);return this.c[n]=0,this.b[n]=t,this},lr.prototype.box=lr.prototype.A,lr.prototype.X=function(e,t){var n=hr(e);return this.c[n]=1,this.b[n]=t,this},lr.prototype.fullBox=lr.prototype.X,lr.prototype.stop=function(){this.a=!0},lr.prototype.stop=lr.prototype.stop,lr.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new sr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.rb()&&!this.a;)this.xb(0,n,t)},lr.prototype.parse=lr.prototype.parse,lr.prototype.xb=function(e,t,n){var r=t.ba(),i=t.D(),o=t.D();switch(i){case 0:i=t.C.byteLength-r;break;case 1:i=t.Ab()}var a=this.b[o];if(a){var s=null,u=null;1==this.c[o]&&(s=(u=t.D())>>>24,u&=16777215),o=r+i,n&&o>t.C.byteLength&&(o=t.C.byteLength),o-=t.ba(),t=0<o?t.Da(o):new Uint8Array(0),a({parser:this,partialOkay:n||!1,version:s,flags:u,reader:t=new sr(new DataView(t.buffer,t.byteOffset,t.byteLength),0),size:i,start:r+e})}else t.I(Math.min(r+i-t.ba(),t.C.byteLength-t.ba()))},lr.prototype.parseNext=lr.prototype.xb,lr.children=pr,lr.sampleDescription=fr,lr.allData=dr,lr.typeToString=yr,D("shaka.hls.HlsParser",mr),(n=mr.prototype).configure=function(e){this.c=e},n.start=function(e,t){var n=this;return d((function r(){var i,o;return I(r,(function(r){switch(r.j){case 1:return n.g=t,T(r,Nr(n,e),2);case 2:return i=r.w,n.u=i.uri,T(r,function(e,t){return d((function n(){var r,i,o,a,s,u,c,l,f,h,y;return I(n,(function(n){switch(n.j){case 1:if(0!=(r=$n(e.s,t,e.u)).type)throw new ae(2,4,4022);return T(n,function(e,t){return d((function n(){var r,i,o,a,s,u,c,l,f,h,y,_;return I(n,(function(n){switch(n.j){case 1:return r=Kn,i=Ot,o=t.a,a=r.Oa(t.a,"EXT-X-MEDIA"),s=a.filter(function(e){return"SUBTITLES"==Pr(e,"TYPE")}.bind(e)),u=s.map(function(e){return function(e,t){return d((function n(){var r;return I(n,(function(n){switch(n.j){case 1:return Pr(t,"TYPE"),T(n,br(e,t,[]),2);case 2:return r=n.w,n.return(r.stream)}}))}))}(this,e)}.bind(e)),c=a.filter((function(e){return"CLOSED-CAPTIONS"==Pr(e,"TYPE")})),function(e,t){for(var n=p(t),r=n.next();!r.done;r=n.next()){Pr(r=r.value,"TYPE");var i=Hn(r,"LANGUAGE")||"und";i=dn(i);var o=Pr(r,"GROUP-ID");r=Pr(r,"INSTREAM-ID"),e.l.get(o)||e.l.set(o,new Map),e.l.get(o).set(r,i)}}(e,c),T(n,Promise.all(u),2);case 2:return l=n.w,f=r.Oa(o,"EXT-X-STREAM-INF"),h=f.map(function(e){return function(e,t,n){return d((function r(){var i,o,a,s,u,c,l,f,h,y,_,m,g,v,E,b,S,w,O,A,R,C,P,N,k,L;return I(r,(function(r){switch(r.j){case 1:return i=At,o=Kn,a=Hn(t,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(e){for(var t=new Set,n=[],r=(e=p(e)).next();!r.done;r=e.next()){var i=Ve(r=r.value)[0];t.has(i)||(n.push(r),t.add(i))}return n}(a.split(/\s*,\s*/)),u=Vn(t,"RESOLUTION"),l=c=null,f=Hn(t,"FRAME-RATE"),h=Number(Pr(t,"BANDWIDTH")),u&&(y=u.value.split("x"),c=y[0],l=y[1]),_=(_=(_=o.Oa(n.a,"EXT-X-MEDIA")).filter((function(e){return"CLOSED-CAPTIONS"!=Pr(e,"TYPE")}))).filter((function(e){var t=Hn(e,"URI")||"";return"SUBTITLES"==(Hn(e,"TYPE")||"")||""!=t})),m=Hn(t,"AUDIO"),g=Hn(t,"VIDEO"),m?_=o.Pb(_,"AUDIO",m):g&&(_=o.Pb(_,"VIDEO",g)),(v=Cr(i.Z,s))&&((E=Hn(t,"SUBTITLES"))&&((b=o.Pb(_,"SUBTITLES",E)).length&&(e.B.get(b[0].id).stream.codecs=v)),ve(s,v)),S=_.map(function(e){return br(this,e,s)}.bind(e)),w=[],O=[],T(r,Promise.all(S),2);case 2:if(R=(R=r.w).filter((function(e){return null!=e})),m?w=R:g&&(O=R),P=!1,w.length||O.length?w.length?(k=Pr(t,"URI"),L=w[0].Db,k==L?(C=i.Za,P=!0):C=i.ua):C=i.Za:1==s.length?(N=Cr(i.ua,s),C=u||f||N?i.ua:i.Za):(C=i.ua,s=[s.join(",")]),P){r.j=3;break}return T(r,function(e,t,n,r){return d((function i(){var o,a,s,u,c;return I(i,(function(i){switch(i.j){case 1:return o=At,a=Pr(t,"URI"),e.a.has(a)?i.return(e.a.get(a)):(s=Hn(t,"CLOSED-CAPTIONS"),u=null,r==o.ua&&s&&"NONE"!=s&&(u=e.l.get(s)),T(i,Tr(e,a,n,r,"und",!1,null,null,u),2));case 2:return null==(c=i.w)?i.return(null):e.a.has(a)?i.return(e.a.get(a)):(e.a.set(a,c),i.return(c))}}))}))}(e,t,s,C),4);case 4:A=r.w;case 3:if(A)A.stream.type==i.Za?w=[A]:O=[A];else if(null===A)return r.return([]);return O&&vr(O),w&&vr(w),r.return(function(e,t,n,r,i,o,a){n.forEach(function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(o)||void 0,e.frameRate=Number(a)||void 0)}.bind(e)),t.length||(t=[null]),n.length||(n=[null]);for(var s=[],u=(t=p(t)).next();!u.done;u=t.next()){u=u.value;for(var c=p(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var d=f?f.stream:null,h=u?u.drmInfos:null,y=f?f.drmInfos:null;f=(f?f.Db:"")+" - "+(u?u.Db:"");var _=void 0;if(l&&d){if(h.length&&y.length&&!(0<dt(h,y).length))continue;_=dt(h,y)}else l?_=h:d&&(_=y);e.K.has(f)||(l=Er(e,l,d,r,_),s.push(l),e.K.add(f))}}return s}(e,w,O,h,c,l,f))}}))}))}(this,e,t)}.bind(e)),T(n,Promise.all(h),3);case 3:return y=n.w,_=(_=y.reduce(i.Lb,[])).filter((function(e){return null!=e})),n.return({startTime:0,variants:_,textStreams:l})}}))}))}(e,r),2);case 2:if(i=n.w,!e.g)throw new ae(2,7,7001);if(e.M&&0==i.variants.length)throw new ae(2,4,4034);e.g.filterAllPeriods([i]),o=1/0,a=0,s=1/0;for(var _=p(e.a.values()),m=_.next();!m.done;m=_.next())u=m.value,o=Math.min(o,u.Yb),a=Math.max(a,u.Yb),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(e.f!=Fr.va?(e.b=new ir(0,3*e.v),e.b.Cb(!1)):(e.b=new ir(null,0),e.b.Cb(!0)),Or(e),e.f!=Fr.va){for(e.J=e.G,c=Fr,e.f==c.kc&&(l=e.b.yb,isNaN(e.c.availabilityWindowOverride)||(l=e.c.availabilityWindowOverride),e.b.Kc(l)),f=0;95443.7176888889<=a;)f+=95443.7176888889,a-=95443.7176888889;if(f)for(m=(_=p(e.a.values())).next();!m.done;m=_.next())95443.7176888889>(h=m.value).Yb&&(h.stream.presentationTimeOffset=-f,h.hb.offset(f))}else for(e.b.oa(s),e.b.offset(-o),m=(_=p(e.a.values())).next();!m.done;m=_.next()){(y=m.value).stream.presentationTimeOffset=o,y.hb.offset(-o),m=y.hb;for(var g=s;m.a.length&&m.a[m.a.length-1].startTime>=g;)m.a.pop();for(;m.a.length&&0>=m.a[0].endTime;)m.a.shift();if(0!=m.a.length){var v=m.a[m.a.length-1];m.a[m.a.length-1]=new nr(v.position,v.startTime,g,v.c,v.b,v.a)}}e.m={presentationTimeline:e.b,periods:[i],offlineSessionIds:[],minBufferTime:0},S(n)}}))}))}(n,i.data),3);case 3:return 0<(o=n.J)&&n.h.L(o),r.return(n.m)}}))}))},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.i&&(e.push(this.i.destroy()),this.i=null),this.c=this.g=null,this.B.clear(),this.K.clear(),this.a.clear(),this.m=null,Promise.all(e)},n.update=function(){if(this.f!=Fr.va){for(var e=[],t=p(this.a.values()),n=t.next();!n.done;n=t.next())e.push(gr(this,n.value));return Promise.all(e)}},n.onExpirationUpdated=function(){};var kr={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Lr={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function Dr(e,t){e.f=t,e.b&&e.b.Cb(e.f==Fr.va),e.f!=Fr.va||e.h.stop()}function xr(e,t,n){if(!e.i)throw new ae(2,7,7001);return t=e.g.networkingEngine.request(n,t),be(e.i,t),t.promise}var Ur={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Pr(e,"METHOD");return Dn("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(t)?(t=Pr(e,"URI"),t=ar.parse(t),t={keySystem:"com.widevine.alpha",licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[{initDataType:"cenc",initData:new Uint8Array(t.data)}],keyIds:[]},(e=Hn(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):null}},Mr="VOD",Fr={va:Mr,Oc:"EVENT",kc:"LIVE"};function jr(){this.a=new Map}function Br(e,t,n){Vr(e,t).text=n}function Vr(e,t){return e.a.has(t)||e.a.set(t,new Hr),e.a.get(t)}function Hr(){this.text=this.variant=null}function Wr(e,t){this.a=e,this.b=new Set([e]);for(var n=p(t=t||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function Kr(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Gr(n,r)&&Yr(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Gr(n=e.video,r=t.video)&&Yr(n.roles,r.roles))),!n}function Gr(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return Ve(e)[0]})),r=t.codecs.split(",").map((function(e){return Ve(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function Yr(e,t){var n=new Set(e),r=new Set(t);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=p(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function qr(e){this.a=e,this.b=new zr(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)}function zr(e,t,n){this.c=e,this.b=t,this.a=n}function Xr(e,t){this.a=Qr,this.b=(new Map).set(Qr,t).set($r,e)}rr.Gc("m3u8",mr),rr.cc("application/x-mpegurl",mr),rr.cc("application/vnd.apple.mpegurl",mr),Wr.prototype.add=function(e){return!!Kr(this.a,e)&&(this.b.add(e),!0)},Wr.prototype.values=function(){return this.b.values()},qr.prototype.create=function(e){var t=this,n=e.filter((function(e){return Kr(t.a,e)}));return n.length?new Wr(n[0],n):this.b.create(e)},zr.prototype.create=function(e){var t=[];t=function(e,t){var n=yn(dn(t),e.map((function(e){return hn(e)})));return n?e.filter((function(e){return n==hn(e)})):[]}(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&((e=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))}(t,this.b)).length&&(t=e)),this.a&&((e=Rn(t,this.a)).length&&(t=e)),e=new Wr(t[0]),n=(t=p(t)).next();!n.done;n=t.next())n=n.value,Kr(e.a,n)&&e.add(n);return e};var $r=0,Qr=1;function Jr(e,t){this.g=e,this.h=ei(e),this.c=e.a.currentTime,this.f=Date.now()/1e3,this.i=t,this.b=function(){}}function Zr(e){this.a=e}function ei(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r||e>i-.5)){t=!0;break e}}t=!1}return t}function ti(e,t,n,r,i){var o=this;this.b=e,this.v=t,this.u=n,this.m=i,this.g=new ke,this.l=!1,this.s=e.readyState,this.f=!1,this.c=r,this.i=!1,Le(this.g,e,"waiting",(function(){return ni(o)})),this.h=new re((function(){ni(o)})).qa(.25)}function ni(e){if(0!=e.b.readyState){if(e.b.seeking){if(!e.l)return}else e.l=!1;if(!e.b.paused){e.b.readyState!=e.s&&(e.f=!1,e.s=e.b.readyState);var t=e.u.smallGapLimit,n=e.b.currentTime,r=e.b.buffered;e:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=Ge("Edge/")||Ge("Trident/")||Ge("Tizen")||Ge("CrKey")?.5:.1,o=0;o<r.length;o++)if(r.start(o)>n&&(0==o||r.end(o-1)-n<=i)){i=o;break e}i=null}if(null==i)e.c&&(r=ei(n=(e=e.c).g),n=n.a.currentTime,i=Date.now()/1e3,e.c==n&&e.h==r||(e.f=i,e.c=n,e.h=r),(n=i-e.f)>=e.i&&r&&e.b(e.c,n));else if((0!=i||e.i)&&!((o=r.start(i))>=e.v.ga())){var a=o-n;t=a<=t;var s=!1;.001>a||(t||e.f||(e.f=!0,(n=new ye("largegap",{currentTime:n,gapSize:a})).cancelable=!0,e.m(n),e.u.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!t&&!s)||(0!=i&&r.end(i-1),e.b.currentTime=o)}}}}function ri(e){var t=this;this.f=e,this.b=new Set,this.c=new re((function(){ii(t,!1)})).qa(.25)}function ii(e,t){for(var n=p(e.b),r=n.next();!r.done;r=n.next())r.value.h(e.f.currentTime,t)}function oi(e,t){for(var n=null,r=p(e),i=r.next();!i.done;i=r.next())t>=(i=i.value).startTime&&(n=i);return n}function ai(e){this.f=e,this.b=null,this.c=function(){}}function si(e){var t=this;this.b=e,this.g=!1,this.f=this.b.qb(),this.c=new re((function(){t.b.wc(.25*t.f)}))}function ui(e){e.c.stop();var t=e.g?0:e.f;0<=t?e.b.qb()!=t&&e.b.gc(t):(e.c.qa(.25),0!=e.b.qb()&&e.b.gc(0))}function ci(e,t,n){this.b=e,this.g=t,this.h=n,this.c=new ke,this.f=new hi(e),0<e.readyState?fi(this,n):pi(this,n)}function li(e){return 0<e.b.readyState?e.b.currentTime:e.h}function pi(e,t){e.h=t,e.c.Y(e.b,"loadedmetadata"),De(e.c,e.b,"loadedmetadata",(function(){fi(e,t)}))}function fi(e,t){.001>Math.abs(e.b.currentTime-t)?di(e):(De(e.c,e.b,"seeking",(function(){di(e)})),yi(e.f,0==e.b.currentTime?t:e.b.currentTime))}function di(e){Le(e.c,e.b,"seeking",(function(){return e.g()}))}function hi(e){var t=this;this.c=e,this.i=10,this.h=this.g=this.f=0,this.b=new re((function(){0>=t.f?t.b.stop():t.c.currentTime!=t.g?t.b.stop():(t.c.currentTime=t.h,t.f--)}))}function yi(e,t){e.g=e.c.currentTime,e.h=t,e.f=e.i,e.c.currentTime=t,e.b.qa(.1)}function _i(e){function t(){n.g=!0,null!=n.c&&(n.b.currentTime=n.c)}var n=this;this.b=e,this.g=!1,this.c=null,this.f=new ke,0==this.b.readyState?De(this.f,this.b,"loadedmetadata",t):t()}function mi(e,t,n,r,i,o){var a=this;this.c=e,this.b=t.presentationTimeline,this.B=t.minBufferTime||0,this.h=n,this.v=i,this.m=null,this.g=new ti(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,r=new Jr(new Zr(e),t.stallThreshold);return function(e,t){e.b=t}(r,(function(){e.currentTime+=n})),r}(e,n),o),this.f=new ci(e,(function(){var e=a.g;e.l=!0,e.i=!1,e.f=!1;var t=li(a.f);return e=vi(a,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!a.m||a.m<t-1)?(a.m=t,0<(t=a.f).b.readyState?yi(t.f,e):pi(t,e),e=void 0):(a.v(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.b.R()?e.b.Pa():e.b.ga():0>t&&(t=e.b.ga()+t),gi(e,Ei(e,t))}(this,r)),this.l=new re((function(){if(0!=a.c.readyState&&!a.c.paused){var e=a.c.currentTime,t=a.b.Pa(),n=a.b.ga();3>n-t&&(t=n-3),e<t&&(e=vi(a,e),a.c.currentTime=e)}})).qa(.25)}function gi(e,t){var n=e.b.R();return t>=n?n-e.h.durationBackoff:t}function vi(e,t){var n=Tt.bind(null,e.c.buffered),r=Math.max(e.B,e.h.rebufferingGoal),i=e.h.safeSeekOffset,o=e.b.Pa(),a=e.b.ga(),s=e.b.R();3>a-o&&(o=a-3);var u=e.b.bb(r),c=e.b.bb(i);return r=e.b.bb(r+i),t>=s?gi(e,t):t>a?a:t<o?n(c)?c:r:t>=u||n(t)?t:r}function Ei(e,t){var n=e.b.Pa();return t<n?n:t>(n=e.b.ga())?n:t}function bi(){this.c=function(){},this.b=new Set}function Ti(e){var t=this;this.i=e,this.g=new Map,this.b=function(){},this.c=function(){},this.f=function(){},this.l=[{Ga:null,Fa:wi,Ba:function(e,n){return t.b(e,n)}},{Ga:Si,Fa:wi,Ba:function(e,n){return t.b(e,n)}},{Ga:Oi,Fa:wi,Ba:function(e,n){return t.b(e,n)}},{Ga:wi,Fa:Si,Ba:function(e,n){return t.c(e,n)}},{Ga:wi,Fa:Oi,Ba:function(e,n){return t.c(e,n)}},{Ga:Si,Fa:Oi,Ba:function(e,n){return t.f(e,n)}},{Ga:Oi,Fa:Si,Ba:function(e,n){return t.f(e,n)}}]}Jr.prototype.a=function(){this.g=null,this.b=function(){}},ti.prototype.a=function(){this.g&&(this.g.a(),this.g=null),null!=this.h&&(this.h.stop(),this.h=null),this.c&&(this.c.a(),this.c=null),this.b=this.v=this.m=null},ti.prototype.$b=function(){this.i=!0,ni(this)},ri.prototype.a=function(){this.c.stop();for(var e=p(this.b),t=e.next();!t.done;t=e.next())t.value.a();this.b.clear()},ai.prototype.a=function(){this.b=this.f=null,this.c=function(){}},ai.prototype.h=function(e){var t=this.b,n=this.f.periods;t!=(e=oi(n,e)||n[0])&&this.c(e),this.b=e},si.prototype.a=function(){this.c&&(this.c.stop(),this.c=null),this.b=null},si.prototype.set=function(e){this.f=e,ui(this)},ci.prototype.a=function(){this.c&&(this.c.a(),this.c=null),null!=this.f&&(this.f.a(),this.f=null),this.g=function(){},this.b=null},hi.prototype.a=function(){this.b&&(this.b.stop(),this.b=null),this.c=null},_i.prototype.a=function(){this.f&&(this.f.a(),this.f=null),this.b=null},_i.prototype.s=function(e){this.c=this.g?this.c:e},_i.prototype.i=function(){return(this.g?this.b.currentTime:this.c)||0},_i.prototype.u=function(){},mi.prototype.a=function(){this.f&&(this.f.a(),this.f=null),this.g&&(this.g.a(),this.g=null),this.l&&(this.l.stop(),this.l=null),this.c=this.f=this.b=this.h=null,this.v=function(){}},mi.prototype.s=function(e){var t=this.f;0<t.b.readyState?yi(t.f,e):pi(t,e)},mi.prototype.i=function(){var e=li(this.f);return 0<this.c.readyState&&!this.c.paused?Ei(this,e):e},mi.prototype.u=function(){this.g.$b()},bi.prototype.a=function(){this.c=function(){},this.b.clear()},Ti.prototype.a=function(){this.i=null,this.g.clear(),this.b=function(){},this.c=function(){},this.f=function(){}},Ti.prototype.h=function(e,t){for(var n=p(this.i.b),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=e<r.startTime?Si:e>r.endTime?Oi:wi;this.g.set(r,o);for(var a=p(this.l),s=a.next();!s.done;s=a.next())(s=s.value).Ga==i&&s.Fa==o&&s.Ba(r,t)}};var Si=1,wi=2,Oi=3;function Ai(e,t){this.a=t,this.c=e,this.g=null,this.l=1,this.u=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.s=!1,this.G=null,this.B=this.f=this.m=!1,this.v=0}function Ri(e){return Pi(e,"audio")}function Ci(e){return Pi(e,"video")}function Pi(e,t){var n=e.b.get(t);return n?n.na||n.stream:null}function Ii(e,t){return d((function n(){var r,i,o,a,s,u,c,l;return I(n,(function(n){switch(n.j){case 1:return r=At,T(n,sn(e.a.F,r.Z),2);case 2:return e.v++,e.B=!1,i=e.v,o=e.a.F,a=new Map,s=new Set,a.set(r.Z,t),s.add(t),T(n,o.init(a,!1),3);case 3:return e.f?n.return():T(n,Fi(e,s),4);case 4:if(e.f)return n.return();e.v!=i||e.b.has(r.Z)||e.B||(u=e.a.za(),c=Ki(e,u),l=Ui(t,c,0),e.b.set(r.Z,l),zi(e,l,0)),S(n)}}))}))}function Ni(e,t){var n=e.b.get("video");if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.na&&(Li(e,i,!1,0),n.na=r)}else(r=n.na)&&(n.na=null,Li(e,r,!0,0))}}function ki(e,t,n,r){t.video&&Li(e,t.video,n,r),t.audio&&Li(e,t.audio,n,r)}function Li(e,t,n,r){var i=e.b.get(t.type);if(!i&&"text"==t.type&&e.g.ignoreTextStreamFailures)Ii(e,t);else if(i){var o=Gi(e,t);if(n&&o!=i.ia)e.b.forEach((function(t){Di(e,t)}));else{i.na&&(t.trickModeVideo?(i.na=t,t=t.trickModeVideo):i.na=null);var a=e.h[o];a&&a.Ya&&(a=e.i.get(t.id))&&a.Ya&&i.stream!=t&&("text"==t.type&&tn(e.a.F,Be(t.mimeType,t.codecs)),i.stream=t,i.tb=!0,function(e,t,n){if(!t.fb)return!1;var r=e.a.za(),i=rn(e.a.F,t.type);return null!=(e=(e=Vi(e,t,r,i,n))&&e.a?e.a-e.b:null)&&((n=t.stream.initSegmentReference)&&(e+=(n.a?n.a-n.b:null)||0),t.fb.b.a>e)}(e,i,o)&&i.fb.abort(),n&&(i.wa?i.Eb=!0:i.ma?(i.sa=!0,i.ob=r,i.Eb=!0):(Xi(i),qi(e,i,!0,r))))}}}function Di(e,t){t.wa||t.sa||(t.ma?(t.sa=!0,t.ob=0):null==nn(e.a.F,t.type)?null==t.ka&&zi(e,t,0):(Xi(t),qi(e,t,!1,0)))}function xi(e,t,n,r,i){return d((function o(){var a,s,u,c,l,p,f;return I(o,(function(o){switch(o.j){case 1:return a=e.a.za(),s=Ki(e,a),u=At,c=new Map,l=new Set,t&&(c.set(u.Za,t),l.add(t)),n&&(c.set(u.ua,n),l.add(n)),r&&(c.set(u.Z,r),l.add(r)),p=e.a.F,f=e.g.forceTransmuxTS,T(o,p.init(c,f),2);case 2:return e.f?o.return():(function(e){var t=e.c.presentationTimeline.R();1/0>t?e.a.F.oa(t):e.a.F.oa(Math.pow(2,32))}(e),T(o,Fi(e,l),3));case 3:if(e.f)return o.return();c.forEach((function(t,n){if(!e.b.has(n)){var r=Ui(t,s,i);e.b.set(n,r),zi(e,r,0)}})),S(o)}}))}))}function Ui(e,t,n){return{stream:e,type:e.type,Ta:null,ha:null,na:null,tb:!0,ia:t,endOfStream:!1,ma:!1,ka:null,sa:!1,ob:0,Eb:!1,wa:!1,bc:!1,cb:!1,Ic:n||0,fb:null}}function Mi(e,t){var n=e.h[t];if(n)return n.promise;n={promise:new se,Ya:!1},e.h[t]=n;for(var r=new Set,i=p(e.c.periods[t].variants),o=i.next();!o.done;o=i.next())(o=o.value).video&&r.add(o.video),o.video&&o.video.trickModeVideo&&r.add(o.video.trickModeVideo),o.audio&&r.add(o.audio);for(o=(i=p(e.c.periods[t].textStreams)).next();!o.done;o=i.next())r.add(o.value);return e.u=e.u.then(function(){if(!this.f)return Fi(this,r)}.bind(e)).then(function(){this.f||(this.h[t].promise.resolve(),this.h[t].Ya=!0)}.bind(e)).catch(function(e){this.f||(this.h[t].promise.catch((function(){})),this.h[t].promise.reject(),delete this.h[t],this.a.onError(e))}.bind(e)),n.promise}function Fi(e,t){return d((function n(){var r,i,o,a,s,u,c;return I(n,(function(n){switch(n.j){case 1:r=[];for(var l=p(t),f=l.next();!f.done;f=l.next())i=f.value,(o=e.i.get(i.id))?r.push(o.promise):(e.i.set(i.id,{promise:new se,Ya:!1}),r.push(i.createSegmentIndex()));return n.P=2,T(n,Promise.all(r),4);case 4:if(e.f)return n.return();w(n,3);break;case 2:if(a=O(n),e.f)return n.return();for(f=(n=p(t)).next();!f.done;f=n.next())s=f.value,e.i.get(s.id).promise.catch((function(){})),e.i.get(s.id).promise.reject(),e.i.delete(s.id);throw a;case 3:for(f=(l=p(t)).next();!f.done;f=l.next())u=f.value,(c=e.i.get(u.id)).Ya||(c.promise.resolve(),c.Ya=!0);S(n)}}))}))}function ji(e,t){if(!e.f&&!t.ma&&null!=t.ka&&!t.wa)if(t.ka=null,t.sa)qi(e,t,t.Eb,t.ob);else{try{var n=function(e,t){function n(e){return"text"==e.type&&"application/cea-608"==e.stream.mimeType}if(n(t))return e.a.F.Bb(t.stream.originalId||""),null;var r=e.a.za(),i=Bi(e,t,r),o=Gi(e,t.stream),a=Ki(e,i),s=function(e,t,n){return"text"==t?null==(e=e.a).b||e.b<n?0:e.b-Math.max(n,e.a):St(e=on(e,t),n)}(e.a.F,t.type,r),u=Math.max(e.c.minBufferTime||0,e.g.rebufferingGoal,e.g.bufferingGoal)*e.l;if(i>=e.c.presentationTimeline.R())return t.endOfStream=!0,"video"==t.type&&(i=e.b.get("text"))&&"application/cea-608"==i.stream.mimeType&&(i.endOfStream=!0),null;if(t.endOfStream=!1,t.ia=a,a!=o)return null;if(s>=u)return.5;if(a=rn(e.a.F,t.type),!(a=Vi(e,t,r,a,o)))return 1;var c=1/0;return Array.from(e.b.values()).forEach((function(t){n(t)||(t=Bi(e,t,r),c=Math.min(c,t))})),i>=c+e.c.presentationTimeline.a?1:(t.Ic=0,function(e,t,n,r,i){var o=e.c.periods[r],a=t.stream,s=e.c.presentationTimeline.R(),u=e.c.periods[r+1];r=function(e,t,n,r,i){return t.tb?(n=function(e,t,n,r,i){return"text"==t?(e.a.m=n,(e=e.a).f=r,e.h=i,Promise.resolve()):Promise.all([un(e,t,e.Qc.bind(e,t)),un(e,t,e.ce.bind(e,t,n)),un(e,t,e.Yd.bind(e,t,r,i))])}(e.a.F,t.type,e.c.periods[n].startTime-t.stream.presentationTimeOffset,r,i),t.stream.initSegmentReference?(e=Yi(e,t,t.stream.initSegmentReference).then(function(e){if(!this.f)return an(this.a.F,t.type,e,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size)}.bind(e)).catch((function(e){return t.tb=!0,Promise.reject(e)})),Promise.all([n,e])):n):Promise.resolve()}(e,t,r,Math.max(0,o.startTime-.1),u?u.startTime+.01:s),t.ma=!0,t.tb=!1,s=Yi(e,t,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.m)return function(e,t,n,r,i,o,a){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new lr).X("emsg",e.H.bind(e,r,o,i.emsgSchemeIdUris)).parse(a),function(e,t,n){var r=Math.max(e.g.bufferBehind,e.c.presentationTimeline.a),i=nn(e.a.F,t.type);return null==i?Promise.resolve():0>=(n=n-i-r)?Promise.resolve():e.a.F.remove(t.type,i,i+n).then(function(){}.bind(e))}(e,t,n).then(function(){if(!this.f)return an(this.a.F,t.type,a,o.startTime+r.startTime,o.endTime+r.startTime,s)}.bind(e)).then(function(){if(!this.f)return t.Ta=i,t.ha=o,Promise.resolve()}.bind(e))}(this,t,n,o,a,i,e[1])}.bind(e)).then(function(){this.f||this.m||(t.ma=!1,t.bc=!1,t.sa||this.a.$b(),zi(this,t,0),function(e,t){if(!e.s){var n=Array.from(e.b.values());if(1==n.length&&"text"==n[0].type||(e.s=n.every((function(e){return"text"==e.type||!e.sa&&!e.wa&&e.ha}))),e.s){for(n=Gi(e,t),e.h[n]||Mi(e,n).then(function(){this.f||this.a.Ac()}.bind(e)).catch(Ot.eb),n=0;n<e.c.periods.length;++n)Mi(e,n).catch(Ot.eb);e.a.Ld&&e.a.Ld()}}}(this,a))}.bind(e)).catch(function(e){this.f||this.m||(t.ma=!1,"text"==t.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==e.code?(t.ma=!1,t.ka=null,zi(this,t,0)):3017==e.code?function(e,t,n){if(!Array.from(e.b.values()).some((function(e){return e!=t&&e.bc}))){var r=Math.round(100*e.l);if(20<r)e.l-=.2;else{if(!(4<r))return t.cb=!0,e.m=!0,void e.a.onError(n);e.l-=.04}t.bc=!0}zi(e,t,4)}(this,t,e):(t.cb=!0,e.severity=2,$i(this,e)))}.bind(e))}(e,t,r,o,a),null)}(e,t);null!=n&&(zi(e,t,n),t.cb=!1)}catch(t){return void $i(e,t)}n=Array.from(e.b.values()),function(e,t){var n=Gi(e,t.stream);if(t.ia!=n){var r=t.ia,i=Array.from(e.b.values());i.every((function(e){return e.ia==r}))&&i.every(Wi)&&Mi(e,r).then(function(){if(!this.f&&i.every(function(e){var t=Wi(e),n=Gi(this,e.stream);return t&&e.ia==r&&n!=r}.bind(this))){var e=this.c.periods[r],t=this.a.Bc(e),n=new Map;t.variant&&t.variant.video&&n.set("video",t.variant.video),t.variant&&t.variant.audio&&n.set("audio",t.variant.audio),t.text&&n.set("text",t.text);var o=p(this.b.keys());for(t=o.next();!t.done;t=o.next())if(t=t.value,!n.has(t)&&"text"!=t)return void this.a.onError(new ae(2,5,5005));for(t=(o=p(Array.from(n.keys()))).next();!t.done;t=o.next())if(t=t.value,!this.b.has(t)){if("text"!=t)return void this.a.onError(new ae(2,5,5005));xi(this,null,null,n.get("text"),e.startTime),n.delete(t)}for(t=(e=p(Array.from(this.b.keys()))).next();!t.done;t=e.next())t=t.value,(o=n.get(t))?(Li(this,o,!1,0),zi(this,this.b.get(t),0)):this.b.delete(t);this.a.Ac()}}.bind(e)).catch(Ot.eb)}}(e,t),e.s&&n.every((function(e){return e.endOfStream}))&&e.a.F.endOfStream().then(function(){if(!this.f){var e=this.a.F.R();e<this.c.presentationTimeline.R()&&this.c.presentationTimeline.oa(e)}}.bind(e))}}function Bi(e,t,n){return t.Ta&&t.ha?(n=Gi(e,t.Ta),e.c.periods[n].startTime+t.ha.endTime):Math.max(n,t.Ic)}function Vi(e,t,n,r,i){if(t.ha&&t.stream==t.Ta)return Hi(e,t,i,t.ha.position+1);if(t.ha?(n=Gi(e,t.Ta),n=t.stream.findSegmentPosition(Math.max(0,e.c.periods[n].startTime+t.ha.endTime-e.c.periods[i].startTime))):n=t.stream.findSegmentPosition(Math.max(0,(r||n)-e.c.periods[i].startTime)),null==n)return null;var o=null;return null==r&&(o=Hi(e,t,i,Math.max(0,n-1))),o||Hi(e,t,i,n)}function Hi(e,t,n,r){return n=e.c.periods[n],(t=t.stream.getSegmentReference(r))?(r=(e=e.c.presentationTimeline).Qa(),n.startTime+t.endTime<e.tc()||n.startTime+t.startTime>r?null:t):null}function Wi(e){return!e.ma&&null==e.ka&&!e.sa&&!e.wa}function Ki(e,t){var n=oi(e.c.periods,t+1/15);return n?e.c.periods.indexOf(n):0}function Gi(e,t){for(var n=e.c.periods,r=0;r<n.length;r++){for(var i=n[r],o=new Set,a=p(i.variants),s=a.next();!s.done;s=a.next())(s=s.value).audio&&o.add(s.audio),s.video&&o.add(s.video),s.video&&s.video.trickModeVideo&&o.add(s.video.trickModeVideo);for(a=(i=p(i.textStreams)).next();!a.done;a=i.next())o.add(a.value);if(o.has(t))return r}return-1}function Yi(e,t,n){return n=_r(n.c(),n.b,n.a,e.g.retryParameters),e=e.a.ub.request(1,n),t.fb=e,e.promise.then((function(e){return t.fb=null,e.data}))}function qi(e,t,n,r){d((function i(){var o,a,s;return I(i,(function(i){switch(i.j){case 1:return t.sa=!1,t.Eb=!1,t.ob=0,t.wa=!0,r?(a=e.a.za(),s=e.a.F.R(),o=e.a.F.remove(t.type,a+r,s)):o=sn(e.a.F,t.type).then(function(){if(!this.f&&n)return this.a.F.flush(t.type)}.bind(e)),T(i,o,2);case 2:if(e.f)return i.return();t.Ta=null,t.ha=null,t.wa=!1,t.endOfStream=!1,zi(e,t,0),S(i)}}))}))}function zi(e,t,n){t.ka=new ne((function(){ji(e,t)})).L(n)}function Xi(e){null!=e.ka&&(e.ka.stop(),e.ka=null)}function $i(e,t){oe(e.G).then(function(){this.f||(this.a.onError(t),t.handled||this.g.failureCallback(t))}.bind(e))}function Qi(e,t,n,r,i,o){if(200<=n&&299>=n&&202!=n)return i&&(r=i),{uri:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=$e(t)}catch(e){}throw new ae(401==n||403==n?2:1,1,1001,r,n,i,e,o)}function Ji(e,t,n,r){var i=new Ji.b;Fe(t.headers).forEach((function(e,t){i.append(t,e)}));var o=new Ji.a,a={mc:!1,Nc:!1};if(e=new ue(e=Ji.h(e,n,{body:t.body||void 0,headers:i,method:t.method,signal:o.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a,r),(function(){return a.mc=!0,o.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new re((function(){a.Nc=!0,o.abort()}));s.L(t/1e3),e.finally((function(){s.stop()}))}return e}function Zi(e,t,n,r){var i=new Zi.f,o=Date.now(),a=0;return new ue(new Promise((function(s,u){for(var c in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){u(new ae(1,1,7001,e,n))},i.onload=function(t){for(var r=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},o=(r=p(r)).next();!o.done;o=r.next())i[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");try{var a=Qi(i,t.response,t.status,e,t.responseURL,n);s(a)}catch(e){u(e)}},i.onerror=function(t){u(new ae(1,1,1002,e,t,n))},i.ontimeout=function(){u(new ae(1,1,1003,e,n))},i.onprogress=function(e){var t=Date.now();(100<t-o||e.lengthComputable&&e.loaded==e.total)&&(r(t-o,e.loaded-a,e.total-e.loaded),a=e.loaded,o=t)},t.headers)i.setRequestHeader(c.toLowerCase(),t.headers[c]);i.send(t.body)})),(function(){return i.abort(),Promise.resolve()}))}function eo(e,t){var n={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},r=this;this.g=t,this.c=e,this.i=n,this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then((function(){return function(e){return d((function t(){return I(t,(function(t){switch(t.j){case 1:if(e.l){if(0==e.f.length||e.a&&!e.a.Aa)var n=!1;else{e.a&&(e.a.ca.Ca(),e.a=null);var r=(n=e.f.shift()).create(e.i);r?(n.ca.Ua(),e.a={node:r.node,payload:r.payload,Aa:r.Aa,ca:n.ca}):n.ca.wb(),n=!0}return n?n=Promise.resolve():e.a?n=function(e){return d((function t(){var n,r;return I(t,(function(t){switch(t.j){case 1:return e.c=e.g.pd(e.c,e.i,e.a.node,e.a.payload),t.P=2,e.b=e.g.Yc(e.c,e.i,e.a.payload),T(t,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.ca.vb(),e.a=null),w(t,0);break;case 2:return 7001==(n=O(t)).code?e.a.ca.Ca():e.a.ca.onError(n),e.a=null,e.b=null,r=e,T(t,e.g.handleError(e.i,n),5);case 5:r.c=t.w,S(t)}}))}))}(e):(e.g.Dd(e.c),e.h=new se,n=e.h),T(t,n,1)}t.j=0}}))}))}(r)}))}function to(e,t){var n={Ua:function(){},vb:function(){},Ca:function(){},onError:function(){},wb:function(){},Ae:function(){}};return e.f.push({create:t,ca:n}),e.b&&e.b.abort(),no(e),n}function no(e){e.h&&(e.h.resolve(),e.h=null)}function ro(e){this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function io(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function oo(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=e.cues,i=r.length-1;0<=i;i--){var o=r[i];o&&t(o)&&e.removeCue(o)}e.mode=n}function ao(e,t,n,r,i){var o,a=i in r,s=!0;for(o in t){var u=i+"."+o,c=a?r[i]:n[o];a||o in n?void 0===t[o]?void 0===c||a?delete e[o]:e[o]=ge(c):c.constructor==Object&&t[o]&&t[o].constructor==Object?(e[o]||(e[o]=ge(c)),u=ao(e[o],t[o],c,r,u),s=s&&u):typeof t[o]!=typeof c||null==t[o]||t[o].constructor!=c.constructor?s=!1:e[o]=t[o]:s=!1}return s}function so(){var e=5e5,t=1/0;navigator.connection&&navigator.connection.type&&(e=1e6*navigator.connection.downlink,navigator.connection.saveData&&(t=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1};Ge("Web0S")&&(i.stallEnabled=!1);var o={trackSelectionCallback:function(e){return e},progressCallback:function(){},usePersistentLicense:!0},a={drm:n,manifest:r,streaming:i,offline:o,abrFactory:Nn,abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return o.trackSelectionCallback=function(e){return function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=yn(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return dn(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var o=r.filter((function(e){return e.height&&480>=e.height}));if(o.length&&(o.sort((function(e,t){return t.height-e.height})),r=o.filter((function(e){return e.height==o[0].height}))),n=[],r.length){var a=Math.floor(r.length/2);r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[a])}for(r=p(e),a=r.next();!a.done;a=r.next())"text"==(a=a.value).type&&n.push(a);return n}(e,a.preferredAudioLanguage)},a}function uo(e,t,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return ao(e,t,n||so(),r,"")}function co(){this.a=null,this.b=[]}function lo(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function po(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=p(e.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==t?i.duration:0;return n}function fo(){this.b=this.c=null,this.a=[]}function ho(e,t,n){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function yo(){this.f=this.l=this.c=this.h=this.i=this.g=this.m=NaN,this.a=new co,this.b=new fo}function _o(t,n){var r=this;me.call(this),this.g=Jo,this.a=null,this.Ia=!1,this.i=new ke,this.Gb=this.l=this.Ha=this.b=this.m=this.f=this.mb=this.M=this.ib=this.J=this.Ka=this.s=this.G=this.h=this.H=null,this.sc=1e9,this.kb=new Set,this.Ma=!0,this.W=null,this.oc=!1,this.nc=0,this.V=null,this.B=new jr,this.c=wo(this),this.lb={width:1/0,height:1/0},this.u=null,this.jb=new zr(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.ta=this.c.preferredTextLanguage,this.$a=this.c.preferredTextRole,n&&n(this),this.H=function(e){return new Te((function(t,n){e.l&&e.l.segmentDownloaded(t,n)}))}(this),Le(this.i,e,"online",(function(){r.ec()})),this.v={name:"detach"},this.K={name:"attach"},this.la={name:"unload"},this.Jb={name:"manifest-parser"},this.Ib={name:"manifest"},this.Ja={name:"media-source"},this.Hb={name:"drm-engine"},this.N={name:"load"},this.Kb={name:"src-equals-drm-engine"},this.La={name:"src-equals"};var i=new Map;i.set(this.K,(function(e,t){return fe(function(e,t,n){return null==t.o&&(t.o=n.o,Le(e.i,t.o,"error",(function(){var t=jo(e);t&&e.pa(t)}))),e.a=t.o,Promise.resolve()}(r,e,t))})),i.set(this.v,(function(e){return e.o&&(r.i.Y(e.o,"error"),e.o=null),r.a=null,fe(e=Promise.resolve())})),i.set(this.la,(function(e){return fe(Eo(r,e))})),i.set(this.Ja,(function(t){return fe(t=function(t,n){return d((function r(){var i,o,a,s;return I(r,(function(r){switch(r.j){case 1:return i=e.muxjs?new vt:new Et,o=t.c.textDisplayFactory,a=new o,T(r,(s=new Jt(n.o,i,a)).s,2);case 2:t.G=s,S(r)}}))}))}(r,t))})),i.set(this.Jb,(function(e,t){return fe(function(e,t,n){return d((function r(){var i,o,a;return I(r,(function(r){switch(r.j){case 1:if(t.fa=n.fa,t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,o=e.H,e.Ha=i,t.fa){e.m=t.fa(),r.j=2;break}return a=e,T(r,rr.create(i,o,e.c.manifest.retryParameters,t.mimeType),3);case 3:a.m=r.w;case 2:e.m.configure(e.c.manifest),S(r)}}))}))}(r,e,t))})),i.set(this.Ib,(function(e){return function(e,t){var n=t.uri,r=e.H;e.mb=new bi,function(e,t){e.c=t}(e.mb,(function(t){Fo(e,"timelineregionadded",t)}));var i={networkingEngine:r,filterNewPeriod:function(t){return e.Ob(t)},filterAllPeriods:function(t){return Oo(e,t)},onTimelineRegionAdded:function(t){var n=e.mb;e:{for(var r=p(n.b),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.b.add(t),n.c(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return e.pa(t)}};return new ue(Promise.resolve().then((function(){return d((function t(){var r;return I(t,(function(t){switch(t.j){case 1:return r=e,T(t,e.m.start(n,i),2);case 2:if(r.b=t.w,e.dispatchEvent(new ye("manifestparsed")),0==e.b.periods.length)throw new ae(2,4,4014);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&e.forEach((function(e){e.variants=e.variants.filter(t)}))}(e.b.periods),S(t)}}))}))})),(function(){return e.m.stop()}))}(r,e)})),i.set(this.Hb,(function(){return fe(function(e){return d((function t(){return I(t,(function(t){switch(t.j){case 1:return e.h=new at({ub:e.H,onError:function(t){e.pa(t)},Cc:function(t){Bo(e,t)},onExpirationUpdated:function(t,n){Vo(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.h.configure(e.c.drm),T(t,st(e.h,function(e){for(var t=[],n=(e=p(e)).next();!n.done;n=e.next())for(var r=(n=p(n.value.variants)).next();!r.done;r=n.next())t.push(r.value);return t}(e.b.periods),e.b.offlineSessionIds),2);case 2:Oo(e,e.b.periods),S(t)}}))}))}(r))})),i.set(this.N,(function(e,t){return fe(function(e,t,n){return d((function r(){var i,o,a,s,u,c,l,f,d;return I(r,(function(r){switch(r.j){case 1:return t.startTime=n.startTime,i=t.o,o=t.uri,e.Ha=o,e.u=new yo,a=function(){return Po(e)},s=function(){var t=e.a.playbackRate;0!=t&&e.J.set(t)},Le(e.i,i,"playing",a),Le(e.i,i,"pause",a),Le(e.i,i,"ended",a),Le(e.i,i,"ratechange",s),u=e.c.abrFactory,e.l&&e.Gb==u||(e.Gb=u,e.l=new u,e.l.configure(e.c.abr)),function(e,t){for(var n=0;n<t.length;n++){for(var r=t[n],i=new Map,o=p(r.variants),a=o.next();!a.done;a=o.next())if((a=a.value).video&&a.video.closedCaptions)for(var s=p((a=a.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:e.sc++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:a.closedCaptions.get(u),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:a.roles,channelsCount:null,closedCaptions:null};i.set(u,c)}for(i=p(i.values()),o=i.next();!o.done;o=i.next())r.textStreams.push(o.value)}}(e,e.b.periods),e.jb=new zr(e.c.preferredAudioLanguage,e.c.preferredVariantRole,e.c.preferredAudioChannelCount),e.ta=e.c.preferredTextLanguage,function(e,t,n){0<t&&(e.S()||e.Lc(t)),n<e.R()&&(e.S()||e.oa(n))}(e.b.presentationTimeline,e.c.playRangeStart,e.c.playRangeEnd),T(r,e.h.ab(i),2);case 2:return e.l.init((function(t,n,r){n=void 0!==n&&n,r=void 0===r?0:r;e:{for(var i=p(e.b.periods),o=i.next();!o.done;o=i.next())if((o=o.value).variants.includes(t)){i=o;break e}i=null}So(e,i,t,!0),e.f&&(ki(e.f,t,n,r),ko(e))})),e.s=function(e,t){return new mi(e.a,e.b,e.c.streaming,t,(function(){e.Ka&&ii(e.Ka,!0),e.f&&function(e){function t(t){var i=e.a.F;return"text"==t?t=null!=(t=i.a).a&&null!=t.b&&(n>=t.a&&n<t.b):t=Tt(t=on(i,t),n,r),t}var n=e.a.za(),r=e.g.smallGapLimit,i=Ki(e,n);if(Me(e.b.values(),(function(e){return e.ia==i})))for(var o=p(e.b.keys()),a=o.next();!a.done;a=o.next())t(a=a.value)||Di(e,e.b.get(a));else Me(e.b.keys(),t)||e.b.forEach((function(t){Di(e,t)}))}(e.f)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Ka=function(e){var t=new ai(e.b);!function(e,t){e.c=t}(t,(function(){Lo(e)}));var n=new Ti(e.mb);!function(e,t,n,r){e.b=t,e.c=n,e.f=r}(n,(function(t){Fo(e,"timelineregionenter",t)}),(function(t){Fo(e,"timelineregionexit",t)}),(function(t,n){n||(Fo(e,"timelineregionenter",t),Fo(e,"timelineregionexit",t))}));var r=new ri(e.a);return r.b.add(t),r.b.add(n),r}(e),e.J=new si({qb:function(){return t.o.playbackRate},gc:function(e){t.o.playbackRate=e},wc:function(e){t.o.currentTime+=e}}),c=Math.max(e.b.minBufferTime,e.c.streaming.rebufferingGoal),bo(e,c),e.f=function(e){return new Ai(e.b,{za:function(){return e.s.i()},F:e.G,ub:e.H,Bc:e.Cd.bind(e),Ac:e.Uc.bind(e),onError:e.pa.bind(e),onEvent:function(t){return e.dispatchEvent(t)},Fd:e.Gd.bind(e),$b:e.Kd.bind(e)})}(e),e.f.configure(e.c.streaming),function(e){function t(e){var t="";e.video&&(t=Ve(e.video.codecs)[0]);var n="";return e.audio&&(n=Ve(e.audio.codecs)[0]),t+"-"+n}var n=e.b.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);n=Rn(n,e.c.preferredAudioChannelCount);var r=new _e;n.forEach((function(e){var n=t(e);r.push(n,e)}));var i=null,o=1/0;r.forEach((function(e,t){var n=0,r=0;t.forEach((function(e){n+=e.bandwidth||0,++r}));var a=n/r;a<o&&(i=e,o=a)})),e.b.periods.forEach((function(e){e.variants=e.variants.filter((function(e){return t(e)==i}))}))}(e),e.g=Zo,e.dispatchEvent(new ye("streaming")),T(r,e.f.start(),3);case 3:e.c.streaming.startAtSegmentBoundary&&(l=e.s.i(),f=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-o.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+o.startTime:null}var r=Ri(e.f),i=Ci(e.f),o=Yo(e);return r=n(r,t),null!=(i=n(i,t))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t}(e,l),e.s.s(f)),e.b.periods.forEach(e.Ob.bind(e)),Lo(e),ko(e),(d=Yo(e)).variants.some((function(e){return e.primary})),Io(e,d.variants),De(e.i,i,"loadeddata",(function(){e.u.c=Date.now()/1e3-n.ic})),S(r)}}))}))}(r,e,t))})),i.set(this.Kb,(function(e){return fe(e=function(e,t){return d((function n(){var r,i;return I(n,(function(n){switch(n.j){case 1:return r=At,e.h=new at({ub:e.H,onError:function(t){e.pa(t)},Cc:function(t){Bo(e,t)},onExpirationUpdated:function(t,n){Vo(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.h.configure(e.c.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.ua,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},T(n,st(e.h,[i],[]),2);case 2:return T(n,e.h.ab(t.o),0)}}))}))}(r,e))})),i.set(this.La,(function(e,t){return function(e,t,n){function r(){return Po(e)}if(t.uri=n.uri,t.startTime=n.startTime,e.Ha=t.uri,e.u=new yo,e.s=new _i(t.o),null!=t.startTime&&e.s.s(t.startTime),e.J=new si({qb:function(){return t.o.playbackRate},gc:function(e){t.o.playbackRate=e},wc:function(e){t.o.currentTime+=e}}),bo(e,e.c.streaming.rebufferingGoal),Le(e.i,t.o,"playing",r),Le(e.i,t.o,"pause",r),Le(e.i,t.o,"ended",r),De(e.i,t.o,"loadeddata",(function(){e.u.c=Date.now()/1e3-n.ic})),e.a.audioTracks&&(Le(e.i,e.a.audioTracks,"addtrack",(function(){return Lo(e)})),Le(e.i,e.a.audioTracks,"removetrack",(function(){return Lo(e)}))),e.a.textTracks){var i=e.a.textTracks;Le(e.i,i,"addtrack",(function(){return Lo(e)})),Le(e.i,i,"removetrack",(function(){return Lo(e)}))}t.o.src=t.uri,e.g=ea,e.dispatchEvent(new ye("streaming"));var o=new se;return e.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?o.resolve():e.a.error?o.reject(jo(e)):(De(e.i,e.a,"loadeddata",(function(){o.resolve()})),De(e.i,e.a,"error",(function(){o.reject(jo(e))}))),new ue(o,(function(){return o.reject(new ae(2,7,7001)),Promise.resolve()}))}(r,e,t)})),this.Na=new eo(this.v,{pd:function(e,t,n,i){var o=null;return e==r.v&&(o=n==r.v?r.v:r.K),e==r.K&&(o=n==r.v||t.o!=i.o?r.v:n==r.K?r.K:n==r.Ja||n==r.N?r.Ja:n==r.La?r.Kb:null),e==r.Ja&&(o=n==r.N&&t.o==i.o?r.Jb:r.la),e==r.Jb&&(o=Xo(r.N,r.Ib,r.la,n,t,i)),e==r.Ib&&(o=Xo(r.N,r.Hb,r.la,n,t,i)),e==r.Hb&&(o=Xo(r.N,r.N,r.la,n,t,i)),e==r.Kb&&(o=n==r.La&&t.o==i.o?r.La:r.la),e!=r.N&&e!=r.La||(o=r.la),e==r.la&&(o=i.o&&t.o==i.o?r.K:r.v),o},Yc:function(e,t,n){return r.dispatchEvent(new ye("onstatechange",{state:e.name})),i.get(e)(t,n)},handleError:function(e){return d((function t(){return I(t,(function(t){switch(t.j){case 1:return T(t,Eo(r,e),2);case 2:return t.return(e.o?r.K:r.v)}}))}))},Dd:function(e){r.dispatchEvent(new ye("onstateidle",{state:e.name}))}}),t&&this.ab(t,!0)}Ai.prototype.destroy=function(){for(var e=p(this.b.values()),t=e.next();!t.done;t=e.next())Xi(t.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.u=this.c=this.a=null,this.f=!0,Promise.resolve()},Ai.prototype.configure=function(e){this.g=e,this.G=new ie({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Ai.prototype.start=function(){var e=this;return d((function t(){var n,r,i;return I(t,(function(t){switch(t.j){case 1:return n=e.a.za(),r=Ki(e,n),(i=e.a.Bc(e.c.periods[r])).variant||i.text?T(t,xi(e,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):t.return(new ae(2,5,5005));case 2:if(e.f)return t.return();e.a&&e.a.Ed&&e.a.Ed(),S(t)}}))}))},Ai.prototype.H=function(e,t,n,r){var i=r.reader.ac(),o=r.reader.ac(),a=r.reader.D(),s=r.reader.D(),u=r.reader.D(),c=r.reader.D();r=r.reader.Da(r.reader.C.byteLength-r.reader.ba()),e=e.startTime+t.startTime+s/a,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.Fd():this.a.onEvent(new ye("emsg",{detail:{startTime:e,endTime:e+u/a,schemeIdUri:i,value:o,timescale:a,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},D("shaka.net.HttpFetchPlugin",Ji),Ji.h=function(e,t,n,r,i){return d((function o(){var a,s,u,c,l,p,f,h,y,_,m,g;return I(o,(function(o){switch(o.j){case 1:return a=Ji.g,s=Ji.c,p=l=0,f=Date.now(),o.P=2,T(o,a(e,n),4);case 4:return u=o.w,h=u.clone().body.getReader(),_=(y=u.headers.get("Content-Length"))?parseInt(y,10):0,new s({start:function(e){!function t(){return d((function n(){var r,o;return I(n,(function(n){switch(n.j){case 1:return n.P=2,T(n,h.read(),4);case 4:r=n.w,w(n,3);break;case 2:return O(n),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(o=Date.now())-f||r.done)&&(i(o-f,l-p,_-l),p=l,f=o),r.done?e.close():(e.enqueue(r.value),t()),S(n)}}))}))}()}}),T(o,u.arrayBuffer(),5);case 5:c=o.w,w(o,3);break;case 2:if(m=O(o),r.mc)throw new ae(1,1,7001,e,t);if(r.Nc)throw new ae(1,1,1003,e,t);throw new ae(1,1,1002,e,m,t);case 3:return g={},u.headers.forEach((function(e,t){g[t.trim()]=e})),o.return(Qi(g,c,u.status,e,u.url,t))}}))}))},Ji.isSupported=function(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!(!e.fetch||!e.AbortController)},Ji.isSupported=Ji.isSupported,Ji.g=e.fetch,Ji.a=e.AbortController,Ji.c=e.ReadableStream,Ji.b=e.Headers,Ji.isSupported()&&(Oe("http",Ji,2),Oe("https",Ji,2)),D("shaka.net.HttpXHRPlugin",Zi),Zi.f=e.XMLHttpRequest,Oe("http",Zi,1),Oe("https",Zi,1),eo.prototype.destroy=function(){var e=this;return d((function t(){return I(t,(function(t){switch(t.j){case 1:return e.l=!1,e.b&&e.b.abort(),no(e),T(t,e.m,2);case 2:e.a&&e.a.ca.Ca();for(var n=p(e.f),r=n.next();!r.done;r=n.next())r.value.ca.Ca();e.a=null,e.f=[],e.g=null,S(t)}}))}))},D("shaka.text.SimpleTextDisplayer",ro),ro.prototype.remove=function(e,t){return!!this.a&&(oo(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},ro.prototype.remove=ro.prototype.remove,ro.prototype.append=function(e){for(var t=io,n=[],r=0;r<e.length;r++){var i=t(e[r]);i&&n.push(i)}n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach(function(e){this.a.addCue(e)}.bind(this))},ro.prototype.append=ro.prototype.append,ro.prototype.destroy=function(){return this.a&&oo(this.a,(function(){return!0})),this.a=null,Promise.resolve()},ro.prototype.destroy=ro.prototype.destroy,ro.prototype.isTextVisible=function(){return"showing"==this.a.mode},ro.prototype.isTextVisible=ro.prototype.isTextVisible,ro.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},ro.prototype.setTextVisibility=ro.prototype.setTextVisibility,D("shaka.util.ConfigUtils.mergeConfigObjects",ao),x(_o,me),D("shaka.Player",_o),_o.prototype.destroy=function(){var e=this;return d((function t(){var n;return I(t,(function(t){switch(t.j){case 1:return e.g==Qo?t.return():(e.g=Qo,n=to(e.Na,(function(){return{node:e.v,payload:{fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},Aa:!1}})),T(t,new Promise((function(e){n.Ua=function(){},n.vb=function(){e()},n.Ca=function(){e()},n.onError=function(){e()},n.wb=function(){e()}})),2));case 2:return T(t,e.Na.destroy(),3);case 3:if(e.i&&(e.i.a(),e.i=null),e.Gb=null,e.l=null,e.c=null,!e.H){t.j=0;break}return T(t,e.H.destroy(),5);case 5:e.H=null,S(t)}}))}))},_o.prototype.destroy=_o.prototype.destroy,_o.version="2.5.0-npm-dirty";var mo=["","5"];Mn=new function(e){this.a=e,this.c=xn,this.b=Un}(new Ln(Number(mo[0]),Number(mo[1])));var go=["output-restricted","internal-error"],vo={};function Eo(e,t){return d((function n(){return I(n,(function(n){switch(n.j){case 1:if(e.g!=Qo&&(e.g=Jo),e.dispatchEvent(new ye("unloading")),t.currentTime=null,t.fa=null,t.mimeType=null,t.startTime=null,t.uri=null,t.o&&(e.i.Y(t.o,"loadeddata"),e.i.Y(t.o,"playing"),e.i.Y(t.o,"pause"),e.i.Y(t.o,"ended"),e.i.Y(t.o,"ratechange")),e.Ka&&(e.Ka.a(),e.Ka=null),e.ib&&(e.ib.stop(),e.ib=null),!e.m){n.j=2;break}return T(n,e.m.stop(),3);case 3:e.m=null;case 2:if(!e.l){n.j=4;break}return T(n,e.l.stop(),4);case 4:if(!e.f){n.j=6;break}return T(n,e.f.destroy(),7);case 7:e.f=null;case 6:if(e.s&&(e.s.a(),e.s=null),!e.G){n.j=8;break}return T(n,e.G.destroy(),9);case 9:e.G=null;case 8:if(t.o&&t.o.src&&(t.o.removeAttribute("src"),t.o.load()),!e.h){n.j=10;break}return T(n,e.h.destroy(),11);case 11:e.h=null;case 10:e.B.a.clear(),e.Ha=null,e.M=null,e.kb.clear(),e.b=null,e.u=null,e.Ma=!0,Co(e),S(n)}}))}))}function bo(e,t){e.M=new Xr(t,Math.min(.5,t/2)),e.M.a=$r,Co(e),e.ib=new re((function(){switch(e.g){case ea:var t=!!e.a.ended||bt(e.a.buffered)>=e.a.duration-.1;break;case Zo:e:{var n;if((n=e.a.ended)||(n=!(n=e.G).g||"ended"==n.g.readyState),n)t=!0;else{if(e.b.presentationTimeline.S()&&(n=e.b.presentationTimeline.Qa(),bt(e.a.buffered)>=n)){t=!0;break e}t=!1}}break;default:t=!1}var r=St(e.a.buffered,e.a.currentTime),i=t,o=(n=e.M).b.get(n.a);t=n.a,r=i||r>=o?Qr:$r,n.a=r,t!=r&&Co(e)})).qa(.25)}function To(e){if(e.m&&e.m.configure(e.c.manifest),e.h&&e.h.configure(e.c.drm),e.f){e.f.configure(e.c.streaming);try{e.b.periods.forEach(e.Ob.bind(e))}catch(t){e.pa(t)}var t=Ri(e.f),n=Ci(e.f),r=Yo(e);t=In(t,n,r.variants),e.l&&t&&t.allowedByApplication&&t.allowedByKeySystem?Io(e,r.variants):No(e,r)}e.l&&(e.l.configure(e.c.abr),e.c.abr.enabled&&!e.Ma?e.l.enable():e.l.disable(),Mo(e))}function So(e,t,n,r){Vr(e.B,t).variant=n,(e=e.u.b).c!=n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function wo(e){var t=so();return t.streaming.failureCallback=function(t){e.S()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.ec())},t.textDisplayFactory=function(){return new ro(e.a)},t}function Oo(e,t){var n=e.f?Ri(e.f):null,r=e.f?Ci(e.f):null;if(t.forEach(vn.bind(null,e.h,n,r)),0==(n=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n}(t,(function(e){return e.variants.some(An)}))))throw new ae(2,4,4032);if(n<t.length)throw new ae(2,4,4011);t.forEach(function(e){gn(e.variants,this.c.restrictions,this.lb)&&this.f&&Yo(this)==e&&Lo(this),Ho(this,e.variants)}.bind(e))}function Ao(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.Ma?(e.W=t,e.oc=n,e.nc=r):(ki(e.f,t,n,r),Do(e))}function Ro(e,t){e.Ma?e.V=t:(Li(e.f,t,!0,0),xo(e))}function Co(e){var t=e.vc();if(e.u&&e.M&&e.s){var n=e.J;n.g=t,ui(n),Po(e)}e.dispatchEvent(new ye("buffering",{buffering:t}))}function Po(e){if(e.u&&e.M){var t=e.u.a;e.M.a==$r?lo(t,"buffering"):e.a.paused?lo(t,"paused"):e.a.ended?lo(t,"ended"):lo(t,"playing")}}function Io(e,t){try{Ho(e,t)}catch(t){return e.pa(t),null}var n=t.filter((function(e){return An(e)}));return n=e.jb.create(n),e.l.setVariants(Array.from(n.values())),e.l.chooseVariant()}function No(e,t){var n=Io(e,t.variants);n&&(So(e,t,n,!0),Ao(e,n,!0)),(n=Cn(t.textStreams,e.ta,e.$a)[0]||null)&&(e.c.streaming.alwaysStreamText||e.Xb())&&(Br(e.B,t,n),ho(e.u.b,n,!0),Ro(e,n)),ko(e)}function ko(e){Wo(e,new ye("adaptation"))}function Lo(e){Wo(e,new ye("trackschanged"))}function Do(e){Wo(e,new ye("variantchanged"))}function xo(e){Wo(e,new ye("textchanged"))}function Uo(e){Wo(e,new ye("texttrackvisibility"))}function Mo(e){Wo(e,new ye("abrstatuschanged",{ze:e.c.abr.enabled}))}function Fo(e,t,n){e.dispatchEvent(new ye(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function jo(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new ae(2,3,3016,t,n,e.a.error.message)}function Bo(e,t){if(e.f){var n=Yo(e),r=!1,i=Object.keys(t),o=1==i.length&&"00"==i[0];i.length&&n.variants.forEach((function(e){(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t})(e).forEach((function(n){var i=e.allowedByKeySystem;n.keyId&&(n=t[o?"00":n.keyId],e.allowedByKeySystem=!!n&&!go.includes(n)),i!=e.allowedByKeySystem&&(r=!0)}))})),(i=In(i=Ri(e.f),Ci(e.f),n.variants))&&!i.allowedByKeySystem&&No(e,n),r&&(Lo(e),Io(e,n.variants))}}function Vo(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),e.dispatchEvent(new ye("expirationupdated"))}function Ho(e,t){var n=e.h?je(e.h.K):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,o=!1,a=[],s=[],u=p(t),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=p(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var d=n[r?"00":f.keyId];d?go.includes(d)&&(s.includes(d)||s.push(d)):a.includes(f.keyId)||a.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):o=!0}if(!i)throw new ae(2,4,4012,{hasAppRestrictions:o,missingKeys:a,restrictedKeyStatuses:s})}function Wo(e,t){d((function n(){return I(n,(function(n){switch(n.j){case 1:return T(n,Promise.resolve(),2);case 2:e.g!=Qo&&e.dispatchEvent(t),S(n)}}))}))}function Ko(e){for(var t=new Set,n=(e=p(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(dn(n.language)):t.add("und");return t}function Go(e){for(var t=new Map,n=(e=p(e)).next();!n.done;n=e.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=dn(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),t.has(n)||t.set(n,new Set),i=(r=p(i)).next();!i.done;i=r.next())i=i.value,t.get(n).add(i)}var o=[];return t.forEach((function(e,t){for(var n=p(e),r=n.next();!r.done;r=n.next())o.push({language:t,role:r.value})})),o}function Yo(e){for(var t=e.s.i(),n=null,r=(e=p(e.b.periods)).next();!r.done;r=e.next())(r=r.value).startTime<=t&&(n=r);return n}function qo(e){var t=Yo(e);return Vr(e.B,t).variant}function zo(){return new ae(2,7,7e3)}function Xo(e,t,n,r,i,o){return r==e&&i.o==o.o&&i.uri==o.uri&&i.mimeType==o.mimeType&&i.fa==o.fa?t:n}function $o(e){return new Promise((function(t,n){e.Ca=function(){return n(zo())},e.vb=function(){return t()},e.onError=function(e){return n(e)},e.wb=function(){return n(zo())}}))}_o.registerSupportPlugin=function(e,t){vo[e]=t},_o.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)&&(!!We()||Ke("application/x-mpegurl"))},_o.probeSupport=function(){return ft().then((function(e){for(var t=rr.Od(),n={},r=p('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=We()?!!Xt(i)||(MediaSource.isTypeSupported(i)||Ct(i)):Ke(i);var o=i.split(";")[0];n[o]=n[o]||n[i]}for(var a in e={manifest:t,media:n,drm:e},vo)e[a]=vo[a]();return e}))},_o.prototype.ab=function(e,t){if(t=void 0===t||t,this.g==Qo)return Promise.reject(zo());var n={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null};n.o=e,We()||(t=!1);var r=t?this.Ja:this.K,i=to(this.Na,(function(){return{node:r,payload:n,Aa:!1}}));return i.Ua=function(){},$o(i)},_o.prototype.attach=_o.prototype.ab,_o.prototype.detach=function(){var e=this;if(this.g==Qo)return Promise.reject(zo());var t=to(this.Na,(function(){return{node:e.v,payload:{fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},Aa:!1}}));return t.Ua=function(){},$o(t)},_o.prototype.detach=_o.prototype.detach,_o.prototype.ne=function(e){var t=this;if(e=void 0===e||e,this.g==Qo)return Promise.reject(zo());We()||(e=!1);var n={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},r=to(this.Na,(function(r){var i=r.o&&e?t.Ja:r.o?t.K:t.v;return n.o=r.o,{node:i,payload:n,Aa:!1}}));return r.Ua=function(){},$o(r)},_o.prototype.unload=_o.prototype.ne,_o.prototype.load=function(e,t,n){if(this.g==Qo)return Promise.reject(zo());this.dispatchEvent(new ye("loading"));var r={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null};r.uri=e,r.ic=Date.now()/1e3,n&&"string"!=typeof n&&(Dn("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.fa=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==t&&(r.startTime=t);var i=function(e){if(e.fa)return!1;if(!We())return!0;var t=e.mimeType;return e=e.uri||"",t||(t={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",ts:"video/mp2t",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac"}[rr.getExtension(e)]),!!t&&(!!Ke(t)&&(!rr.isSupported(e,t)||!!navigator.vendor&&navigator.vendor.includes("Apple")))}(r)?this.La:this.N,o=to(this.Na,(function(e){return null==e.o?null:(r.o=e.o,{node:i,payload:r,Aa:!0})}));return o.Ua=function(){},new Promise((function(e,t){o.wb=function(){return t(new ae(2,7,7002))},o.vb=function(){return e()},o.Ca=function(){return t(zo())},o.onError=function(e){return t(e)}}))},_o.prototype.load=_o.prototype.load,_o.prototype.configure=function(e,t){if(2==arguments.length&&"string"==typeof e){for(var n=e,r={},i=r,o=0,a=0;!(0>(o=n.indexOf(".",o)));)0!=o&&"\\"==n[o-1]||(i[a=n.substring(a,o).replace(/\\\./g,".")]={},i=i[a],a=o+1),o+=1;i[n.substring(a).replace(/\\\./g,".")]=t,e=r}return n=uo(this.c,e,wo(this)),To(this),n},_o.prototype.configure=_o.prototype.configure,_o.prototype.getConfiguration=function(){var e=wo(this);return uo(e,this.c,wo(this)),e},_o.prototype.getConfiguration=_o.prototype.getConfiguration,_o.prototype.Rd=function(){for(var e in this.c)delete this.c[e];uo(this.c,wo(this),wo(this)),To(this)},_o.prototype.resetConfiguration=_o.prototype.Rd,_o.prototype.hd=function(){return this.g},_o.prototype.getLoadMode=_o.prototype.hd,_o.prototype.md=function(){return this.a},_o.prototype.getMediaElement=_o.prototype.md,_o.prototype.od=function(){return this.H},_o.prototype.getNetworkingEngine=_o.prototype.od,_o.prototype.ad=function(){return this.Ha},_o.prototype.getAssetUri=_o.prototype.ad,_o.prototype.ld=function(){return Dn("getManifestUri",'Please use "getAssetUri" instead.'),this.Ha},_o.prototype.getManifestUri=_o.prototype.ld,_o.prototype.S=function(){return this.b?this.b.presentationTimeline.S():!(!this.a||!this.a.src)&&1/0==this.a.duration},_o.prototype.isLive=_o.prototype.S,_o.prototype.Sa=function(){return!!this.b&&this.b.presentationTimeline.Sa()},_o.prototype.isInProgress=_o.prototype.Sa,_o.prototype.xd=function(){if(this.b){if(!this.b.periods.length)return!1;var e=this.b.periods[0].variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},_o.prototype.isAudioOnly=_o.prototype.xd,_o.prototype.Td=function(){if(this.b){var e=this.b.presentationTimeline;return{start:e.Pa(),end:e.ga()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},_o.prototype.seekRange=_o.prototype.Td,_o.prototype.keySystem=function(){return this.h?this.h.keySystem():""},_o.prototype.keySystem=_o.prototype.keySystem,_o.prototype.drmInfo=function(){return this.h?this.h.a:null},_o.prototype.drmInfo=_o.prototype.drmInfo,_o.prototype.Sb=function(){return this.h?this.h.Sb():1/0},_o.prototype.getExpiration=_o.prototype.Sb,_o.prototype.vc=function(){return!!this.M&&this.M.a==$r},_o.prototype.isBuffering=_o.prototype.vc,_o.prototype.qd=function(){if(this.J){var e=this.J;e=e.g?0:e.f}else e=0;return e},_o.prototype.getPlaybackRate=_o.prototype.qd,_o.prototype.me=function(e){0==e?V("A trick play rate of 0 is unsupported!"):(this.g==ea&&this.J.set(e),this.g==Zo&&(this.J.set(e),Ni(this.f,1<Math.abs(e))))},_o.prototype.trickPlay=_o.prototype.me,_o.prototype.Vc=function(){this.g==ea&&this.J.set(1),this.g==Zo&&(this.J.set(1),Ni(this.f,!1))},_o.prototype.cancelTrickPlay=_o.prototype.Vc,_o.prototype.Vb=function(){if(this.b&&this.s){for(var e=qo(this),t=[],n=p(function(e){return null==(e=Yo(e))?[]:e.variants.filter((function(e){return An(e)}))}(this)),r=n.next();!r.done;r=n.next()){var i=bn(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){var t=On(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind?(t.primary=!0,t.roles=["main"],t.audioRoles=["main"]):t.audioRoles=[],t})):[]},_o.prototype.getVariantTracks=_o.prototype.Vb,_o.prototype.Ra=function(){if(this.b&&this.s){for(var e=function(e){var t=Yo(e);if(null==t)return null;if(!Vr(e.B,t).text){var n=Cn(t.textStreams,e.ta,e.$a);n.length&&Br(e.B,t,n[0])}return Vr(e.B,t).text}(this),t=[],n=p(function(e){var t=Yo(e);return null==t?[]:t.textStreams.filter((function(t){return!e.kb.has(t)}))}(this)),r=n.next();!r.done;r=n.next()){var i=Tn(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map((function(e){var t=On(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),t})):[]},_o.prototype.getTextTracks=_o.prototype.Ra,_o.prototype.fc=function(e){if(this.b&&this.f){var t=Yo(this),n=t.textStreams.find((function(t){return t.id==e.id}));n&&(Br(this.B,t,n),ho(this.u.b,n,!1),Ro(this,n),this.ta=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(t=p(t=Array.from(this.a.textTracks))).next();!n.done;n=t.next())Sn(n=n.value)==e.id?n.mode=this.Ia?"showing":"hidden":n.mode="disabled";xo(this)}},_o.prototype.selectTextTrack=_o.prototype.fc,_o.prototype.Vd=function(){Dn("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var e=this.Ra().filter((function(e){return"application/cea-608"==e.mimeType}));0<e.length&&this.fc(e[0])},_o.prototype.selectEmbeddedTextTrack=_o.prototype.Vd,_o.prototype.qe=function(){Dn("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var e=this.Ra().filter((function(e){return e.active}))[0];return!!e&&"application/cea-608"==e.mimeType},_o.prototype.usingEmbeddedTextTrack=_o.prototype.qe,_o.prototype.Xd=function(e,t,n){if(n=void 0===n?0:n,this.b&&this.f){var r=Yo(this);this.c.abr.enabled&&V("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(t){return t.id==e.id}));i&&An(i)&&(So(this,r,i,!1),Ao(this,i,t,n),this.jb=new qr(i),Io(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(t=p(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())Sn(n=n.value)==e.id&&(n.enabled=!0);Do(this)}},_o.prototype.selectVariantTrack=_o.prototype.Xd,_o.prototype.cd=function(){return Go(this.Vb())},_o.prototype.getAudioLanguagesAndRoles=_o.prototype.cd,_o.prototype.vd=function(){return Go(this.Ra())},_o.prototype.getTextLanguagesAndRoles=_o.prototype.vd,_o.prototype.bd=function(){return Array.from(Ko(this.Vb()))},_o.prototype.getAudioLanguages=_o.prototype.bd,_o.prototype.ud=function(){return Array.from(Ko(this.Ra()))},_o.prototype.getTextLanguages=_o.prototype.ud,_o.prototype.Ud=function(e,t){if(this.b&&this.s){var n=Yo(this);this.jb=new zr(e,t||"",0),No(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=p(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==e&&(r.enabled=!0);Do(this)}},_o.prototype.selectAudioLanguage=_o.prototype.Ud,_o.prototype.Wd=function(e,t){if(this.b&&this.s){var n=Yo(this);this.ta=e,this.$a=t||"",No(this,n)}else(n=this.Ra().filter((function(t){return t.language==e}))[0])&&this.fc(n)},_o.prototype.selectTextLanguage=_o.prototype.Wd,_o.prototype.Xb=function(){var e=this.Ia;return this.b?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some((function(e){return"showing"==e.mode})):e},_o.prototype.isTextTrackVisible=_o.prototype.Xb,_o.prototype.be=function(e){var t=this;return d((function n(){var r,i,o,a;return I(n,(function(n){switch(n.j){case 1:if(t.Ia==(r=e))return n.return();if(t.Ia=r,t.g!=Zo){if(t.a&&t.a.src&&t.a.textTracks)for(var s=p(Array.from(t.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=e?"showing":"hidden");n.j=2;break}if(t.G.h.setTextVisibility(e),t.c.streaming.alwaysStreamText){n.j=2;break}if(!e){(s=t.f).B=!0,(u=s.b.get("text"))&&(Xi(u),s.b.delete("text")),n.j=2;break}if(o=Yo(t),!(0<(a=Cn(o.textStreams,t.ta,t.$a)).length)){n.j=2;break}return T(n,Ii(t.f,a[0]),2);case 2:Uo(t),S(n)}}))}))},_o.prototype.setTextTrackVisibility=_o.prototype.be,_o.prototype.rd=function(){if(!this.S())return null;if(this.b)return new Date(1e3*(this.b.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:new Date(e.getTime()+1e3*this.a.currentTime)}return null},_o.prototype.getPlayheadTimeAsDate=_o.prototype.rd,_o.prototype.td=function(){if(!this.S())return null;if(this.b)return new Date(1e3*this.b.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},_o.prototype.getPresentationStartTimeAsDate=_o.prototype.td,_o.prototype.Qb=function(){var e={total:[],audio:[],video:[],text:[]};return this.g==ea&&(e.total=wt(this.a.buffered)),this.g==Zo&&this.G.Qb(e),e},_o.prototype.getBufferedInfo=_o.prototype.Qb,_o.prototype.getStats=function(){if(this.g!=Zo&&this.g!=ea)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]};Po(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.u,n=Number(e.totalVideoFrames);t.i=Number(e.droppedVideoFrames),t.h=n}this.g==Zo&&((e=qo(this))&&(this.u.l=e.bandwidth),e&&e.video&&(t=this.u,n=e.video.height||NaN,t.m=e.video.width||NaN,t.g=n),e=this.l.getBandwidthEstimate(),this.u.f=e);var r=this.u;e=r.m,t=r.g,n=r.l;for(var i=r.h,o=r.i,a=r.f,s=r.c,u=po(r.a,"playing"),c=po(r.a,"paused"),l=po(r.a,"buffering"),f=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=p(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n}(r.a),d=[],h=(r=p(r.b.a)).next();!h.done;h=r.next())h=h.value,d.push({timestamp:h.timestamp,id:h.id,type:h.type,fromAdaptation:h.fromAdaptation,bandwidth:h.bandwidth});return{width:e,height:t,streamBandwidth:n,decodedFrames:i,droppedFrames:o,estimatedBandwidth:a,loadLatency:s,playTime:u,pauseTime:c,bufferingTime:l,stateHistory:f,switchHistory:d}},_o.prototype.getStats=_o.prototype.getStats,_o.prototype.addTextTrack=function(e,t,n,r,i,o){var a=this;return d((function s(){var u,c,l,p,f,d,h,y,_;return I(s,(function(s){switch(s.j){case 1:if(a.g==ea)throw Error("State error!");if(a.g!=Zo)throw Error("State error!");if(u=Yo(a),c=At,l=a.b.periods.indexOf(u),f=(p=l+1)>=a.b.periods.length?a.b.presentationTimeline.R():a.b.periods[p].startTime,1/0==(d=f-u.startTime))throw new ae(1,4,4033);return h=new nr(1,0,d,(function(){return[e]}),0,null),y={id:a.sc++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?h:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:o||null,type:c.Z,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},a.kb.add(y),u.textStreams.push(y),T(s,Ii(a.f,y),2);case 2:return(_=Pi(a.f,"text"))&&Br(a.B,u,_),a.kb.delete(y),No(a,u),Lo(a),s.return(Tn(y))}}))}))},_o.prototype.addTextTrack=_o.prototype.addTextTrack,_o.prototype.ae=function(e,t){this.lb.width=e,this.lb.height=t},_o.prototype.setMaxHardwareResolution=_o.prototype.ae,_o.prototype.ec=function(){if(this.g==Zo){var e=this.f;if(e.f)e=!1;else if(e.m)e=!1;else{for(var t=p(e.b.values()),n=t.next();!n.done;n=t.next())(n=n.value).cb&&(n.cb=!1,zi(e,n,.1));e=!0}}else e=!1;return e},_o.prototype.retryStreaming=_o.prototype.ec,_o.prototype.jd=function(){return this.b},_o.prototype.getManifest=_o.prototype.jd,_o.prototype.kd=function(){return this.m?this.m.constructor:null},_o.prototype.getManifestParserFactory=_o.prototype.kd,(n=_o.prototype).Ob=function(e){var t=this.f?Ri(this.f):null,n=this.f?Ci(this.f):null;if(vn(this.h,t,n,e),!(t=e.variants).some(An))throw new ae(2,4,4011);if(Ho(this,e.variants),gn(t,this.c.restrictions,this.lb)&&this.f&&Yo(this)==e&&Lo(this),e=this.h?this.h.a:null)for(n=(t=p(t)).next();!n.done;n=t.next())for(var r=(n=p(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==e.keySystem)for(var i=(r=p(r.initData||[])).next();!i.done;i=r.next())i=i.value,ut(this.h,i.initDataType,i.initData)},n.Cd=function(e){try{this.Ma=!0,this.l.disable(),Mo(this);var t=Io(this,e.variants),n=Cn(e.textStreams,this.ta,this.$a)[0]||null;if(this.W&&(e.variants.includes(this.W)&&(t=this.W),this.W=null),this.V&&(e.textStreams.includes(this.V)&&(n=this.V),this.V=null),t&&So(this,e,t,!0),n){var r=n;Br(this.B,e,r),ho(this.u.b,r,!0)}var i=this.f,o=i.b.get("video");if(o)var a=i.c.periods[o.ia];else{var s=i.b.get("audio");a=s?i.c.periods[s.ia]:null}var u=t?t.audio:null;if(!a&&n){var c;if(c=u){e=n;var l=dn(this.c.preferredTextLanguage),p=dn(u.language),f=dn(e.language);c=pn(f,l)&&!pn(p,f)}c&&(this.Ia=!0),this.Ia&&this.G.h.setTextVisibility(!0),Uo(this)}return this.c.streaming.alwaysStreamText||this.Xb()?{variant:t,text:n}:{variant:t,text:null}}catch(e){return this.pa(e),{variant:null,text:null}}},n.Uc=function(){this.Ma=!1,this.c.abr.enabled&&(this.l.enable(),Mo(this)),this.W&&(ki(this.f,this.W,this.oc,this.nc),Do(this),this.W=null),this.V&&(Li(this.f,this.V,!0,0),xo(this),this.V=null)},n.Gd=function(){this.m&&this.m.update&&this.m.update()},n.Kd=function(){this.s&&this.s.u()},n.pa=function(e){if(this.g!=Qo){var t=new ye("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}};var Qo=0,Jo=1,Zo=2,ea=3;_o.LoadMode={DESTROYED:Qo,NOT_LOADED:Jo,MEDIA_SOURCE:Zo,SRC_EQUALS:ea},D("shaka.polyfill.installAll",(function(){for(var e=0;e<ia.length;++e)ia[e].Tc()}));var ta,na,ra,ia=[];function oa(e,t){for(var n={priority:t=t||0,Tc:e},r=0;r<ia.length;r++)if(ia[r].priority<t)return void ia.splice(r,0,n);ia.push(n)}function aa(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function sa(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}ta.call(this,e,t,n)}function ua(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=e.apply(this,n)).abort=function(){},n}}function ca(e){var t=e.target,n=t.mediaSource_;if(n.uc){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.pc=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].pc)return;n.uc=!1}}function la(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",ca,!1);e.removeEventListener("sourceclose",la,!1)}function pa(e,t){try{var n=new fa(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function fa(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=p(t),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var o=!1,a=!1;if(i.audioCapabilities)for(var s=p(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){o=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),a=!0)}if(i.videoCapabilities)for(u=(i=p(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(o=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),a=!0));o||(a=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=a?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function da(e){var t=this.mediaKeys;return t&&t!=e&&ya(t,null),delete this.mediaKeys,(this.mediaKeys=e)?ya(e,this):Promise.resolve()}function ha(e){this.b=new WebKitMediaKeys(e),this.a=new ke,this.c=null}function ya(e,t){if(xe(e.a),!t)return Promise.resolve();Le(e.a,t,"webkitneedkey",ma);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):De(e.a,t,"loadedmetadata",(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function _a(e){me.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new ke,this.sessionId="",this.expiration=NaN,this.closed=new se,this.keyStatuses=new va}function ma(e){var t=this.mediaKeys.c,n=new Event("encrypted");n.initDataType="cenc",n.initData=function(e,t){function n(e){new DataView(o.buffer).setUint32(a,e.byteLength,!0),a+=4,o.set(e,a),a+=e.byteLength}var r=new Uint8Array(e);if(new DataView(r.buffer).getUint32(0,!0)+4!=r.byteLength)throw Error("Malformed init data!");var i=Xe(r.slice(4),!0);i=new W(i).aa,i=new Uint8Array(Je(i,!0));var o=new Uint8Array(r.byteLength+4+i.byteLength+4+t.byteLength),a=0;return o.set(r,a),a+=r.byteLength,n(i),n(new Uint8Array(t)),o}(e.initData,t),this.dispatchEvent(n)}function ga(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,e.dispatchEvent(new ye("keystatuseschange"))}function va(){this.size=0,this.a=void 0}function Ea(e){this.f=[],this.b=[],this.a=[],(new lr).X("pssh",this.c.bind(this)).parse(e.buffer)}function ba(e,t){try{var n=new Ta(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Ta(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){a=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(a=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Sa(e){var t=this.mediaKeys;return t&&t!=e&&Oa(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Oa(e,this):Promise.resolve()}function wa(e){this.a=new MSMediaKeys(e),this.b=new ke}function Oa(e,t){if(xe(e.b),!t)return Promise.resolve();Le(e.b,t,"msneedkey",Ra);var n=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",(function e(){t.msSetMediaKeys(n.a),t.removeEventListener("loadedmetadata",e)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function Aa(e){me.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new ke,this.sessionId="",this.expiration=NaN,this.closed=new se,this.keyStatuses=new Pa}function Ra(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=function(e){if(!e)return e;var t=new Ea(e);if(1>=t.a.length)return e;for(var n=[],r=0;r<t.a.length;r++)n.push(e.subarray(t.a[r].start,t.a[r].end+1));for(e=[],t={},r=p(n),n=r.next();!n.done;t={sb:t.sb},n=r.next())t.sb=n.value,e.some(function(e){return function(t){return it(t,e.sb)}}(t))||e.push(t.sb);for(t=0,r=p(e),n=r.next();!n.done;n=r.next())t+=n.value.length;for(t=new Uint8Array(t),r=0,e=p(e),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,r),r+=n.length;return t}(e.initData),this.dispatchEvent(t)}}function Ca(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,e.dispatchEvent(new ye("keystatuseschange"))}function Pa(){this.size=0,this.a=void 0}function Ia(){return Promise.reject(Error("The key system specified is not supported."))}function Na(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function ka(){throw new TypeError("Illegal constructor.")}function La(){throw new TypeError("Illegal constructor.")}D("shaka.polyfill.register",oa),oa((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",aa),document.addEventListener("webkitfullscreenerror",aa),document.addEventListener("mozfullscreenchange",aa),document.addEventListener("mozfullscreenerror",aa),document.addEventListener("MSFullscreenChange",aa),document.addEventListener("MSFullscreenError",aa)}})),oa((function(){Ge("CrKey")&&delete e.indexedDB})),oa((function(){Ge("Trident/")&&HTMLInputElement.prototype.addEventListener!=sa&&(ta=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=sa)})),oa((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),oa((function(){})),oa((function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],o={},a=1;a<r.length;++a){var s=r[a].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),o[u]=s}if(!(r=o.codecs))return e(n);var c=!1,l=!1;for(var p in n=r.split(",").filter((function(e){return t.test(e)&&(l=!0),/^(hev|hvc)1\.2/.test(e)&&(c=!0),!0})),l&&(c=!1),o.codecs=n.join(","),c&&(o.eotf="smpte2084"),o)i+="; "+p+'="'+o[p]+'"';return cast.__platform__.canDisplayType(i)}}();else if(navigator.vendor&&navigator.vendor.includes("Apple")){var t=navigator.appVersion;!function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1]&&e(t)}}(),t.includes("Version/8")?e.MediaSource=null:t.includes("Version/9")?ua():t.includes("Version/10")?(ua(),function(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];for(var i=r=0;i<this.sourceBuffers.length;++i){var o=this.sourceBuffers[i];o=o.buffered.end(o.buffered.length-1),r=Math.max(r,o)}if(!isNaN(this.duration)&&r<this.duration)for(this.uc=!0,r=0;r<this.sourceBuffers.length;++r)this.sourceBuffers[r].pc=!1;return e.apply(this,n)};var t=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];return(r=n.apply(this,r)).mediaSource_=this,r.addEventListener("updateend",ca,!1),t||(this.addEventListener("sourceclose",la,!1),t=!0),r}}()):(t.includes("Version/11")||t.includes("Version/12"))&&(ua(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}())}else Ge("Tizen")&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=Ve(t)[0]&&e(t)}}()})),fa.prototype.createMediaKeys=function(){var e=new ha(this.keySystem);return Promise.resolve(e)},fa.prototype.getConfiguration=function(){return this.a},ha.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new _a(this.b,e)},ha.prototype.setServerCertificate=function(e){return this.c=e?new Uint8Array(e):null,Promise.resolve(!0)},x(_a,me),(n=_a.prototype).generateRequest=function(e,t){this.a=new se;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t)),Le(this.f,this.c,"webkitkeymessage",this.ge.bind(this)),Le(this.f,this.c,"webkitkeyadded",this.ee.bind(this)),Le(this.f,this.c,"webkitkeyerror",this.fe.bind(this)),ga(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.b=new se;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),xe(this.f)}catch(e){this.closed.reject(e)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.ge=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ye("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.ee=function(){this.b&&(ga(this,"usable"),this.b.resolve(),this.b=null)},n.fe=function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ga(this,"output-not-allowed");break;default:ga(this,"internal-error")}},(n=va.prototype).forEach=function(e){this.a&&e(this.a,na)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=na;return!(!this.a||!it(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(na=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=da,e.MediaKeys=ha,e.MediaKeySystemAccess=fa,navigator.requestMediaKeySystemAccess=pa)})),Ea.prototype.c=function(e){if(!(1<e.version)){var t=rt(e.reader.Da(16)),n=[];if(0<e.version)for(var r=e.reader.D(),i=0;i<r;++i){var o=rt(e.reader.Da(16));n.push(o)}r=e.reader.D(),e.reader.I(r),this.b.push.apply(this.b,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1})}},Ta.prototype.createMediaKeys=function(){var e=new wa(this.keySystem);return Promise.resolve(e)},Ta.prototype.getConfiguration=function(){return this.a},wa.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Aa(this.a,e)},wa.prototype.setServerCertificate=function(){return Promise.resolve(!1)},x(Aa,me),(n=Aa.prototype).generateRequest=function(e,t){this.a=new se;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),Le(this.f,this.c,"mskeymessage",this.Jd.bind(this)),Le(this.f,this.c,"mskeyadded",this.Hd.bind(this)),Le(this.f,this.c,"mskeyerror",this.Id.bind(this)),Ca(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.b=new se;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),xe(this.f)}catch(e){this.closed.reject(e)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Jd=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ye("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.Hd=function(){this.a?(Ca(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ca(this,"usable"),this.b.resolve(),this.b=null)},n.Id=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ca(this,"output-not-allowed");break;default:Ca(this,"internal-error")}},(n=Pa.prototype).forEach=function(e){this.a&&e(this.a,ra)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=ra;return!(!this.a||!it(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(ra=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Sa,e.MediaKeys=wa,e.MediaKeySystemAccess=Ta,navigator.requestMediaKeySystemAccess=ba)})),ka.prototype.createSession=function(){},ka.prototype.setServerCertificate=function(){},La.prototype.getConfiguration=function(){},La.prototype.createMediaKeys=function(){},oa((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Ia,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Na,e.MediaKeys=ka,e.MediaKeySystemAccess=La)}),-10);var Da,xa="";function Ua(e){return xa?xa+e.charAt(0).toUpperCase()+e.slice(1):e}function Ma(e,t){try{var n=new ja(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Fa(e){var t=this.mediaKeys;return t&&t!=e&&Va(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Va(e,this),Promise.resolve()}function ja(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=0;o<t.length;++o){var a=t[o],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var c=0;c<a.audioCapabilities.length;++c){var l=a.audioCapabilities[c];if(l.contentType){u=!0;var p=l.contentType.split(";")[0];i.canPlayType(p,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(a.videoCapabilities)for(c=0;c<a.videoCapabilities.length;++c)(l=a.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ba(e){this.g=e,this.b=null,this.a=new ke,this.c=[],this.f={}}function Va(e,t){e.b=t,xe(e.a);var n=xa;t&&(Le(e.a,t,n+"needkey",e.Md.bind(e)),Le(e.a,t,n+"keymessage",e.je.bind(e)),Le(e.a,t,n+"keyadded",e.he.bind(e)),Le(e.a,t,n+"keyerror",e.ie.bind(e)))}function Ha(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function Wa(e,t,n){me.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new se,this.keyStatuses=new Ya}function Ka(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=new Uint8Array(Qe("LOAD_SESSION|"+n));else{var i=Qe("PERSISTENT|"),o=new Uint8Array(i.byteLength+t.byteLength);o.set(new Uint8Array(i),0),o.set(new Uint8Array(t),i.byteLength),r=o}else r=new Uint8Array(t)}catch(e){return Promise.reject(e)}e.b=new se;var a=Ua("generateKeyRequest");try{e.f[a](e.c,r)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);new re((function(){try{e.f[a](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).L(.01)}return e.b}function Ga(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,e.dispatchEvent(new ye("keystatuseschange"))}function Ya(){this.size=0,this.a=void 0}function qa(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function za(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Xa(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function $a(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Qa(t,n,r){return new e.TextTrackCue(t,n,r)}function Ja(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function Za(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function es(){}ja.prototype.createMediaKeys=function(){var e=new Ba(this.a);return Promise.resolve(e)},ja.prototype.getConfiguration=function(){return this.b},(n=Ba.prototype).createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.b||document.createElement("video");return t.src||(t.src="about:blank"),e=new Wa(t,this.g,e),this.c.push(e),e},n.setServerCertificate=function(){return Promise.resolve(!1)},n.Md=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},n.je=function(e){var t=Ha(this,e.sessionId);t&&(e=new ye("message",{messageType:null==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},n.he=function(e){(e=Ha(this,e.sessionId))&&(Ga(e,"usable"),e.a&&e.a.resolve(),e.a=null)},n.ie=function(e){var t=Ha(this,e.sessionId);t&&t.handleError(e)},x(Wa,me),(n=Wa.prototype).handleError=function(e){var t=Error("EME v0.1b key error");t.errorCode=e.errorCode,t.errorCode.systemCode=e.systemCode,!e.sessionId&&this.b?(t.method="generateRequest",45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(t.method="update",this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ga(this,"output-restricted"):Ga(this,1==t?"expired":"internal-error"))},n.hc=function(e,t){if(this.a)this.a.then(this.hc.bind(this,e,t)).catch(this.hc.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=ze(t),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=tt(r.keys[0].k),r=tt(r.keys[0].kid)}else n=new Uint8Array(t),r=null;var i=Ua("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(e){this.a.reject(e),this.a=null}}},n.generateRequest=function(e,t){return Ka(this,t,null)},n.load=function(e){return"persistent-license"==this.g?Ka(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new se;return this.hc(t,e),t},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Ua("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=Ya.prototype).forEach=function(e){this.a&&e(this.a,Da)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=Da;return!(!this.a||!it(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)xa="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Da=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Ma,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fa,e.MediaKeys=Ba,e.MediaKeySystemAccess=ja}})),oa((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=za,document.exitPictureInPicture=Xa,document.addEventListener("webkitpresentationmodechanged",qa,!0))}})),oa((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),oa((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=$a)}})),oa((function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=Qa;else if(6==t)e.VTTCue=Ja;else{try{var n=!!Qa(1,2,"")}catch(e){n=!1}n&&(e.VTTCue=Qa)}}})),es.prototype.parseInit=function(){},es.prototype.parseMedia=function(e,t){var n=ze(e),r=[],i=new DOMParser,o=null;try{o=i.parseFromString(n,"text/xml")}catch(e){throw new ae(2,2,2005)}if(o){if(!(o=o.getElementsByTagName("tt")[0]))throw new ae(2,2,2005);var a=Za(o,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Za(o,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Za(o,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Za(o,"http://www.w3.org/ns/ttml#parameter","tickRate");if(n=o.getAttribute("xml:space")||"default",i=o.getAttribute("tts:extent"),"default"!=n&&"preserve"!=n)throw new ae(2,2,2005);n="default"==n,a=new bs(a,s,u,c),s=fs(o.getElementsByTagName("metadata")[0]),u=fs(o.getElementsByTagName("styling")[0]),c=fs(o.getElementsByTagName("layout")[0]);for(var l=[],p=0;p<c.length;p++){var f,d,h=c[p],y=u,_=i,m=new Kt,g=h.getAttribute("xml:id");if(g)m.id=g,g=null,_&&(g=ts.exec(_)||rs.exec(_)),_=g?Number(g[1]):null,g=g?Number(g[2]):null,(f=_s(h,y,"extent"))&&(null!=(f=(d=ts.exec(f))||rs.exec(f))&&(m.width=null!=_?100*Number(f[1])/_:Number(f[1]),m.height=null!=g?100*Number(f[2])/g:Number(f[2]),m.widthUnits=d||null!=_?Gt:0,m.heightUnits=d||null!=g?Gt:0)),(h=_s(h,y,"origin"))&&(null!=(f=(d=ts.exec(h))||rs.exec(h))&&(m.viewportAnchorX=null!=g?100*Number(f[1])/g:Number(f[1]),m.viewportAnchorY=null!=_?100*Number(f[2])/_:Number(f[2]),m.viewportAnchorUnits=d||null!=_?Gt:0));else m=null;m&&l.push(m)}for(i=fs(o.getElementsByTagName("body")[0]),o=0;o<i.length;o++)(p=ds(i[o],t.periodStart,a,s,u,c,l,n))&&r.push(p)}return r};var ts=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,ns=/^(\d+px|\d+em)$/,rs=/^(\d+)px (\d+)px$/,is=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,os=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,as=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,ss=/^(\d*(?:\.\d*)?)f$/,us=/^(\d*(?:\.\d*)?)t$/,cs=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,ls={left:jt,center:"center",right:"end",start:jt,end:"end"},ps={left:"line-left",center:"center",right:"line-right"};function fs(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=fs(n[r]),t=t.concat(i))}return t.length||t.push(e),t}function ds(e,t,n,r,i,o,a,s){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;!function e(t,n){for(var r=t.childNodes,i=0;i<r.length;i++)if("br"==r[i].nodeName&&0<i)r[i-1].textContent+="\n";else if(0<r[i].childNodes.length)e(r[i],n);else if(n){var o=r[i].textContent.trim();o=o.replace(/\s+/g," "),r[i].textContent=o}}(e,s),s=vs(e.getAttribute("begin"),n);var u=vs(e.getAttribute("end"),n);n=vs(e.getAttribute("dur"),n);var c=e.textContent;if(null==u&&null!=n&&(u=s+n),null==s||null==u)throw new ae(2,2,2001);if(t=new It(s+t,u+t,c),(o=gs(e,"region",o,""))&&o.getAttribute("xml:id")){var l=o.getAttribute("xml:id");a=a.filter((function(e){return e.id==l})),t.region=a[0]}return function(e,t,n,r,i){"rtl"==ys(t,n,i,"direction")&&(e.direction="rtl");var o=ys(t,n,i,"writingMode");"tb"==o||"tblr"==o?e.writingMode="vertical-lr":"tbrl"==o?e.writingMode="vertical-rl":"rltb"==o||"rl"==o?e.direction="rtl":o&&(e.direction=Ut),(o=ys(t,n,i,"textAlign"))&&(e.positionAlign=ps[o],e.lineAlign=ls[o],e.textAlign=Lt[o.toUpperCase()]);(o=ys(t,n,i,"displayAlign"))&&(e.displayAlign=xt[o.toUpperCase()]);(o=ys(t,n,i,"color"))&&(e.color=o);(o=ys(t,n,i,"backgroundColor"))&&(e.backgroundColor=o);(o=ys(t,n,i,"fontFamily"))&&(e.fontFamily=o);(o=ys(t,n,i,"fontWeight"))&&"bold"==o&&(e.fontWeight=700),(o=ys(t,n,i,"wrapOption"))&&"noWrap"==o&&(e.wrapLine=!1),(o=ys(t,n,i,"lineHeight"))&&o.match(ns)&&(e.lineHeight=o),(o=ys(t,n,i,"fontSize"))&&o.match(ns)&&(e.fontSize=o),(o=ys(t,n,i,"fontStyle"))&&(e.fontStyle=Wt[o.toUpperCase()]);if(r){o=r.getAttribute("imagetype");var a=r.getAttribute("encoding");r=r.textContent,"PNG"==o&&"Base64"==a&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(n=_s(n,i,"textDecoration"))&&hs(e,n),(t=ms(t,i,"textDecoration"))&&hs(e,t)}(t,e,o,r=gs(e,"smpte:backgroundImage",r,"#"),i),t}function hs(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&ve(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ve(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ve(e.textDecoration,"overline")}}function ys(e,t,n,r){return(e=ms(e,n,r))?e:_s(t,n,r)}function _s(e,t,n){for(var r=fs(e),i=0;i<r.length;i++){var o=Za(r[i],"http://www.w3.org/ns/ttml#styling",n);if(o)return o}return(e=gs(e,"style",t,""))?Za(e,"http://www.w3.org/ns/ttml#styling",n):null}function ms(e,t,n){return(e=gs(e,"style",t,""))?Za(e,"http://www.w3.org/ns/ttml#styling",n):null}function gs(e,t,n,r){if(!e||1>n.length)return null;var i=null,o=e;for(e=null;o&&!(e=o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e)for(e=0;e<n.length;e++)if(r+n[e].getAttribute("xml:id")==t){i=n[e];break}return i}function vs(e,t){var n=null;if(is.test(e)){n=is.exec(e);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/t.b)/t.frameRate)+60*i+3600*r}else os.test(e)?n=Es(os,e):as.test(e)?n=Es(as,e):ss.test(e)?(n=ss.exec(e),n=Number(n[1])/t.frameRate):us.test(e)?(n=us.exec(e),n=Number(n[1])/t.a):cs.test(e)&&(n=Es(cs,e));return n}function Es(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function bs(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}function Ts(){this.a=new es}function Ss(){}function ws(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?kt:Lt[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Bt[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Ft,e.line=Number(n[1]),n[2]&&(e.lineAlign=Bt[n[2].toUpperCase()]))}function Os(e){if(null==(e=qn(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function As(){this.a=null}function Rs(e,t,n){var r,i,o;return(new lr).A("payl",dr((function(e){r=ze(e)}))).A("iden",dr((function(e){i=ze(e)}))).A("sttg",dr((function(e){o=ze(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new It(r,i,e),t&&(e.id=t),n)for(t=new Gn(n),n=zn(t);n;)ws(e,n,[]),Yn(t),n=zn(t);return e}(r,i,o,t,n):null}zt["application/ttml+xml"]=es,Ts.prototype.parseInit=function(e){var t=!1;if((new lr).A("moov",pr).A("trak",pr).A("mdia",pr).A("minf",pr).A("stbl",pr).X("stsd",fr).A("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new ae(2,2,2007)},Ts.prototype.parseMedia=function(e,t){var n=!1,r=[];if((new lr).A("mdat",dr(function(e){n=!0,r=r.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new ae(2,2,2007);return r},zt['application/mp4; codecs="stpp"']=Ts,zt['application/mp4; codecs="stpp.TTML.im1t"']=Ts,Ss.prototype.parseInit=function(){},Ss.prototype.parseMedia=function(e,t){var n=ze(e);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new ae(2,2,2e3);var r=t.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);if(i&&o){if(null==(r=Os(new Gn(i[1]))))throw new ae(2,2,2e3);r=t.periodStart+(Number(o[1])/9e4-r)}}o=[];var a=n[0].split("\n");for(i=1;i<a.length;i++)if(/^Region:/.test(a[i])){var s=new Gn(a[i]),u=new Kt;zn(s),Yn(s);for(var c=zn(s);c;){var l=u,p=c;(c=/^id=(.*)$/.exec(p))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(p))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(p))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(p)&&(l.scroll="up"),Yn(s),c=zn(s)}o.push(u)}for(i=[],s=1;s<n.length;s++){if(c=a=n[s].split("\n"),p=r,a=o,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])a=null;else{u=null,c[0].includes("--\x3e")||(u=c[0],c.splice(0,1));var f=Os(l=new Gn(c[0])),d=qn(l,/[ \t]+--\x3e[ \t]+/g),h=Os(l);if(null==f||null==d||null==h)throw new ae(2,2,2001);for(c=new It(f+p,h+p,c.slice(1).join("\n").trim()),Yn(l),p=zn(l);p;)ws(c,p,a),Yn(l),p=zn(l);null!=u&&(c.id=u),a=c}a&&i.push(a)}return i},zt["text/vtt"]=Ss,zt['text/vtt; codecs="vtt"']=Ss,As.prototype.parseInit=function(e){var t=!1;if((new lr).A("moov",pr).A("trak",pr).A("mdia",pr).X("mdhd",function(e){0==e.version?(e.reader.I(4),e.reader.I(4),this.a=e.reader.D(),e.reader.I(4)):(e.reader.I(8),e.reader.I(8),this.a=e.reader.D(),e.reader.I(8)),e.reader.I(4)}.bind(this)).A("minf",pr).A("stbl",pr).X("stsd",fr).A("wvtt",(function(){t=!0})).parse(e),!this.a)throw new ae(2,2,2008);if(!t)throw new ae(2,2,2008)},As.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw new ae(2,2,2008);var r,i=0,o=[],a=[],s=!1,u=!1,c=!1,l=null;if((new lr).A("moof",pr).A("traf",pr).X("tfdt",(function(e){s=!0,i=0==e.version?e.reader.D():e.reader.Ab()})).X("tfhd",(function(e){var t=e.flags;(e=e.reader).I(4),1&t&&e.I(8),2&t&&e.I(4),l=8&t?e.D():null})).X("trun",(function(e){u=!0;var t=e.version,n=e.flags,r=(e=e.reader).D();1&n&&e.I(4),4&n&&e.I(4);for(var i=[],a=0;a<r;a++){var s={duration:null,sampleSize:null,jc:null};256&n&&(s.duration=e.D()),512&n&&(s.sampleSize=e.D()),1024&n&&e.I(4),2048&n&&(s.jc=0==t?e.D():e.Fc()),i.push(s)}o=i})).A("mdat",dr((function(e){c=!0,r=e}))).parse(e),!c&&!s&&!u)throw new ae(2,2,2008);var p=i,f=new sr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return o.forEach((function(e){var r=e.duration||l,o=e.jc?i+e.jc:p;p=o+(r||0);var s=0;do{var u=f.D();s+=u;var c=null;"vttc"==yr(f.D())?8<u&&(c=f.Da(u-8)):f.I(u-8),r&&c&&a.push(Rs(c,t.periodStart+o/n.a,t.periodStart+p/n.a))}while(e.sampleSize&&s<e.sampleSize)})),a.filter(Ot.zd)},zt['application/mp4; codecs="wvtt"']=As,D("shaka.util.Dom.createHTMLElement",(function(e){return document.createElement(e)})),D("shaka.util.Dom.createVideoElement",(function(){var e=document.createElement("video");return e.muted=!0,e.width=600,e.height=400,e})),D("shaka.util.Dom.asHTMLElement",(function(e){return e})),D("shaka.util.Dom.asHTMLMediaElement",(function(e){return e})),D("shaka.util.Dom.removeAllChildren",(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}.call(r,n,n),r.shaka)t[i]=r.shaka[i]}()}).call(this,n("pCvA"))},nSpX:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.CONNECTION_ONLINE="online",e.CONNECTION_OFFLINE="offline",e.PRODUCT_STATE_CHANGED="product_state_changed",e.ACCESS_TOKEN="access_token",e.AUTHENTICATED="authenticated",e.AUTHENTICATION_FAILED="authentication_failed",e.BEFORE_OFFLINE_DISCONNECT="before_offline_disconnect",e.BEFORE_ONLINE_DISCONNECT="before_online_disconnect",e.CONNECTED="connected",e.CONNECTION_FAILED="connection_failed",e.CONNECTION_ID="connection_id",e.DISCONNECTED="disconnected",e.ENDPOINTS_RESOLVED="endpoints_resolved",e.LOGGED_OUT="logged_out",e.SHORT_SESSION_DISCONNECTED="short_session_disconnected",e.TOKEN_PROVIDER_ERROR="token_provider_error",e.RECONNECTED="reconnected",e.RECONNECTING="reconnecting",e.WINDOW_BEFORE_UNLOAD="beforeunload"}(r||(r={}))},nYr0:function(e,t,n){(function(t){!function(){"use strict";var n="undefined"!=typeof window,r="function"==typeof Object.defineProperty;if(n&&window.__modDefFn)e.exports=window.__modDefFn;else{var i,o,a=[];p();var s=function(e){var t=!a.length;a.push(e),t&&i()};n&&!window.__modDefFn&&(r?Object.defineProperty(window,"__modDefFn",{value:s}):window.__modDefFn=s),s.use={auto:p,dom:u,immediate:c,timeout:l},e.exports=s}function u(){if(o=window.location.origin||window.location.protocol+"//"+window.location.hostname,i=window.postMessage.bind(window,"@execute_deferreds",o),!window.__hasDeferredHandler){r?Object.defineProperty(window,"__hasDeferredHandler",{value:1}):window.__hasDeferredHandler=1;var e=function(e){e.origin!=o&&"@execute_deferreds"!=e.data||f()};window.addEventListener?window.addEventListener("message",e):window.attachEvent("onmessage",e)}}function c(){i=t.bind(null,f)}function l(){i=setTimeout.bind(null,f,10)}function p(){n&&window.postMessage?u():void 0!==t?c():l()}function f(){var e=a.splice(0);if(e.length)for(var t=0,n=e.length;t<n;t++)try{e[t]()}finally{}}}()}).call(this,n("oPUo").setImmediate)},noPx:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},nsI8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n("E6vx");!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var o=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&(Object(i.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.toString=function(){return"[object SyncPromise]"},e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void i(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void i(e)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e}()},oNR1:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return H})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return K})),n.d(t,"k",(function(){return j}));var r=n("7L9N"),i=n("mXGw"),o=n.n(i),a=n("W0B4"),s=n.n(a),u=n("nVfp"),c=n("Qmxl"),l=n.n(c),p=n("5R4H"),f=n.n(p);function d(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var h=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+f()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=d(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}};var y=function(e,t){if(!e)throw new Error("Invariant failed")},_=n("Fcif"),m=n("O0QU"),g=n.n(m),v=(n("QO3r"),n("+I+c")),E=n("GeWT"),b=n.n(E),T=function(e){var t=h();return t.displayName=e,t}("Router"),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(T.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;var w=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var O={},A=0;function R(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(O[e])return O[e];var t=g.a.compile(e);return A<1e4&&(O[e]=t,A++),t}(e)(t,{pretty:!0})}function C(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(T.Consumer,null,(function(e){e||y(!1);var r=e.history,a=e.staticContext,s=i?r.push:r.replace,c=Object(u.c)(t?"string"==typeof n?R(n,t.params):Object(_.a)({},n,{pathname:R(n.pathname,t.params)}):n);return a?(s(c),null):o.a.createElement(w,{onMount:function(){s(c)},onUpdate:function(e,t){var n=Object(u.c)(t.to);Object(u.f)(n,Object(_.a)({},c,{key:n.key}))||s(c)},to:n})}))}var P={},I=0;function N(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=P[n]||(P[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return I<1e4&&(r[e]=o,I++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],p=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(T.Consumer,null,(function(t){t||y(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?N(n.pathname,e.props):t.match,i=Object(_.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(T.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"==typeof s?s(i):null)}))},t}(o.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function D(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:Object(_.a)({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"==typeof e?e:Object(u.e)(e)}function U(e){return function(){y(!1)}}function M(){}o.a.Component;var F=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(T.Consumer,null,(function(t){t||y(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?N(i.pathname,Object(_.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function j(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(v.a)(t,["wrappedComponentRef"]);return o.a.createElement(T.Consumer,null,(function(t){return t||y(!1),o.a.createElement(e,Object(_.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,b()(n,e)}var B=o.a.useContext;function V(){return B(T).history}function H(){return B(T).location}function W(){var e=B(T).match;return e?e.params:{}}function K(e){return e?N(H().pathname,e):B(T).match}},oPUo:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("heVN"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("pCvA"))},oZl3:function(e,t,n){"use strict";var r=n("ZIIl");function i(){this.reset()}i.create=function(){return new i},i.prototype.reset=function(){this._sequenceId=r.generateBase64(16),this._sequenceNumbers={}},i.prototype.getSequenceId=function(){return this._sequenceId},i.prototype.nextSequenceNumber=function(e){return this._sequenceNumbers[e]||(this._sequenceNumbers[e]=0),++this._sequenceNumbers[e]},e.exports=i},ohJu:function(e,t,n){"use strict";var r=n("pPJX");function i(e,t,n){Error.call(this,e);var i=n||{};this.code=e||r.DEALER_ERROR,this.raw=i,this.wsReason=i.reason||null,this.wsCode=i.code||null}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="DealerError",e.exports=i},ovh1:function(e,t,n){"use strict";var r=n("5QbJ"),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},p1yM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){try{return void(0!==a.length&&a.pop().focus())}catch(e){}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n("XrU5"),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},pCvA:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},pHF5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},pPJX:function(e,t,n){"use strict";var r=n("RVb4");e.exports=r({DEALER_CONNECTION_ERROR:"DEALER_CONNECTION_ERROR",DEALER_AUTHENTICATION_FAILED:"DEALER_AUTHENTICATION_FAILED",DEALER_ERROR:"DEALER_ERROR",HTTP_REQUEST_FAILED:"HTTP_REQUEST_FAILED",LOGGING_REQUEST_FAILED:"LOGGING_REQUEST_FAILED",TRANSPORT_ENDPOINTS_PROVIDER_ERROR:"TRANSPORT_ENDPOINTS_PROVIDER_ERROR",TRANSPORT_INVALID_TOKEN:"TRANSPORT_INVALID_TOKEN",TRANSPORT_TOKEN_PROVIDER_ERROR:"TRANSPORT_TOKEN_PROVIDER_ERROR",TRANSPORT_LIFECYCLE_DISABLED:"TRANSPORT_LIFECYCLE_DISABLED",XRESOLVE_INCOMPLETE_RESPONSE:"XRESOLVE_INCOMPLETE_RESPONSE",XRESOLVE_INVALID_RESPONSE:"XRESOLVE_INVALID_RESPONSE",XRESOLVE_REQUEST_FAILED_WITH_STATUS:"XRESOLVE_REQUEST_FAILED_WITH_STATUS"})},pifV:function(e,t,n){"use strict";var r=n("mpLd");e.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},pm3V:function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},q4CX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_WEBGATE_URL="https://wgint.spotify.net"},q6sp:function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},u=Math.max(0,t.length-a.length),c=[],l=0;l<u;l++)c.push("$"+l);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},qG8n:function(e,t,n){"use strict";var r=n("nYr0"),i=n("fTkg"),o="add:",a="remove:";function s(e,t,n){for(var r=e.length;r--;){var i=e[r];if(i.listener===t&&!!i.options.once==!!n.once)return r}return-1}function u(){this._listenerMap={}}u.createEvent=function(e,t){if(!e)throw new TypeError("Cannot create event with empty type.");return new i(e,t)},u.prototype.on=function(e,t,n){if(!e)throw new TypeError("Cannot add event listener with empty type.");if(!t)return this;var r=n||{once:!1},i=this._listenerMap||(this._listenerMap={}),a=i[e]||(i[e]=[]);if(-1!==s(a,t,r))return this;var u=o+e;if(i[u]&&i[u].length&&this.emitSync(u,{listener:t,options:r}).defaultPrevented)return this;return a.push({listener:t,options:r}),this},u.prototype.once=function(e,t){if(!e)throw new TypeError("Cannot add once listener with empty type.");return t.$added_once=!0,this.on(e,t,{once:!0}),t},u.prototype.addListeners=function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.on(n,e[n],t);return this},u.prototype.removeListener=function(e,t,n){if(!e)throw new TypeError("Cannot remove event listener with empty type.");if(!t)return this;var r=this._listenerMap,i=r&&r[e];if(!i)return this;var o=n||{once:t.$added_once||!1},u=s(i,t,o);if(-1===u)return this;var c=a+e;if(r[c]&&r[c].length&&this.emitSync(c,{listener:t,options:o,remainingLength:i.length-1}).defaultPrevented)return this;return i.splice(u,1),i.length||(r[e]=null),this},u.prototype.removeAllListeners=function(e){var t=this._listenerMap;return t?void 0===e?(this._listenerMap={},this):(t[e]=null,this):this},u.prototype.removeListeners=function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.removeListener(n,e[n],t);return this},u.prototype.addListener=function(e,t,n){return this.on(e,t,n)},u.prototype.addOnceListener=function(e,t){return this.on(e,t,{once:!0})},u.prototype.emit=function(e,t){if(!e)throw new TypeError("Cannot emit empty type event.");var n=new i(e,t);return r(function(){this.emitEventSync(n)}.bind(this)),n},u.prototype.emitAndWait=function(e,t,n){if(!e)throw new TypeError("Cannot emit empty type event.");var o=new i(e,t);return r(function(){this.emitEventSync(o),"function"==typeof n&&n(o)}.bind(this)),o},u.prototype.emitEvent=function(e){return r(function(){this.emitEventSync(e)}.bind(this)),e},u.prototype.emitEventAndWait=function(e,t){return r(function(){this.emitEventSync(e),"function"==typeof t&&t(e)}.bind(this)),e},u.prototype.emitSync=function(e,t){var n=new i(e,t);return this.emitEventSync(n),n},u.prototype.emitEventSync=function(e){var t=e.type,n=this._listenerMap,r=n&&n[t];if(!r||!r.length)return e;for(var o=0,a=(r=r.slice(0)).length;o<a;o++){var s=r[o];if(s.options.once&&this.removeListener(t,s.listener,s.options),s.listener.call(this,e),i.wasImmediatePropagationStopped(e))break}return e},u.prototype.proxyEmit=function(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!t||!n)throw new TypeError("Parameters sourceType and proxyType are required.");var r=this.emit.bind(this,n);return e.on(t,r),r},u.prototype.proxyEmitSync=function(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!t||!n)throw new TypeError("Parameters sourceType and proxyType are required.");var r=this.emitSync.bind(this,n);return e.on(t,r),r},u.prototype.onAddListener=function(e,t){return this.on(o+e,t),this},u.prototype.onRemoveListener=function(e,t){return this.on(a+e,t),this},e.exports=u},qYJ9:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.AUTHENTICATED="authenticated",e.AUTHENTICATION_FAILED="authentication_failed",e.CONNECTED="connected",e.CONNECTION_ID="connection_id",e.ERROR="error",e.DISCONNECTED="disconnected",e.MESSAGE="message",e.REQUEST="request"}(r||(r={}))},"qZ0/":function(e,t,n){"use strict";var r=n("31Tc")("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(e){r=null}e.exports=r},qg8E:function(e,t,n){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MetricTypes={COUNTER:"counter",GAUGE:"gauge",TIMER:"timer"},t.asNanoseconds=function(e){return e};const r={queue:[],timeout:void 0,flush(){o(this.queue),this.queue=[],this.timeout=void 0}};class i{static init(e){i.config=e,e.batching&&"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>r.flush()),void 0===e.batching&&(e.batching={delay:4e3})}}function o(e){return n(this,void 0,void 0,(function*(){if(Array.isArray(i.config.reporter)){const t=i.config.reporter.map(t=>t.send(e));yield Promise.all(t)}else yield i.config.reporter.send(e)}))}t.sendMetric=function(e){return n(this,void 0,void 0,(function*(){if(!i.config)throw new Error("SemanticMetrics has not been initialized");if(void 0!==i.config.dev&&i.config.dev)return;const t=Object.assign({},e);if(e.tags&&(t.tags=Object.assign({},e.tags)),i.config.app&&(t.tags=Object.assign(Object.assign({},t.tags),{app:i.config.app})),t.key=t.key||i.config.key,!t.key)throw new Error(`metric.key is required. Got: "${t.key}". Set it in SemanticMetrics.init() or pass it to sendMetric().`);i.config.component_id?t.component_id=t.component_id||i.config.component_id:t.component_id=i.config.key,i.config.batching?(r.queue.push(t),r.timeout||(r.timeout=setTimeout(()=>r.flush(),i.config.batching.delay))):yield o([t])}))},t.default=i}).call(this,n("5IsQ"))},qykS:function(e,t,n){"use strict";(function(e){var r=n("KlUR"),i=n("FaXh"),o=n("kah5");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var p=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){p=!1;break}if(p)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return b(e,t,n,r)}function S(e,t,n,r){return H(V(t),e,n,r)}function w(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),p=0;p<s;++p)if(c[p]!==l[p]){o=c[p],a=l[p];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function x(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return o||x(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return o||x(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n("pCvA"))},rAIa:function(e,t,n){"use strict";var r=n("oZl3"),i=n("JzJP"),o=n("Q4AL"),a=n("77OH").Event,s=n("KF7U"),u=n("gLbv"),c=n("YDM6"),l=n("uDox"),p=n("asuC"),f=l.forTag("EventSender");function d(e){var t=e||{};this._transport=t.transport,this._upload=this._upload.bind(this),this._shouldRetry=this._shouldRetry.bind(this),this._uploadWaiting=!1,this._sequenceIdGenerator=r.create(),this._uploader=i.create({enableDebugInfo:t.enableDebugInfo,suppressPersist:t.suppressPersist,transport:this._transport}),this._contextCreators=t.context||[];for(var n=0,o=this._contextCreators.length;n<o;n++)if("function"!=typeof this._contextCreators[n])throw new Error("The context creator at index "+n+" is not a function");this._contextCreators.push(s),this._contextCreators.push(u),t.clientId&&this._contextCreators.push(c(t.clientId)),this._refreshing=!1,this._events=[],this._backoffBaseTime=t.baseTime||200,this._backoffCeiling=t.ceiling||3e5,this._backoffMaxDuration=t.maxDuration||18e5,this._transport.on(a.TRANSPORT_BEFORE_ONLINE_DISCONNECT,this._onBeforeDisconnect.bind(this))}d.create=function(e){return new d(e)},d.prototype._onBeforeDisconnect=function(e){e.awaitPromise(this._uploader.lastUpload(this._events.splice(0)))},d.prototype._shouldRetry=function(){return this._transport.isOnline()&&!this._refreshing},d.prototype._initFlush=function(){var e=this._backoffBaseTime,t=!1;return this._uploader.shouldBackoff()&&(e=this._backoffCeiling,t=!0),o.init(this._upload,{algo:"exp",baseTime:e,ceiling:this._backoffCeiling,maxDuration:this._backoffMaxDuration,backoffInitial:t,retryPredicate:this._shouldRetry})},d.prototype._waitForConnection=function(){return new p(function(e){this._transport.once(a.TRANSPORT_CONNECTION_ONLINE,e)}.bind(this))},d.prototype.flush=function(){return this._transport.isOnline()||this._ongoingUpload||(this._ongoingUpload=this._waitForConnection()),this._ongoingUpload?(this._uploadWaiting||(this._uploadWaiting=!0,this._ongoingUpload=this._ongoingUpload.then(function(){return this._ongoingUpload=!1,this._uploadWaiting=!1,this.flush()}.bind(this))),this._ongoingUpload):this._events.length?(this._ongoingUpload=this._initFlush().then(function(e){return this._ongoingUpload=void 0,e}.bind(this)).catch(function(){return this._ongoingUpload=void 0,this._transport.isOnline()?(this._refreshing||(f.warn("The events in the queue could not be uploaded. Throwing away "+this._events.length+" events."),this._events=[]),{nack:this._events,backoff:this._uploader.shouldBackoff()}):this.flush()}.bind(this)),this._ongoingUpload):p.resolve({nack:this._events,backoff:this._uploader.shouldBackoff()})},d.prototype._upload=function(){return this._uploader.upload(this._events.splice(0)).then(function(e){if(e.nack.length)throw this._events=e.nack.concat(this._events),new Error("Backoff requested");return e}.bind(this))},d.prototype.log=function(e,t){var n={sequence_id:this._sequenceIdGenerator.getSequenceId(),sequence_number:this._sequenceIdGenerator.nextSequenceNumber(e.name),event_name:e.name};n.fragments={message:e.data};for(var r=0,i=this._contextCreators.length;r<i;r++){var o=this._contextCreators[r].call(this);n.fragments[o.name]=o.data}this._events.push(n),!1!==t&&this.flush()},d.prototype.refresh=function(){return this._sequenceIdGenerator.reset(),this._refreshing=!0,this.flush().then(function(){return this._transport.forceTokenRefresh().then(function(e){return this._refreshing=!1,e}.bind(this))}.bind(this)).catch(function(e){return f.warn("Could not flush using cached token",e),this._refreshing=!1,!0}.bind(this))},e.exports=d},rH2d:function(e,t,n){"use strict";var r=n("V0bL"),i=n("ZjB5"),o=function(e){return null!=e},a=n("0NxA")(),s=Object,u=i.call(Function.call,Array.prototype.push),c=i.call(Function.call,Object.prototype.propertyIsEnumerable),l=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var n,i,p,f,d,h,y,_=s(e);for(n=1;n<arguments.length;++n){i=s(arguments[n]),f=r(i);var m=a&&(Object.getOwnPropertySymbols||l);if(m)for(d=m(i),p=0;p<d.length;++p)y=d[p],c(i,y)&&u(f,y);for(p=0;p<f.length;++p)h=i[y=f[p]],c(i,y)&&(_[y]=h)}return _}},rKUl:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},rNOt:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("DCgI"),i=n("3ZRO"),o=n("HhP1"),a=n("UYf4"),s=function(){function e(e,t,n){void 0===t&&(t=new a.a),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}return e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop();o&&o.client&&o.client[e]&&(t=o.client)[e].apply(t,r.b(n,[o.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=this.getStack(),t=e.length>0?e[e.length-1].scope:void 0,n=a.a.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(i.m)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,r.a({},o,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=Object(i.m)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(e){s=e}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,r.a({},a,{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(i.m)();return this._invokeClient("captureEvent",e,r.a({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var o=n.client.getOptions&&n.client.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,u=o.maxBreadcrumbs,c=void 0===u?100:u;if(!(c<=0)){var l=Object(i.l)(),p=r.a({timestamp:l},e),f=s?Object(i.c)((function(){return s(p,t)})):p;null!==f&&n.scope.addBreadcrumb(f,Math.min(c,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=c(this);try{e(this)}finally{c(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return o.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e,t){return void 0===t&&(t=!1),this._callExtensionMethod("startSpan",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=u(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);o.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function u(){var e=Object(i.f)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function c(e){var t=u(),n=f(t);return d(t,e),n}function l(){var e=u();return p(e)&&!f(e).isOlderThan(3)||d(e,new s),Object(i.i)()?function(e){try{var t=u().__SENTRY__;if(!t||!t.extensions||!t.extensions.domain)return f(e);var n=t.extensions.domain.active;if(!n)return f(e);if(!p(n)||f(n).isOlderThan(3)){var r=f(e).getStackTop();d(n,new s(r.client,a.a.clone(r.scope)))}return f(n)}catch(t){return f(e)}}(e):f(e)}function p(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function f(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub?e.__SENTRY__.hub:(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new s,e.__SENTRY__.hub)}function d(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},rrCd:function(e,t,n){"use strict";var r=n("mpLd");e.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},s2T8:function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d=Boolean.prototype.valueOf,h=Object.prototype.toString,y=String.prototype.match,_="function"==typeof BigInt?BigInt.prototype.valueOf:null,m=n(1).custom,g=m&&T(m)?m:null;function v(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function E(e){return String(e).replace(/"/g,"&quot;")}function b(e){return"[object Array]"===O(e)}function T(e){return"[object Symbol]"===O(e)}e.exports=function e(t,n,r,i){var s=n||{};if(w(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function(e,t){return v(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,A),"single",t)}(t,s);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var u=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=u&&u>0&&"object"==typeof t)return"[Object]";if(void 0===i)i=[];else if(function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(i,t)>=0)return"[Circular]";function h(t,n){return n&&(i=i.slice()).push(n),e(t,s,r+1,i)}if("function"==typeof t){var m=function(e){if(e.name)return e.name;var t=y.call(e,/^function\s*([\w$]+)/);if(t)return t[1];return null}(t);return"[Function"+(m?": "+m:"")+"]"}if(T(t)){var S=Symbol.prototype.toString.call(t);return"object"==typeof t?R(S):S}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var N="<"+String(t.nodeName).toLowerCase(),k=t.attributes||[],L=0;L<k.length;L++)N+=" "+k[L].name+"="+v(E(k[L].value),"double",s);return N+=">",t.childNodes&&t.childNodes.length&&(N+="..."),N+="</"+String(t.nodeName).toLowerCase()+">"}if(b(t))return 0===t.length?"[]":"[ "+I(t,h).join(", ")+" ]";if(function(e){return"[object Error]"===O(e)}(t)){var D=I(t,h);return 0===D.length?"["+String(t)+"]":"{ ["+String(t)+"] "+D.join(", ")+" }"}if("object"==typeof t){if(g&&"function"==typeof t[g])return t[g]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var x=[];return a.call(t,(function(e,n){x.push(h(n,t)+" => "+h(e,t))})),P("Map",o.call(t),x)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var U=[];return l.call(t,(function(e){U.push(h(e,t))})),P("Set",c.call(t),U)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return C("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return C("WeakSet");if(function(e){return"[object Number]"===O(e)}(t))return R(h(Number(t)));if(function(e){return"[object BigInt]"===O(e)}(t))return R(h(_.call(t)));if(function(e){return"[object Boolean]"===O(e)}(t))return R(d.call(t));if(function(e){return"[object String]"===O(e)}(t))return R(h(String(t)));if(!function(e){return"[object Date]"===O(e)}(t)&&!function(e){return"[object RegExp]"===O(e)}(t)){var M=I(t,h);return 0===M.length?"{}":"{ "+M.join(", ")+" }"}return String(t)};var S=Object.prototype.hasOwnProperty||function(e){return e in this};function w(e,t){return S.call(e,t)}function O(e){return h.call(e)}function A(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function R(e){return"Object("+e+")"}function C(e){return e+" { ? }"}function P(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function I(e,t){var n=b(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=w(e,i)?t(e[i],e):""}for(var o in e)w(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},s4Wf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,i=n("K/xo");var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},sDqU:function(e,t,n){"use strict";e.exports="NOT_A_TOKEN"},sQ5Y:function(e,t,n){var r;!function(n){i(Math.pow(36,5)),i(Math.pow(16,7)),i(Math.pow(10,9)),i(Math.pow(2,30)),i(36),i(16),i(10),i(2);function i(e,t){return this instanceof i?(this._low=0,this._high=0,this.remainder=null,void 0===t?a.call(this,e):"string"==typeof e?s.call(this,e,t):void o.call(this,e,t)):new i(e,t)}function o(e,t){return this._low=0|e,this._high=0|t,this}function a(e){return this._low=65535&e,this._high=e>>>16,this}function s(e,t){var n=parseInt(e,t||10);return this._low=65535&n,this._high=n>>>16,this}i.prototype.fromBits=o,i.prototype.fromNumber=a,i.prototype.fromString=s,i.prototype.toNumber=function(){return 65536*this._high+this._low},i.prototype.toString=function(e){return this.toNumber().toString(e||10)},i.prototype.add=function(e){var t=this._low+e._low,n=t>>>16;return n+=this._high+e._high,this._low=65535&t,this._high=65535&n,this},i.prototype.subtract=function(e){return this.add(e.clone().negate())},i.prototype.multiply=function(e){var t,n,r=this._high,i=this._low,o=e._high,a=e._low;return t=(n=i*a)>>>16,t+=r*a,t&=65535,t+=i*o,this._low=65535&n,this._high=65535&t,this},i.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)return this.remainder=new i(0),this;if(e.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(e))return this.remainder=new i(0),this._low=1,this._high=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},i.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},i.prototype.greaterThan=i.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},i.prototype.lessThan=i.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},i.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},i.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},i.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},i.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},i.prototype.shiftRight=i.prototype.shiftr=function(e){return e>16?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},i.prototype.shiftLeft=i.prototype.shiftl=function(e,t){return e>16?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},i.prototype.rotateLeft=i.prototype.rotl=function(e){var t=this._high<<16|this._low;return t=t<<e|t>>>32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(e){var t=this._high<<16|this._low;return t=t>>>e|t<<32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.clone=function(){return new i(this._low,this._high)},void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},t2mb:function(e,t,n){"use strict";var r=1,i=2,o=4,a=8,s=16,u=Array.prototype.slice;function c(e,t,n){this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText="["+e+"]",this._enabled=!0,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}c.prototype.matchesTag=function(e){var t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(("*"!==t[r]||!n[r])&&t[r]!==n[r])return!1;return!0},c.prototype.setLevel=function(e){var t=0;switch(e){case"error":t=s;break;case"warn":t=a|s;break;case"info":t=o|a|s;break;case"debug":t=i|o|a|s;break;case"log":default:t=r|i|o|a|s}this._level=t},c.prototype.enable=function(){this._enabled=!0},c.prototype.disable=function(){this._enabled=!1},c.prototype.log=function(){if(this._enabled||this._level&r){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"log",tag:this.tag,args:e});this._predicate(t)}},c.prototype.debug=function(){if(this._enabled||this._level&i){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"debug",tag:this.tag,args:e});this._predicate(t)}},c.prototype.info=function(){if(this._enabled||this._level&o){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"info",tag:this.tag,args:e});this._predicate(t)}},c.prototype.warn=function(){if(this._enabled||this._level&a){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"warn",tag:this.tag,args:e});this._predicate(t)}},c.prototype.error=function(){if(this._enabled||this._level&s){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"error",tag:this.tag,args:e});this._predicate(t)}},e.exports=c},tCDF:function(e,t,n){var r;!function(i,o,a){if(i){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)u[111+f]="f"+f;for(f=0;f<=9;++f)u[f+96]=f.toString();g.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==o&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},g.init=function(){var e=g(o);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),i.Mousetrap=g,e.exports&&(e.exports=g),void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],p[r]&&(r=p[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],o.push("shift")),y(r)&&o.push(r);return{key:r,modifiers:o,action:t=_(r,o,t)}}function g(e){var t=this;if(e=e||o,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,i,o,a,s){var u,c,l,p,f=[],d=i.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(c=t._callbacks[e][u],(o||!c.seq||r[c.seq]==c.level)&&d==c.action&&("keypress"==d&&!i.metaKey&&!i.ctrlKey||(l=n,p=c.modifiers,l.sort().join(",")===p.sort().join(",")))){var h=!o&&c.combo==a,_=o&&c.seq==o&&c.level==s;(h||_)&&t._callbacks[e].splice(u,1),f.push(c)}return f}function l(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function f(e,t,o,a){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function p(t){l(o,t,e),"keyup"!==a&&(i=h(t)),setTimeout(u,10)}r[e]=0;for(var f=0;f<t.length;++f){var d=f+1===t.length?p:c(a||m(t[f+1]).action);_(t[f],d,a,e,f)}}function _(e,n,r,i,o){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?f(e,s,n,r):(a=m(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},i,e,o),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},p=0,f=!1;for(r=0;r<i.length;++r)i[r].seq&&(p=Math.max(p,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=p)continue;f=!0,o[i[r].seq]=1,l(i[r].callback,n,i[r].combo,i[r].seq)}else f||l(i[r].callback,n,i[r].combo);var d="keypress"==n.type&&a;n.type!=s||y(e)||d||u(o),a=f&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)_(e[r],t,n)},d(e,"keypress",p),d(e,"keydown",p),d(e,"keyup",p)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},tImM:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},tRzJ:function(e,t,n){"use strict";var r=1,i=2,o=4,a=8,s=16,u=Array.prototype.slice;function c(e,t,n){this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText="["+e+"]",this._enabled=!0,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}c.prototype.matchesTag=function(e){var t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(("*"!==t[r]||!n[r])&&t[r]!==n[r])return!1;return!0},c.prototype.setLevel=function(e){var t=0;switch(e){case"error":t=s;break;case"warn":t=a|s;break;case"info":t=o|a|s;break;case"debug":t=i|o|a|s;break;case"log":default:t=r|i|o|a|s}this._level=t},c.prototype.enable=function(){this._enabled=!0},c.prototype.disable=function(){this._enabled=!1},c.prototype.log=function(){if(this._enabled||this._level&r){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"log",tag:this.tag,args:e});this._predicate(t)}},c.prototype.debug=function(){if(this._enabled||this._level&i){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"debug",tag:this.tag,args:e});this._predicate(t)}},c.prototype.info=function(){if(this._enabled||this._level&o){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"info",tag:this.tag,args:e});this._predicate(t)}},c.prototype.warn=function(){if(this._enabled||this._level&a){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"warn",tag:this.tag,args:e});this._predicate(t)}},c.prototype.error=function(){if(this._enabled||this._level&s){var e=u.call(arguments),t=([this._tagText].concat(e),{type:"error",tag:this.tag,args:e});this._predicate(t)}},e.exports=c},tSmw:function(e,t,n){"use strict";function r(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}n.d(t,"a",(function(){return r}))},tZ4O:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return y}));n("zPG/");var r=n("E6vx"),i=n("7UEW"),o=n("3ZRO"),a=n("dbjm");function s(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=i}}function u(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function c(e){if(Object(r.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}if(Object(r.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(r.c)(a.target)?Object(o.h)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(r.c)(a.currentTarget)?Object(o.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(r.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return e}function l(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function p(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=h(e,t);return l(r)>n?p(e,t-1,n):r}function f(t,n){return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(r.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(o.e)(t)+"]":t}function d(e,t,n,o){if(void 0===n&&(n=1/0),void 0===o&&(o=new i.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=f(e);return Object(r.i)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var a=f(t,e);if(Object(r.i)(a))return a;var s=c(t),u=Array.isArray(t)?[]:{};if(o.memoize(t))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(u[l]=d(l,s[l],n-1,o));return o.unmemoize(t),u}function h(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return d(e,n,t)})))}catch(e){return"**non-serializable**"}}function y(e,t){void 0===t&&(t=40);var n=Object.keys(c(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(a.d)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Object(a.d)(i,t)}return""}}).call(this,n("pCvA"))},tbLD:function(e,t,n){(function(t){var r=n("H96c").UINT32;r.prototype.xxh_update=function(e,t){var n,r,a=o._low,s=o._high;n=(r=e*a)>>>16,n+=t*a,n&=65535,n+=e*s;var u=this._low+(65535&r),c=u>>>16,l=(c+=this._high+(65535&n))<<16|65535&u;c=(l=l<<13|l>>>19)>>>16,n=(r=(u=65535&l)*(a=i._low))>>>16,n+=c*a,n&=65535,n+=u*(s=i._high),this._low=65535&r,this._high=65535&n};var i=r("2654435761"),o=r("2246822519"),a=r("3266489917"),s=r("668265263"),u=r("374761393");function c(){return 2==arguments.length?new c(arguments[1]).update(arguments[0]).digest():this instanceof c?void l.call(this,arguments[0]):new c(arguments[0])}function l(e){return this.seed=e instanceof r?e.clone():r(e),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}c.prototype.init=l,c.prototype.update=function(e){var n,r="string"==typeof e;r&&(e=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}(e),r=!1,n=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(n=!0,e=new Uint8Array(e));var i=0,o=e.length,a=i+o;if(0==o)return this;if(this.total_len+=o,0==this.memsize&&(this.memory=r?"":n?new Uint8Array(16):new t(16)),this.memsize+o<16)return r?this.memory+=e:n?this.memory.set(e.subarray(0,o),this.memsize):e.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){r?this.memory+=e.slice(0,16-this.memsize):n?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize);var s=0;r?(this.v1.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v2.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v3.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v4.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2))):(this.v1.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v2.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v3.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v4.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2])),i+=16-this.memsize,this.memsize=0,r&&(this.memory="")}if(i<=a-16){var u=a-16;do{r?(this.v1.xxh_update(e.charCodeAt(i+1)<<8|e.charCodeAt(i),e.charCodeAt(i+3)<<8|e.charCodeAt(i+2)),i+=4,this.v2.xxh_update(e.charCodeAt(i+1)<<8|e.charCodeAt(i),e.charCodeAt(i+3)<<8|e.charCodeAt(i+2)),i+=4,this.v3.xxh_update(e.charCodeAt(i+1)<<8|e.charCodeAt(i),e.charCodeAt(i+3)<<8|e.charCodeAt(i+2)),i+=4,this.v4.xxh_update(e.charCodeAt(i+1)<<8|e.charCodeAt(i),e.charCodeAt(i+3)<<8|e.charCodeAt(i+2))):(this.v1.xxh_update(e[i+1]<<8|e[i],e[i+3]<<8|e[i+2]),i+=4,this.v2.xxh_update(e[i+1]<<8|e[i],e[i+3]<<8|e[i+2]),i+=4,this.v3.xxh_update(e[i+1]<<8|e[i],e[i+3]<<8|e[i+2]),i+=4,this.v4.xxh_update(e[i+1]<<8|e[i],e[i+3]<<8|e[i+2])),i+=4}while(i<=u)}return i<a&&(r?this.memory+=e.slice(i):n?this.memory.set(e.subarray(i,a),this.memsize):e.copy(this.memory,this.memsize,i,a),this.memsize=a-i),this},c.prototype.digest=function(){var e,t,n=this.memory,c="string"==typeof n,l=0,p=this.memsize,f=new r;for((e=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(u)).add(f.fromNumber(this.total_len));l<=p-4;)c?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2)):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2]),e.add(f.multiply(a)).rotl(17).multiply(s),l+=4;for(;l<p;)f.fromBits(c?n.charCodeAt(l++):n[l++],0),e.add(f.multiply(u)).rotl(11).multiply(i);return t=e.clone().shiftRight(15),e.xor(t).multiply(o),t=e.clone().shiftRight(13),e.xor(t).multiply(a),t=e.clone().shiftRight(16),e.xor(t),this.init(this.seed),e},e.exports=c}).call(this,n("qykS").Buffer)},teyX:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},thKI:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"intercept",(function(){return c})),n.d(t,"unintercept",(function(){return l})),n.d(t,"list",(function(){return p})),n.d(t,"enable",(function(){return f})),n.d(t,"disable",(function(){return d})),n.d(t,"setLevel",(function(){return h})),n.d(t,"enableAll",(function(){return y})),n.d(t,"disableAll",(function(){return _})),n.d(t,"forTag",(function(){return m})),n.d(t,"remove",(function(){return g}));var r=n("RtGL");let i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:function(){}},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);const o=i.map,a=i.list;function s(e){return!(!i.loggingPredicate||!i.loggingPredicate(e))}let u="log";function c(e){if("function"!=typeof e)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=e}function l(){i.loggingPredicate=()=>{}}function p(e){const t=Object.keys(o).filter(e=>o[e]).sort();return e?t.map(e=>({tag:e,description:o[e].description||"No description."})):t.reduce((e,t)=>(e[t]=o[t].description||"No description",e),{})}function f(e){const t=Array.isArray(e)?e:[e];let n=t.length;for(;n--;){const e=t[n].toLowerCase();let r=a.length;for(;r--;){const t=a[r];t.matchesTag(e)&&t.enable()}}}function d(e){const t=Array.isArray(e)?e:[e];let n=t.length;for(;n--;){const e=t[n].toLowerCase();let r=a.length;for(;r--;){const t=a[r];t.matchesTag(e)&&t.disable()}}}function h(e){u=e;let t=a.length;for(;t--;){const n=a[t];n&&n.setLevel(e)}}function y(){let e=a.length;for(;e--;)a[e]&&a[e].enable()}function _(){let e=a.length;for(;e--;)a[e]&&a[e].disable()}function m(e,t){let n,i;if("string"==typeof e?(n=e.toLowerCase(),i=t):(n=e.tag,i=e.description),o.hasOwnProperty(n)&&o[n])return o[n];const c=new r.a(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c}function g(e){const t=e.toLowerCase();if(!o.hasOwnProperty(t)||!o[t])return;const n=o[t];o[t]=null;const r=a.indexOf(n);-1!==r&&a.splice(r,1)}}.call(this,n("pCvA"))},tjYc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var o=n("rNOt");function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(o.a)();if(r&&r[e])return r[e].apply(r,i(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function s(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return a("captureException",e,{originalException:e,syntheticException:t})}function u(e){a("configureScope",e)}function c(e){a("withScope",e)}},uDox:function(e,t,n){"use strict";(function(t){var r=n("67/Z"),i=t.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(t,"__dbgLoggerRegistry",{value:i}):t.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(e){return!(!i.loggingPredicate||!i.loggingPredicate(e))}var u="log";e.exports={intercept:function(e){if("function"!=typeof e)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=e},unintercept:function(){i.loggingPredicate=null},list:function(e){var t,n,r,i=Object.keys(o);if(i.sort(),e){var a=[];for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(e){u=e;for(var t=a.length;t--;){var n=a[t];n&&n.setLevel(e)}},enableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].enable()},disableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].disable()},forTag:function(e,t){var n,i;if("string"==typeof e?(n=e.toLowerCase(),i=t):(n=e.tag,i=e.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(e){var t=e.toLowerCase();if(o.hasOwnProperty(t)&&o[t]){var n=o[t];o[t]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},uIAw:function(e,t,n){"use strict";function r(){const[e]=window.performance.getEntriesByType("navigation");return e}function i(e){return new Promise((t,n)=>window.performance&&"function"==typeof performance.getEntriesByType?window.addEventListener("load",()=>{const r=performance.getEntriesByType("paint"),i=r.find(({name:t})=>t===e);return void 0!==r&&i?t(i.startTime):n("Time to paint api is not supported on this browser")}):n("window.performance api is not supported in this browser"))}Object.defineProperty(t,"__esModule",{value:!0});const o={getPageLoadTime:function(){return new Promise((e,t)=>{if(!window.performance||"function"!=typeof performance.getEntriesByType)return t("window.performance api is not supported in this browser");if(void 0===r())return t("navigationTiming api is not supported in this browser");const{loadEventEnd:n}=r();return n>0?e(n):window.addEventListener("load",()=>{setTimeout(()=>{const{loadEventEnd:t}=r();return e(t)},0)})})},getResourceTiming:function(){return window.performance.getEntriesByType("resource")},getTimeToFirstPaint:function(){return i("first-paint")},getTimeToFirstContentfulPaint:function(){return i("first-contentful-paint")}};t.BrowserMetrics=o},uahg:function(e,t,n){"use strict";var r=n("ovh1"),i=n("fwl+"),o=n("i0F7"),a=n("guUT"),s=n("Zrjs");function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=u},ueFH:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.TIMED_OUT=408]="TIMED_OUT",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(r||(r={}))},uo0B:function(e,t,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("E6BA"),a=n("Mj+E"),s=n("27+M");function u(e){i.call(this),this.request=e.request.bind(e),this.getConnectionId=e.getConnectionId.bind(e),this.getEndpoints=e.getEndpoints.bind(e),this.getInitTime=e.getInitTime.bind(e),this.getLastToken=e.getLastToken.bind(e),this.matchMessages=e.matchMessages.bind(e),this.handlePushRequests=e.handlePushRequests.bind(e),this.proxyEmit(e,o.TRANSPORT_ACCESS_TOKEN,this.EVENT_ACCESS_TOKEN),this.proxyEmit(e,o.TRANSPORT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_OFFLINE),this.proxyEmit(e,o.TRANSPORT_CONNECTION_ONLINE,this.EVENT_CONNECTION_ONLINE),this.proxyEmit(e,o.TRANSPORT_ENDPOINTS_RESOLVED,this.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(this.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,this.on.bind(e))),this.onRemoveListener(this.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,this.removeListener.bind(e)))}r(u,i),u.prototype.EVENT_ACCESS_TOKEN="access_token",u.prototype.EVENT_CONNECTION_ID="connection_id",u.prototype.EVENT_CONNECTION_OFFLINE="connection_offline",u.prototype.EVENT_CONNECTION_ONLINE="connection_online",u.prototype.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved",u.prototype.StatusCode=a,u.prototype.StatusFamily=s,u.prototype._onAddConnectionIdListener=function(e,t){t.preventDefault();var n=this.EVENT_CONNECTION_ID,r=t.listener,a=function(e){r.call(this,i.createEvent(n,e))}.bind(this);r.$proxy_wrapper=a,e(o.TRANSPORT_CONNECTION_ID,a,t.options)},u.prototype._onRemoveConnectionIdListener=function(e,t){t.preventDefault(),t.listener.$proxy_wrapper&&e(o.TRANSPORT_CONNECTION_ID,t.listener.$proxy_wrapper,t.options)},e.exports=u},"ut/0":function(e,t,n){var r=n("PoH+"),i=n("4+3C"),o="Validator API is deprecated. Please use the type API instead.";v=i.deprecate(v,o),E=i.deprecate(E,o);var a={PrimitiveTypes:["null","boolean","int","long","float","double","bytes","string"],ComplexTypes:["record","enum","array","map","union","fixed"]};a.Types=a.PrimitiveTypes.concat(a.ComplexTypes);var s=function(e){return new Error("InvalidSchemaError: "+e)},u=function(e){return new Error("InvalidProtocolError: "+e)},c=function(e){return new Error("ValidationError: "+e)},l=function(e){return new Error("ProtocolValidationError: "+e)};function p(e,t,n){!function(e,t,n){if(!r.isString(e))throw new s("Record name must be string");if(!r.isNull(t)&&!r.isUndefined(t)&&!r.isString(t))throw new s("Record namespace must be string or null");if(!r.isArray(n))throw new s("Record name must be string")}(e,t,n),this.name=e,this.namespace=t,this.fields=n}function f(e,t){var n=null;if(r.isString(e))n=e;else{if(!r.isObject(e))throw new s("unable to determine fully qualified type name from schema "+JSON.stringify(e)+" in namespace "+t);r.isString(e.namespace)&&(t=e.namespace),r.isString(e.name)?n=e.name:r.isString(e.type)&&(n=e.type)}if(!r.isString(n))throw new s("unable to determine type name from schema "+JSON.stringify(e)+" in namespace "+t);return-1!==n.indexOf(".")?n:r.contains(a.PrimitiveTypes,n)?n:r.isString(t)?t+"."+n:n}function d(e,t){this.branchNames=function(){return r.map(e,(function(e){return f(e,t)}))},function(e){if(!r.isArray(e)||r.isEmpty(e))throw new s("Union must have at least 1 branch")}(e),this.typeSchemas=e,this.namespace=t}function h(e){!function(e){if(!r.isArray(e))throw new s("Enum must have array of symbols, got "+JSON.stringify(e));if(!r.all(e,(function(e){return r.isString(e)})))throw new s("Enum symbols must be strings, got "+JSON.stringify(e))}(e),this.symbols=e}function y(e){!function(e){if(r.isNull(e)||r.isUndefined(e))throw new s('Array "items" schema should not be null or undefined')}(e),this.itemSchema=e}function _(e){!function(e){if(r.isNull(e)||r.isUndefined(e))throw new s('Map "values" schema should not be null or undefined')}(e),this.valueSchema=e}function m(e,t){this.name=e,this.schema=t}function g(e){!function(e){if(!r.isString(e))throw new s("Primitive type name must be a string");if(!r.contains(a.PrimitiveTypes,e))throw new s("Primitive type must be one of: "+JSON.stringify(a.PrimitiveTypes)+"; got "+e)}(e),this.type=e}function v(e,t,n){this.validate=function(e){return i(this.schema,e)};var i=function(e,t){if(e instanceof p)return o(e,t);if(e instanceof d)return u(e,t);if(e instanceof h)return l(e,t);if(e instanceof y)return v(e,t);if(e instanceof _)return E(e,t);if(e instanceof g)return b(e,t);throw new s("validation not yet implemented: "+JSON.stringify(e))},o=function(e,t){if(!r.isObject(t)||r.isArray(t))throw new c("Expected record Javascript type to be non-array object, got "+JSON.stringify(t));var n=r.pluck(e.fields,"name").sort(),o=r.keys(t).sort();if(!r.isEqual(n,o))throw new c("Expected record fields "+JSON.stringify(n)+"; got "+JSON.stringify(o));return r.all(e.fields,(function(e){return i(e.schema,t[e.name])}))},u=function(e,t){if(r.isObject(t)){if(r.isArray(t))throw new c("Expected union Javascript type to be non-array object (or null), got "+JSON.stringify(t));if(1!==r.size(t))throw new c("Expected union Javascript object to be object with exactly 1 key (or null), got "+JSON.stringify(t));var n=r.keys(t)[0];if(""===n)throw new c("Expected union Javascript object to contain non-empty string branch, got "+JSON.stringify(t));if(r.contains(e.branchNames(),n))return!0;throw new c("Expected union branch to be one of "+JSON.stringify(e.branchNames())+"; got "+JSON.stringify(n))}if(r.isNull(t)){if(r.contains(e.branchNames(),"null"))return!0;throw new c("Expected union branch to be one of "+JSON.stringify(e.branchNames())+"; got "+JSON.stringify(t))}throw new c("Expected union Javascript object to be non-array object of size 1 or null, got "+JSON.stringify(t))},l=function(e,t){if(r.isString(t)){if(r.contains(e.symbols,t))return!0;throw new c("Expected enum value to be one of "+JSON.stringify(e.symbols)+"; got "+JSON.stringify(t))}throw new c("Expected enum Javascript object to be string, got "+JSON.stringify(t))},v=function(e,t){if(r.isArray(t))return r.all(t,(function(t){return i(e.itemSchema,t)}));throw new c("Expected array Javascript object to be array, got "+JSON.stringify(t))},E=function(e,t){if(r.isObject(t)&&!r.isArray(t))return r.all(t,(function(t){return i(e.valueSchema,t)}));throw r.isArray(t)?new c("Expected map Javascript object to be non-array object, got array "+JSON.stringify(t)):new c("Expected map Javascript object to be non-array object, got "+JSON.stringify(t))},b=function(e,t){switch(e.type){case"null":if(r.isNull(t)||r.isUndefined(t))return!0;throw new c("Expected Javascript null or undefined for Avro null, got "+JSON.stringify(t));case"boolean":if(r.isBoolean(t))return!0;throw new c("Expected Javascript boolean for Avro boolean, got "+JSON.stringify(t));case"int":if(r.isNumber(t)&&Math.floor(t)===t&&Math.abs(t)<=Math.pow(2,31))return!0;throw new c("Expected Javascript int32 number for Avro int, got "+JSON.stringify(t));case"long":if(r.isNumber(t)&&Math.floor(t)===t&&Math.abs(t)<=Math.pow(2,63))return!0;throw new c("Expected Javascript int64 number for Avro long, got "+JSON.stringify(t));case"float":if(r.isNumber(t))return!0;throw new c("Expected Javascript float number for Avro float, got "+JSON.stringify(t));case"double":if(r.isNumber(t))return!0;throw new c("Expected Javascript double number for Avro double, got "+JSON.stringify(t));case"bytes":throw new s("not yet implemented: "+e.type);case"string":if(r.isString(t))return!0;throw new c("Expected Javascript string for Avro string, got "+JSON.stringify(t));default:throw new s("unrecognized primitive type: "+e.type)}},T=n||{},S=function(e,t){if(r.has(T,e)){if(!r.isEqual(T[e],t))throw new s("conflicting definitions for type "+e+": "+JSON.stringify(T[e])+" and "+JSON.stringify(t))}else T[e]=t},w=function(e){return r.has(T,e)?T[e]:null},O=function(e,t){if(r.contains(a.PrimitiveTypes,e))return new g(e);if(r.isNull(w(f(e,t))))throw new s("unknown type name: "+JSON.stringify(e)+"; known type names are "+JSON.stringify(r.keys(T)));return w(f(e,t))},A=function(e,t,n){if(r.isNull(e)||r.isUndefined(e))throw new s("schema is null, in parentSchema: "+JSON.stringify(t));if(r.isString(e))return O(e,n);if(r.isObject(e)&&!r.isArray(e)){if("record"===e.type){var i=new p(e.name,e.namespace,r.map(e.fields,(function(t){return new m(t.name,A(t.type,e,e.namespace||n))})));return S(f(e,n),i),i}if("enum"===e.type){if(r.has(e,"symbols")){var o=new h(e.symbols);return S(f(e,n),o),o}throw new s("enum must specify symbols, got "+JSON.stringify(e))}if("array"===e.type){if(r.has(e,"items"))return new y(A(e.items,e,n));throw new s('array must specify "items" schema, got '+JSON.stringify(e))}if("map"===e.type){if(r.has(e,"values"))return new _(A(e.values,e,n));throw new s('map must specify "values" schema, got '+JSON.stringify(e))}if(r.has(e,"type")&&r.contains(a.PrimitiveTypes,e.type))return O(e.type,n);throw new s("not yet implemented: "+e.type)}if(r.isArray(e)){if(r.isEmpty(e))throw new s("unions must have at least 1 branch");return new d(r.map(e,(function(t){return A(t,e,n)})),n)}throw new s("unexpected Javascript type for schema: "+typeof e)};this.rawSchema=e,this.schema=A(e,null,t)}function E(e){this.validate=function(n,i){var o=f(n,e.namespace);if(!r.has(t,o))throw new l("Protocol does not contain definition for type "+JSON.stringify(o)+' (fully qualified from input "'+n+'"); known types are '+JSON.stringify(r.keys(t)));return t[o].validate(i)};var t={};!function(e){var n={};if(!r.has(e,"protocol")||!r.isString(e.protocol))throw new u('Protocol must contain a "protocol" attribute with a string value');r.isArray(e.types)&&r.each(e.types,(function(r){var i=new v(r,e.namespace,n),o=f(r,e.namespace);t[o]=i}))}(e)}v.validate=function(e,t){return new v(e).validate(t)},E.validate=function(e,t,n){return new E(e).validate(t,n)},t.Validator=v,t.ProtocolValidator=E},vJSb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s.a})),n.d(t,"d",(function(){return oe.a})),n.d(t,"b",(function(){return ae})),n.d(t,"c",(function(){return se}));var r={};n.r(r),n.d(r,"isSupported",(function(){return v})),n.d(r,"request",(function(){return E}));var i={};n.r(i),n.d(i,"request",(function(){return ie}));var o,a=n("ZK1A"),s=n("nSpX");n("e4br");!function(e){e.TRANSPORT_AUTHENTICATE="transport_authenticate",e.TRANSPORT_CONNECT="transport_connect",e.TRANSPORT_DISCONNECT="transport_disconnect",e.TRANSPORT_ENDPOINTS_RESOLVED="transport_endpoints_resolved",e.TRANSPORT_BEFORE_PROCESS_REQUEST="transport_before_process_request",e.TRANSPORT_BEFORE_SEND_REQUEST="transport_before_send_request",e.TRANSPORT_BEFORE_RETURN_RESPONSE="transport_before_return_response",e.TRANSPORT_REQUEST="transport_request",e.PLUGIN_CONNECTION_INFO="plugin_connection_info",e.PLUGIN_DISCONNECTED="plugin_disconnected",e.PLUGIN_MESSAGE="plugin_message",e.PLUGIN_REQUEST="plugin_request"}(o||(o={}));var u=n("HNpk"),c=n("Ftws"),l=n("qYJ9"),p=n("aGOy");class f{constructor(e){this.name="dealer",this._dealer=new p.a(e),this.api={hasConnectionInfo:()=>this._dealer.hasConnectionId(),getConnectionInfo:()=>this._dealer.getConnectionInfo().then(e=>Object.assign({plugin:this.name},e))},this._onDealerConnectionId=this._onDealerConnectionId.bind(this),this._onDealerDisconnected=this._onDealerDisconnected.bind(this),this._onDealerMessage=this._onDealerMessage.bind(this),this._onDealerRequest=this._onDealerRequest.bind(this),this._onTransportConnect=this._onTransportConnect.bind(this),this._onTransportAuthenticate=this._onTransportAuthenticate.bind(this),this._onTransportDisconnect=this._onTransportDisconnect.bind(this)}_onDealerConnectionId(e){this._mediator&&this._mediator.emit(o.PLUGIN_CONNECTION_INFO,Object.assign({plugin:this.name},e.data))}_onDealerDisconnected(e){if(!this._mediator)return;const t=e.data;this._mediator.emit(o.PLUGIN_DISCONNECTED,{plugin:this.name,code:t.wsCode,reason:t.reason})}_onDealerMessage(e){this._mediator&&this._mediator.emit(o.PLUGIN_MESSAGE,Object.assign({plugin:this.name},e.data))}_onDealerRequest(e){this._mediator&&this._mediator.emit(o.PLUGIN_REQUEST,Object.assign({plugin:this.name},e.data))}_onTransportConnect(e){const t=e.data.endpoints,n=e.data.awaitPromise;t.dealer?/^wss:/.test(t.dealer)?n(this._dealer.connect(t.dealer)):n(Promise.reject(new c.a(u.a.INVALID_ENDPOINT,"Dealer endpoint needs to be wss://"))):n(Promise.reject(new c.a(u.a.ENDPOINT_NOT_DEFINED,'No "dealer" endpoint defined.')))}_onTransportAuthenticate(e){const t=e.data;t.awaitPromise(this._dealer.authenticate(t.token))}_onTransportDisconnect(){this._dealer.disconnect()}attach(e,t){this._mediator=t,t.addListeners({[o.TRANSPORT_CONNECT]:this._onTransportConnect,[o.TRANSPORT_AUTHENTICATE]:this._onTransportAuthenticate,[o.TRANSPORT_DISCONNECT]:this._onTransportDisconnect}),this._dealer.addListeners({[l.a.CONNECTION_ID]:this._onDealerConnectionId,[l.a.MESSAGE]:this._onDealerMessage,[l.a.REQUEST]:this._onDealerRequest})}detach(e,t){this._mediator=void 0,t.removeListeners({[o.TRANSPORT_CONNECT]:this._onTransportConnect,[o.TRANSPORT_AUTHENTICATE]:this._onTransportAuthenticate,[o.TRANSPORT_DISCONNECT]:this._onTransportDisconnect}),this._dealer.removeListeners({[l.a.CONNECTION_ID]:this._onDealerConnectionId,[l.a.MESSAGE]:this._onDealerMessage,[l.a.REQUEST]:this._onDealerRequest})}}function d(e,t){return new f(t)}const h={POST:!0,PUT:!0,DELETE:!0};var y=n("ueFH");class _{constructor(e){this.get=e.get.bind(e),this.has=e.has.bind(e)}get(e){return null}has(e){return!1}}class m{constructor(e,t=0){this.url="",this.status=0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.metadata=null,this.url=e,this.status=t,this.ok=t>=200&&t<=299}getStatusFamily(){return 0|this.status/100}}const g={json:!0,text:!0,arraybuffer:!0,blob:!0};function v(){return"function"==typeof fetch}function E(e){if(!v())return Promise.reject(new TypeError("Fetch is not supported"));if(!e.url)return Promise.reject(new TypeError("Request URL cannot be blank."));const t=e.method||"GET";let n=e.url,r=null;if(t in h&&e.payload?r=e.payload:e.payload&&(n+=`?${e.payload}`),e.options.responseType&&!(e.options.responseType in g))return Promise.reject(new TypeError("Cannot set responseType: not supported in browser."));const i={mode:e.options.mode||"cors",credentials:e.options.credentials||"same-origin",redirect:e.options.redirect||"follow",method:t};e.headers.count()&&(i.headers=e.headers.toJSON()),r&&(i.body=r);const o=Date.now();return fetch(n,i).then((function(t){let n;n=e.options.ignoreResponseBody||t.status===y.a.NO_CONTENT?null:"json"===e.options.responseType?t.json().catch((function(){return null})):"arraybuffer"===e.options.responseType?t.arrayBuffer():"blob"===e.options.responseType?t.blob():t.text();const r=e.options.parseResponseHeaders||t.status>299?new _(t.headers):null;return Promise.all([t.url,t.status,r,n])})).then((function([t,n,r,i]){const a=new m(t,n);if(a.body=i,a.headers=r,e.options.timing){const e=Date.now()-o;a.timing={completed:e}}return a})).catch((function(){const t=new m(n);if(e.options.timing){const e=Date.now()-o;t.timing={completed:e}}return t})).then((function(t){return e.options.connectionObserver&&(t.offline=!e.options.connectionObserver.isOnline()),t}))}const b=200,T=0,S="linear",w=!0;class O{constructor(e={}){this._curve=e.curve||S,this._baseTime=e.baseTime||b,this._ceiling=e.ceiling||T,this._jitter="jitter"in e?!!e.jitter:w}getTime(e){let t;switch(this._curve){case"static":t=1;break;case"logarithmic":t=Math.log(e);break;case"exponential":t=Math.pow(Math.E,e);break;case"linear":default:t=e+1}let n=Math.min(4294967296,Math.floor(t*this._baseTime));return this._ceiling&&(n=Math.min(n,this._ceiling)),this._jitter?function(e){const t=e/5;return Math.floor(e-t/2+Math.random()*t)}(n):n}}function A(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function R(){return Promise.reject(new Error("Backoff already consumed"))}const C={backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:()=>!0};class P{constructor(e,t){this._resolver=A(),this._ts=0,this._callCount=0,this._tickInterval=0,this._isRunning=!1;const n=t||{};this._fn=e,this._maxDuration=n.maxDuration||C.maxDuration,this._maxRetries="maxRetries"in n?n.maxRetries:C.maxRetries,this._maxTime=n.maxTime||C.maxTime,this._retryPredicate=n.retryPredicate||C.retryPredicate,this._backoffInitial=!!n.backoffInitial,this._counter=new O({curve:n.curve,baseTime:n.baseTime,ceiling:n.ceiling}),this._backoffInitial&&(this._maxRetries+=1)}static init(e,t={}){return new P(e,t).start()}_destroy(){this._fn=R,this._resolver=A()}_failure(e){if(e&&"retryAfter"in e)this._retryAfter(e);else{const t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),t)):(this._resolver.reject(e),this._destroy())}}_retryAfter(e){this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),e.retryAfter)}_success(...e){this._resolver.resolve(...e),this._destroy()}_shouldRetry(e,t){const n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)}_tick(){this._fn().then((...e)=>this._success(...e)).catch(e=>this._failure(e))}getResolver(){return this._resolver.promise}start(e){return!this._fn&&e&&(this._fn=e),this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(()=>this._tick(),this._counter.getTime(0))):this._tick()),this._resolver.promise}stop(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()}}var I,N,k=n("YZiW"),L=n("j9kN"),D=n("1WqI");!function(e){e[e.CONNECTION_ERROR=0]="CONNECTION_ERROR",e[e.INFORMATIONAL=1]="INFORMATIONAL",e[e.SUCCESS=2]="SUCCESS",e[e.REDIRECTION=3]="REDIRECTION",e[e.CLIENT_ERROR=4]="CLIENT_ERROR",e[e.SERVER_ERROR=5]="SERVER_ERROR"}(I||(I={}));class x extends Error{constructor(e,t,n=null){super(t),this.name="TransportError",this.message=t,this.code=e,this.origin=n}}class U extends L.b{constructor(e){super();const t="undefined"!=typeof window,n=e&&e.notifyBeforeUnload;this._navigator=t&&window.navigator||null,t&&"function"==typeof window.addEventListener&&(window.addEventListener("online",this.emitSync.bind(this,s.a.CONNECTION_ONLINE,null)),window.addEventListener("offline",this.emitSync.bind(this,s.a.CONNECTION_OFFLINE,null)),n&&window.addEventListener(s.a.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,s.a.WINDOW_BEFORE_UNLOAD,null)))}static create(e){return new U(e)}isOnline(){const e=this._navigator;return!(e&&"onLine"in e)||e.onLine}}class M{constructor(e){this._headers={},this._count=0,this._setAll(e)}_setAll(e){let t=0;for(const n in e)e.hasOwnProperty(n)&&(this._headers[n.toLowerCase()]=e[n],t++);this._count=t}get(e){return this._headers[e.toLowerCase()]||null}has(e){return!!this._headers[e.toLowerCase()]}set(e,t){this._headers[e.toLowerCase()]=t,this._count++}delete(e){const t=e.toLowerCase();this._headers[t]&&this._count--,delete this._headers[e.toLowerCase()]}count(){return this._count}toJSON(){return Object.assign({},this._headers)}}class F{constructor(e,t){this.url=e,this.method=(null==t?void 0:t.method)||"GET",this.headers=new M(null==t?void 0:t.headers),this.options=(null==t?void 0:t.options)||{},this.payload=null==t?void 0:t.payload,this.urlExpanded=(null==t?void 0:t.urlExpanded)||!1,this.retryOptions=(null==t?void 0:t.retryOptions)||{}}static create(e,t){return new F(e,t)}}!function(e){e.EVENT_ACCESS_TOKEN="access_token",e.EVENT_CONNECTION_ID="connection_id",e.EVENT_CONNECTION_OFFLINE="connection_offline",e.EVENT_CONNECTION_ONLINE="connection_online",e.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved"}(N||(N={}));class j extends L.b{constructor(e,t){super(),this.EVENT_ACCESS_TOKEN=N.EVENT_ACCESS_TOKEN,this.EVENT_CONNECTION_ID=N.EVENT_CONNECTION_ID,this.EVENT_CONNECTION_OFFLINE=N.EVENT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_ONLINE=N.EVENT_CONNECTION_ONLINE,this.EVENT_ENDPOINTS_RESOLVED=N.EVENT_ENDPOINTS_RESOLVED,this.StatusCode=y.a,this.StatusFamily=I,this.getConnectionId=e.getConnectionId.bind(e),this.getEndpoints=e.getEndpoints.bind(e),this.getInitTime=e.getInitTime.bind(e),this.getLastToken=e.getLastToken.bind(e),this.matchMessages=e.matchMessages.bind(e),this.unmatchMessages=e.unmatchMessages.bind(e),this.handlePushRequests=e.handlePushRequests.bind(e),this.unhandlePushRequests=e.unhandlePushRequests.bind(e),this.hasPlugin=e.hasPlugin.bind(e),this.getPluginAPI=e.getPluginAPI.bind(e);const n=e.request.bind(e);(null==t?void 0:t.requestOptions)?this.request=(e,r)=>n(e,r?Object.assign(Object.assign(Object.assign({},null==t?void 0:t.requestOptions),r),{metadata:Object.assign(Object.assign({},t.requestOptions.metadata),null==r?void 0:r.metadata),retry:Object.assign(Object.assign({},t.requestOptions.retry),null==r?void 0:r.retry)}):t.requestOptions):this.request=n,this.proxyEmit(e,s.a.ACCESS_TOKEN,N.EVENT_ACCESS_TOKEN),this.proxyEmit(e,s.a.CONNECTION_OFFLINE,N.EVENT_CONNECTION_OFFLINE),this.proxyEmit(e,s.a.CONNECTION_ONLINE,N.EVENT_CONNECTION_ONLINE),this.proxyEmit(e,s.a.ENDPOINTS_RESOLVED,N.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(N.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,e.on.bind(e))),this.onRemoveListener(N.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,e.removeListener.bind(e)))}_onAddConnectionIdListener(e,t){t.preventDefault();const n=t.data.listener,r=e=>{const t=this.createEvent(N.EVENT_CONNECTION_ID,e.data);n.call(this,t)};n.$proxy_wrapper=r,e(s.a.CONNECTION_ID,r,t.data.options)}_onRemoveConnectionIdListener(e,t){t.preventDefault();const n=t.data.listener;n.$proxy_wrapper&&e(s.a.CONNECTION_ID,n.$proxy_wrapper,t.data.options)}removeAllListeners(){return this}}const B=k.a.forTag("transport.transport"),V=/^(?:https?:\/\/)?@([^\/]+)\//,H=/^(ws|http)s?:\/\/.*[^\/]$/,W=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,K={xhr:!0,fetch:!0},G=1,Y=4;class q extends L.b{constructor(e){if(super(),this._plugins={},this._pluginMediator=new L.b,this._activated=!1,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=null,this._reconnectTimeout=0,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._counter=new O({curve:"exponential",baseTime:5e3,ceiling:15e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},!e)throw new TypeError("Argument `options` for Transport cannot be null.");if(!e.providers)throw new TypeError("Argument `options.providers` for Transport cannot be null.");this._ownerRef="ownerRef"in e?Object(e.ownerRef):{},this._tokenProvider=e.providers.token,this._endpointsProvider=e.providers.endpoints,this._XHR=e.XHR,this._Fetch=e.Fetch,this._reconnectionRetries=e.reconnectionRetries>=0?e.reconnectionRetries:3,this._requestMode=e.requestMode in K?e.requestMode:"xhr",this._forcePolyfillTypes=e.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in e&&!!e.disableAutoLogout,this._disconnectBeforeUnload=e.disconnectBeforeUnload||!1,this._connectionObserver=new U({notifyBeforeUnload:this._disconnectBeforeUnload}),this.authenticate=this.authenticate.bind(this),this._authenticateWithToken=this._authenticateWithToken.bind(this),this._connectToEndpoints=this._connectToEndpoints.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._onConnected=this._onConnected.bind(this),this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._init()}static create(e){return new q(e)}_init(){this.onAddListener(s.a.CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(s.a.AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(s.a.CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(s.a.CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(s.a.AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(s.a.CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch&&this._Fetch.isSupported()||(B.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");const e=this._pluginMediator;e.addListeners({[o.PLUGIN_DISCONNECTED]:this._onPluginDisconnected.bind(this)}),this.proxyEmit(e,o.PLUGIN_CONNECTION_INFO,s.a.CONNECTION_ID),this._disableAutoLogout||this.matchMessages("client:logout",()=>this._onLogout()),this._connectionObserver.on(s.a.CONNECTION_ONLINE,()=>this._onOnline()),this._connectionObserver.on(s.a.CONNECTION_OFFLINE,()=>this._onOffline()),this._connectionObserver.on(s.a.WINDOW_BEFORE_UNLOAD,()=>this.disconnect())}_runStateAwareQueues(e,t){const n=this._stateAwareListeners[e].splice(0);for(const e of n)e.call(this,t);this._stateAwareRunners[e]=null}_connect(){return this._stateMask&G?Promise.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new Promise((e,t)=>{this._connectionObserver.once(s.a.CONNECTION_ONLINE,()=>{this._performConnect().then(e,t)})})}_performConnect(){return new Promise(e=>{e(this._endpointsProvider(this.toPublic()))}).catch(e=>!e||e.code?Promise.reject(e):Promise.reject(new x(a.a.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,e.message||"Endpoints provider error",e))).then(this._connectToEndpoints).then(this._onConnected).catch(e=>{const t=e&&e.error?e.error:e;return this.emit(s.a.CONNECTION_FAILED,{error:t}),Promise.reject(t)})}_connectToEndpoints(e){const t={webgate:"",webapi:""};for(const n in e){if(!e.hasOwnProperty(n)||!e[n])continue;let r=e[n];H.test(r)&&(r+="/"),t[n]=r}this._endpoints=t,this.emit(s.a.ENDPOINTS_RESOLVED,{endpoints:Object.assign({},t)});const n=[],r=e=>{n.push(e)};return new Promise((e,i)=>{this._pluginMediator.emitAndWait(o.TRANSPORT_CONNECT,{endpoints:Object.assign({},t),awaitPromise:r},()=>{Promise.all(n).then(()=>e(!0),i)})})}_refreshToken(e=!1){if(this._refreshTokenPromise)return this._refreshTokenPromise;if(!e&&this._lastToken&&this._lastTokenExpiry>Date.now())return Promise.resolve(this._lastToken);this._refreshTokenPromise=new Promise(e=>{e(this._tokenProvider())}).then(this._parseProvidedToken);const t=()=>{this._refreshTokenPromise=null};return this._refreshTokenPromise.then(t,t),this._refreshTokenPromise.catch(e=>{const t=(null==e?void 0:e.code)?e:new x(a.a.TRANSPORT_TOKEN_PROVIDER_ERROR,(null==e?void 0:e.message)||"Token provider error",e);return this.emit(s.a.TOKEN_PROVIDER_ERROR,{error:t}),Promise.reject(t)})}_parseProvidedToken(e){let t,n;if(Array.isArray(e)?(t=e[0],n=parseInt(e[1],10),isNaN(n)&&(n=3540)):(t=e,n=3540),!t)throw this._lastToken=null,this._lastTokenExpiry=0,B.error("No token was provided"),new x(a.a.TRANSPORT_INVALID_TOKEN,`Token provider returned an invalid token, "${t}"`);if(this._lastToken===t){B.error("TokenProvider returned same token twice.");const e=new x(a.a.TRANSPORT_STALE_TOKEN,"Token provider returned the same token twice.");throw this._lastToken=null,this._lastTokenExpiry=0,e}return this._lastToken=t,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(s.a.ACCESS_TOKEN,{token:t}),t}_authenticateWithToken(e){if(!this._endpoints)return Promise.resolve(!0);const t=[],n=e=>{t.push(e)};return new Promise((r,i)=>{this._pluginMediator.emitAndWait(o.TRANSPORT_AUTHENTICATE,{token:e,awaitPromise:n},()=>{Promise.all(t).then(()=>r(!0),i)})})}_authenticate(e){return this._stateMask&G?this._authenticationPromise?this._authenticationPromise:(this._authenticationPromise=P.init(()=>this._refreshToken(e).then(this._authenticateWithToken),{curve:"exponential",maxRetries:2,baseTime:500}).then(this._onAuthenticated).catch(this._onAuthenticationFailed),this._authenticationPromise):Promise.reject(new x(a.a.TRANSPORT_INVALID_STATE,"Cannot authenticate disconnected transport."))}_disconnect(e=!1){return this._stateMask=0,e||this.emit(s.a.DISCONNECTED,null),this._pluginMediator.emitSync(o.TRANSPORT_DISCONNECT,{supressed:e}),!0}_createReconnector(){let e=!0;return()=>(this._isReconnecting=!0,this.emit(s.a.RECONNECTING,null),this._disconnect(!0),this._connect().then(()=>this._authenticate(e).then(t=>(e=!1,t),t=>(e=!0,Promise.reject(t)))).then(this.authenticate).then(()=>(this._isReconnecting=!1,this.emit(s.a.RECONNECTED,null),!0)))}_tryToReconnect(){this._isReconnecting||(this._stateMask=0,P.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(()=>{this._stateMask=0,this._isReconnecting=!1,this.emit(s.a.DISCONNECTED,null)}))}_sendRequest(e,t={},n={}){return this._processRequestArgs(e,t).then(e=>e.options.forget?this._sendFireAndForgetRequest(e.url):this._sendRetriedRequest(e,n))}_processRequestArgs(e,t={}){var n;let r=e,i=!1;const o=Object.assign(Object.assign({},t),{forcePolyfill:!!(t.responseType&&t.responseType in this._forcePolyfillTypes),requestMode:null!==(n=null==t?void 0:t.requestMode)&&void 0!==n?n:this._requestMode,connectionObserver:this._connectionObserver,metadata:(null==t?void 0:t.metadata)||null});if(V.test(r)){i=!0;try{r=this._tryExpandSpecialURL(r)}catch(e){return Promise.reject(e)}"authorize"in o||(o.authorize=!0)}const a=Object.assign({maxRetries:2,curve:"exponential"},t.retry);return Promise.resolve(F.create(r,{method:t.method,headers:t.headers,payload:t.payload,options:o,urlExpanded:i,retryOptions:a}))}_tryExpandSpecialURL(e){const t=this._endpoints;return e.replace(V,(e,n)=>{if(!t.hasOwnProperty(n))throw new TypeError(`Cannot replace endpoint @${n}: endpoint not defined.`);return t[n]})}_sendFireAndForgetRequest(e){return"function"==typeof fetch?fetch(e,{mode:"no-cors"}).catch(()=>{}):"function"==typeof Image?(new Image).src=e:this.request(e,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}).catch(()=>{}),Promise.resolve(new m(e,0))}_sendRetriedRequest(e,t){const n=e.retryOptions;let r=!1;const i=()=>this._setAuthHeader(e,r),a=this._connectionObserver;return P.init(()=>{let u;return u=a.isOnline()?i():new Promise((t,n)=>{e.options.allowOffline?i().then(t,n):a.once(s.a.CONNECTION_ONLINE,()=>{i().then(t,n)})}),u.then(()=>{let n;if(this._pluginMediator.emitSync(o.TRANSPORT_BEFORE_SEND_REQUEST,{request:e,context:t}),"fetch"===e.options.requestMode&&this._Fetch&&this._Fetch.isSupported())n=this._Fetch.request(e);else{if(!this._XHR)throw new Error("No available request mechanisms.");n=this._XHR.request(e)}return n}).then(t=>{let i=null;if(t.headers&&(i=t.headers.get("Retry-After")),t.status===y.a.UNAUTHORIZED&&!e.options.ignoreUnauthorized)return r=!0,Promise.reject(t);if("function"==typeof(null==n?void 0:n.condition)&&(n.condition(t,I)||i)){if(null!==i){const e=parseInt(i,10);W.test(i)?t.retryAfter=new Date(i).getTime()-Date.now():e>0&&(t.retryAfter=1e3*e)}return Promise.reject(t)}return Promise.resolve(t)})},n).catch(this._handleRetriedRequestError).then(n=>(n.metadata=e.options.metadata,this._pluginMediator.emitSync(o.TRANSPORT_BEFORE_RETURN_RESPONSE,{context:t,response:n}),e.options.rejectNotOk&&!n.ok?Promise.reject(n):n))}_setAuthHeader(e,t){if(!e.options.authorize)return Promise.resolve(e);const n=()=>this._refreshToken(t).then(t=>(e.headers.set("Authorization",`Bearer ${t}`),e));return this._stateMask&Y?n():new Promise((e,t)=>{B.info("Auth header setting awaiting authentication."),this.once(s.a.AUTHENTICATED,()=>{B.info("Auth header set after authentication."),n().then(e,t)})})}_handleRetriedRequestError(e){return e instanceof m?Promise.resolve(e):Promise.reject(e)}_onAddListener(e,t){const n=t.data.options;if(n.ignoreCurrentState)return;let r;switch(e){case"connected":if(!this.isConnected())return;r=Promise.resolve(this.createEvent(s.a.CONNECTED,null));break;case"authenticated":if(!this.isAuthenticated())return;r=Promise.resolve(this.createEvent(s.a.AUTHENTICATED,null));break;case"connection_id":{const e=this.getPluginAPI("dealer");if(!e||!e.hasConnectionInfo())return;r=e.getConnectionInfo().then(e=>this.createEvent(s.a.CONNECTION_ID,Object.assign({plugin:"dealer"},e)));break}default:return}const i=t.data.listener;this._stateAwareListeners[e].push(i);const o=this._stateAwareRunners;o[e]||(o[e]=r.then(this._runStateAwareQueues.bind(this,e)),n.once&&t.preventDefault())}_onRemoveListener(e,t){const n=t.data.options;if(n.ignoreCurrentState||n.once)return;const r=t.data.listener,i=this._stateAwareListeners[e].indexOf(r);-1!==i&&this._stateAwareListeners[e].splice(i,1)}_getQuickDisconnectTimeout(){return this._counter.getTime(this._quickDisconnectCount)}_onPluginDisconnected(e){const t=Date.now(),n=t-this._lastDisconnect;this._disconnect(!0),e.data.code!==D.a.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(s.a.SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._getQuickDisconnectTimeout())):(this._quickDisconnectCount=0,this._lastDisconnect=t,this._tryToReconnect())):this._quickDisconnectCount=0}_onOnline(){this.emit(s.a.CONNECTION_ONLINE,null),this._activated&&this._tryToReconnect()}_onOffline(){this.emit(s.a.CONNECTION_OFFLINE,null),this._disconnect(!0)}_onConnected(){return this._stateMask|=G,this.emit(s.a.CONNECTED,null),Promise.resolve(!0)}_onAuthenticated(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=Y,this._initTime=Date.now(),this.emit(s.a.AUTHENTICATED,null),Promise.resolve(!0)}_onAuthenticationFailed(e){const t=e&&e.error?e.error:e;return this._authenticationPromise=null,this._stateMask&=~Y,this.emit(s.a.AUTHENTICATION_FAILED,{error:t}),Promise.reject(t)}_onLogout(){const e=()=>{this._lastToken=null,this._lastTokenExpiry=0,this.emit(s.a.LOGGED_OUT,null)};this.disconnect().then(e,e)}isConnected(){return!!(this._stateMask&G)}isAuthenticated(){return!!(this._stateMask&Y)}isOnline(){return this._connectionObserver.isOnline()}connect(){return this._activated=!0,this._connect()}authenticate(){return this._authenticate(!0)}disconnect(){if(!this._activated)return Promise.resolve(!1);this._activated=!1;const e=this.isConnected()?s.a.BEFORE_ONLINE_DISCONNECT:s.a.BEFORE_OFFLINE_DISCONNECT,t=[];return this.emitSync(e,{awaitPromise:e=>{t.push(e.catch(()=>{}))}}),Promise.all(t).then(()=>this._disconnect(!1))}forceDisconnect(){return this._activated?(this._activated=!1,this._disconnect(),Promise.resolve(!0)):Promise.resolve(!1)}forceTokenRefresh(){return this._refreshToken(!0).then(()=>!0)}getInitTime(){return this._initTime}getEndpoints(){return this._endpoints?Object.assign({},this._endpoints):null}getLastToken(){return this._lastToken}toPublic(e){return new j(this,e)}hasOwnerRef(e){return this._ownerRef===e}matchMessages(e,t,n){if(!e)throw new TypeError('Message "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Message callback cannot be null.");const r=r=>{const i=r.data.message;!i.uri||!i.uri.match(e)||n&&n!==r.data.plugin||t(i)};r.__matchMessagesExp=e,r.__matchMessagesPlugin=n,t.__matchMessagesWrapper=r,this._pluginMediator.on(o.PLUGIN_MESSAGE,r)}unmatchMessages(e,t,n){if("function"!=typeof t)throw new TypeError("Message callback cannot be null.");const r=t.__matchMessagesWrapper;return!(!r||r.__matchMessagesExp!==e||r.__matchMessagesPlugin!==n)&&(this._pluginMediator.removeListener(o.PLUGIN_MESSAGE,r),!0)}handlePushRequests(e,t,n){if(!e)throw new TypeError('Push request "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Push request callback cannot be null.");const r=r=>{const i=r.data.request;!i.message_ident||!i.message_ident.match(e)||n&&n!==r.data.plugin||Promise.resolve(t(i)).then(r.data.reply)};r.__matchRequestExp=e,r.__matchRequestPlugin=n,t.__matchRequestWrapper=r,this._pluginMediator.on(o.PLUGIN_REQUEST,r)}unhandlePushRequests(e,t,n){if("function"!=typeof t)throw new TypeError("Push request callback cannot be null.");const r=t.__matchRequestWrapper;return!(!r||r.__matchRequestExp!==e||r.__matchRequestPlugin!==n)&&(this._pluginMediator.removeListener(o.PLUGIN_REQUEST,r),!0)}request(e,t){var n;const r={uri:e,options:t,context:{}};this._pluginMediator.emitSync(o.TRANSPORT_BEFORE_PROCESS_REQUEST,r);const i=this._sendRequest.bind(this,r.uri,r.options,r.context);return!(null===(n=r.options)||void 0===n?void 0:n.allowOffline)&&!this._connectionObserver.isOnline()||V.test(r.uri)&&!(this._stateMask&G)?new Promise((e,t)=>{this.once(s.a.CONNECTED,()=>{i().then(e,t)})}):i()}addPlugin(e,t){const n=e(this,t),r=n.name;if(this._plugins[r])throw new TypeError("Plugin is already added.");return n.attach(this,this._pluginMediator),this._plugins[r]=n,r}removePlugin(e){const t=this._plugins[e];return!!t&&(t.detach(this,this._pluginMediator),this._plugins[e]=void 0,!0)}hasPlugin(e){return!!this._plugins[e]}getPluginAPI(e){const t=this._plugins[e];return t&&t.api?t.api:null}getConnectionId(e="dealer"){const t=this._plugins[e];return t?t.api&&function(e){return"getConnectionInfo"in e.api}(t)?t.api.getConnectionInfo().then(e=>e.id):Promise.reject(new TypeError(`Plugin ${t} is not a socket plugin.`)):Promise.reject(new TypeError(`Cannot retrieve connection id for plugin ${t}.`))}removeAllListeners(){return this}}class z extends Error{constructor(e,t,n){super(e),this.name="RequestError",this.message=e,this.code=t,this.status=n||0}}class X{constructor(e){this._headers={},this._init(e)}_init(e){if(e){const t=e.split("\r\n");for(let e=0;e<t.length;e++){const n=t[e],r=n.indexOf(": ");if(r>0){const e=n.substring(0,r).toLowerCase(),t=n.substring(r+2);this._headers[e]=t}}}}get(e){return this._headers[e.toLowerCase()]||null}has(e){return this._headers.hasOwnProperty(e.toLowerCase())}}const $=function(){},Q={json:!0,text:!0,document:!0},J={},Z=Promise.resolve(J);function ee(){this.onabort=$,this.onerror=$,this.onload=$,this.onloadend=$}function te(e,t,n){var r;const i=Date.now(),o=this.status,a=new m(this.responseURL||e.url,o);a.body=null;const s=e.options;if(s.timing&&(a.timing={completed:i-t}),(null===(r=s.connectionObserver)||void 0===r?void 0:r.isOnline)&&(a.offline=!s.connectionObserver.isOnline()),(s.parseResponseHeaders||o>299)&&(a.headers=new X(this.getAllResponseHeaders())),!s.ignoreResponseBody&&o!==y.a.NO_CONTENT&&2===a.getStatusFamily()){const e=s.responseType||"";if(!s.forcePolyfill&&"response"in this&&e===this.responseType)a.body=this.response;else if("document"===e)a.body=this.responseXML;else if("json"===e)try{a.body=JSON.parse(this.responseText)}catch(e){a.body=null}else"text"!==e&&""!==e||(a.body=this.responseText)}n(a)}function ne(e,t,n){4===this.readyState?t(new m(this.responseURL||e,this.status)):n(new z(a.a.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status))}function re(e){return new Promise((t,n)=>{var r;const i=new XMLHttpRequest;let o=e.url;if(!o)return void n(new TypeError("Request URL cannot be blank."));let a=null;const s=e.method||"GET",u=e.payload||"";s in h&&u?a=u:u&&(o+=`?${u}`),i.open(s,o,!0),i.onerror=ne.bind(i,o,t,n),i.onabort=ee,i.onloadend=ee,i.onprogress=$;const c=e.options;"include"===c.credentials&&(i.withCredentials=!0);const l=c.responseType;if(l)if(c.forcePolyfill){if(!(l in Q))return void n(new TypeError(`Cannot polyfill responseType "${l}"`))}else{if(!("responseType"in i||l in Q))return void n(new TypeError("Cannot set responseType: not supported in browser."));try{i.responseType=l}catch(e){return void n(new TypeError(`Unknown responseType "${l}".`))}if(i&&l!==i.responseType&&!(l in Q))return void n(new TypeError(`Unknown responseType "${l}".`))}const p=e.headers.count()?e.headers.toJSON():null;if(p)for(const e in p)if(p.hasOwnProperty(e))try{i.setRequestHeader(e,p[e])}catch(e){return void n(e)}i.onload=te.bind(i,e,Date.now(),t);try{i.send(a)}catch(e){return void n(e)}null===(r=c.canceller)||void 0===r||r.then(()=>i.abort(),()=>i.abort())})}function ie(e){const t=e.options.canceller;return(t?Promise.race([t,Z]):Z).then(t=>t!==J?new Promise(()=>{}):re(e))}var oe=n("cMU9");function ae(e){const t=Object.assign({},e);return t.XHR||(t.XHR=i),t.Fetch=r,q.create(t)}function se(e){const t=ae(e);return t.addPlugin(d,{WebSocket}),t}},vMO2:function(e,t,n){"use strict";var r=n("ovh1");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},wJTk:function(e,t,n){"use strict";var r=n("U5QU"),i=new TypeError("Invalid Spotify URI!"),o=(new TypeError("Not implemented!"),0),a=1,s=function(e,t){return e=encodeURIComponent(e),t===o&&(e=e.replace(/%20/g,"+")),e=(e=e.replace(/[!'()]/g,escape)).replace(/\*/g,"%2A")},u=function(e,t){var n=t==o?e.replace(/\+/g,"%20"):e;return decodeURIComponent(n)},c=function(e,t){var n,r,o,a;switch(e.id&&(n=e._base62Id),e.type){case d.Type.ALBUM:return r=[d.Type.ALBUM,n],e.disc&&r.push(e.disc),r;case d.Type.AD:return[d.Type.AD,e._base62Id];case d.Type.ARTIST:return[d.Type.ARTIST,n];case d.Type.ARTIST_TOPLIST:return[d.Type.ARTIST,n,d.Type.TOP,e.toplist];case d.Type.DAILY_MIX:return[d.Type.DAILY_MIX,n];case d.Type.SEARCH:return[d.Type.SEARCH,s(e.query,t)];case d.Type.TRACK:return(e.context||e.play)&&(n+=l({context:e.context,play:e.play})),e.anchor&&(n+="#"+e.anchor),[d.Type.TRACK,n];case d.Type.TRACKSET:var u=[];for(o=0,a=e.tracks.length;o<a;o++)u.push(e.tracks[o]._base62Id);return u=[u.join(",")],null!==e.index&&u.push("#",e.index),[d.Type.TRACKSET,s(e.name)].concat(u);case d.Type.FACEBOOK:return[d.Type.USER,d.Type.FACEBOOK,e.uid];case d.Type.AUDIO_FILE:return[d.Type.AUDIO_FILE,e.extension,e._base62Id];case d.Type.FOLDER:return[d.Type.USER,s(e.username,t),d.Type.FOLDER,e._base62Id];case d.Type.FOLLOWERS:return[d.Type.USER,s(e.username,t),d.Type.FOLLOWERS];case d.Type.FOLLOWING:return[d.Type.USER,s(e.username,t),d.Type.FOLLOWING];case d.Type.PLAYLIST:return[d.Type.USER,s(e.username,t),d.Type.PLAYLIST,n];case d.Type.PLAYLIST_V2:return[d.Type.PLAYLIST,n];case d.Type.STARRED:return[d.Type.USER,s(e.username,t),d.Type.STARRED];case d.Type.TEMP_PLAYLIST:return[d.Type.TEMP_PLAYLIST,e.origin,e.data];case d.Type.CONTEXT_GROUP:return[d.Type.CONTEXT_GROUP,e.origin,e.name];case d.Type.USER_TOPLIST:return[d.Type.USER,s(e.username,t),d.Type.TOP,e.toplist];case d.Type.USER_TOP_TRACKS:return[d.Type.USER,s(e.username,t),d.Type.TOPLIST];case d.Type.TOPLIST:return[d.Type.TOP,e.toplist].concat(e.global?[d.Type.GLOBAL]:["country",e.country]);case d.Type.INBOX:return[d.Type.USER,s(e.username,t),d.Type.INBOX];case d.Type.ROOTLIST:return[d.Type.USER,s(e.username,t),d.Type.ROOTLIST];case d.Type.PUBLISHED_ROOTLIST:return[d.Type.USER,s(e.username,t),d.Type.PUBLISHED_ROOTLIST];case d.Type.COLLECTION_TRACK_LIST:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION_TRACK_LIST,n];case d.Type.PROFILE:return e.args&&e.args.length>0?[d.Type.USER,s(e.username,t)].concat(e.args):[d.Type.USER,s(e.username,t)];case d.Type.LOCAL_ARTIST:return[d.Type.LOCAL,s(e.artist,t)];case d.Type.LOCAL_ALBUM:return[d.Type.LOCAL,s(e.artist,t),s(e.album,t)];case d.Type.LOCAL:return[d.Type.LOCAL,s(e.artist,t),s(e.album,t),s(e.track,t),e.duration];case d.Type.LIBRARY:return[d.Type.USER,s(e.username,t),d.Type.LIBRARY].concat(e.category?[e.category]:[]);case d.Type.IMAGE:return[d.Type.IMAGE,e._base62Id];case d.Type.MOSAIC:return(r=e.ids.slice(0)).unshift(d.Type.MOSAIC),r;case d.Type.RADIO:return[d.Type.RADIO,e.args];case d.Type.SPECIAL:for(r=[d.Type.SPECIAL],o=0,a=(c=e.args||[]).length;o<a;++o)r.push(s(c[o],t));return r;case d.Type.STATION:for(r=[d.Type.STATION],o=0,a=(c=e.args||[]).length;o<a;o++)r.push(s(c[o],t));return r;case d.Type.APPLICATION:var c;for(r=[d.Type.APP,e._base62Id],o=0,a=(c=e.args||[]).length;o<a;++o)r.push(s(c[o],t));return r;case d.Type.COLLECTION_ALBUM:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ALBUM,n];case d.Type.COLLECTION_MISSING_ALBUM:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ALBUM,n,"missing"];case d.Type.COLLECTION_ARTIST:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION,d.Type.ARTIST,n];case d.Type.COLLECTION:return[d.Type.USER,s(e.username,t),d.Type.COLLECTION].concat(e.category?[e.category]:[]);case d.Type.EPISODE:return(e.context||e.play)&&(n+=l({context:e.context,play:e.play})),[d.Type.EPISODE,n];case d.Type.SHOW:return[d.Type.SHOW,n];case d.Type.LIVE:return[d.Type.LIVE,n];case d.Type.CONCERT:return[d.Type.CONCERT,n];case d.Type.SOCIAL_SESSION:return[d.Type.SOCIAL_SESSION,n];case d.Type.INTERRUPTION:return[d.Type.INTERRUPTION,e.id];default:throw i}},l=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t.length>1&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]));return t},p=function(e){return e.split("&").reduce((function(e,t){return e[(t=t.split("="))[0]]=decodeURIComponent(t[1]),e}),{})},f=function(e,t,n){var r=0;n=n||{};var a,c,l,p=function(){return e[r++]},f=function(){var e=p();if(e.length>22)throw new Error("Invalid ID");return e},h=function(){return e.slice(r)},y=function(){var n=t==o?":":"/";return e.slice(r).join(n)},_=p();switch(_){case d.Type.ALBUM:return d.albumURI(f(),parseInt(p(),10));case d.Type.AD:return d.adURI(p());case d.Type.ARTIST:return a=f(),p()==d.Type.TOP?d.artistToplistURI(a,p()):d.artistURI(a);case d.Type.AUDIO_FILE:return d.audioFileURI(p(),p());case d.Type.DAILY_MIX:return d.dailyMixURI(f());case d.Type.TEMP_PLAYLIST:return d.temporaryPlaylistURI(p(),y());case d.Type.PLAYLIST:return d.playlistV2URI(f());case d.Type.SEARCH:return d.searchURI(u(y(),t));case d.Type.TRACK:return d.trackURI(f(),p(),n.context,n.play);case d.Type.TRACKSET:var m=u(p()),g=p(),v=p(),E=parseInt(p(),10);("%23"!==v||isNaN(E))&&(E=null);var b=[];if(g)for(c=0,l=(g=u(g).split(",")).length;c<l;c++){var T=g[c];b.push(d.trackURI(T))}return d.tracksetURI(b,m,E);case d.Type.CONTEXT_GROUP:return d.contextGroupURI(p(),p());case d.Type.TOP:var S=p();return p()==d.Type.GLOBAL?d.toplistURI(S,null,!0):d.toplistURI(S,p(),!1);case d.Type.USER:var w=u(p(),t),O=p();if(w==d.Type.FACEBOOK&&null!=O)return d.facebookURI(parseInt(O,10));if(null!=O)switch(O){case d.Type.PLAYLIST:return d.playlistURI(w,f());case d.Type.FOLDER:return d.folderURI(w,f());case d.Type.COLLECTION_TRACK_LIST:return d.collectionTrackList(w,f());case d.Type.COLLECTION:var A=p();switch(A){case d.Type.ALBUM:return a=f(),"missing"===p()?d.collectionMissingAlbumURI(w,a):d.collectionAlbumURI(w,a);case d.Type.ARTIST:return d.collectionArtistURI(w,f());default:return d.collectionURI(w,A)}case d.Type.STARRED:return d.starredURI(w);case d.Type.FOLLOWERS:return d.followersURI(w);case d.Type.FOLLOWING:return d.followingURI(w);case d.Type.TOP:return d.userToplistURI(w,p());case d.Type.INBOX:return d.inboxURI(w);case d.Type.ROOTLIST:return d.rootlistURI(w);case d.Type.PUBLISHED_ROOTLIST:return d.publishedRootlistURI(w);case d.Type.TOPLIST:return d.userTopTracksURI(w);case d.Type.LIBRARY:return d.libraryURI(w,p())}var R=h();return null!=O&&R.length>0?d.profileURI(w,[O].concat(R)):null!=O?d.profileURI(w,[O]):d.profileURI(w);case d.Type.LOCAL:var C=p(),P=C&&u(C,t),I=p(),N=I&&u(I,t),k=p(),L=k&&u(k,t),D=p(),x=parseInt(D,10);return void 0!==k?d.localURI(P,N,L,x):void 0!==I?d.localAlbumURI(P,N):d.localArtistURI(P);case d.Type.IMAGE:return d.imageURI(f());case d.Type.MOSAIC:return d.mosaicURI(e.slice(r));case d.Type.RADIO:return d.radioURI(y());case d.Type.SPECIAL:for(c=0,l=(U=h()).length;c<l;++c)U[c]=u(U[c],t);return d.specialURI(U);case d.Type.STATION:return d.stationURI(h());case d.Type.EPISODE:return d.episodeURI(f(),n.context,n.play);case d.Type.SHOW:return d.showURI(f());case d.Type.LIVE:return d.liveURI(f());case d.Type.CONCERT:return d.concertURI(f());case"":break;case d.Type.SOCIAL_SESSION:return d.socialSessionURI(p());case d.Type.INTERRUPTION:return d.interruptionURI(p());default:a=_===d.Type.APP?p():_;var U,M=u(a,t);if(s(M,t)!==a)break;for(c=0,l=(U=h()).length;c<l;++c)U[c]=u(U[c],t);return d.applicationURI(M,U)}throw i};function d(e,t){for(var n in this.type=e,t)"function"!=typeof t[n]&&(this[n]=t[n])}Object.defineProperty(d.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?d.idToHex(this._base62Id):void 0),this._hexId},set:function(e){this._base62Id=e?d.hexToId(e):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),d.prototype.toAppType=function(){if(this.type==d.Type.APPLICATION)return d.applicationURI(this.id,this.args);var e=c(this,a),t=e.shift(),n=e.length;if(n)for(;n--;)e[n]=u(e[n],a);return this.type==d.Type.RADIO&&(e=e.shift().split(":")),d.applicationURI(t,e)},d.prototype.toRealType=function(){return this.type==d.Type.APPLICATION?f([this.id].concat(this.args),o):new d(null,this)},d.prototype.toURI=function(){return"spotify:"+c(this,o).join(":")},d.prototype.toString=function(){return this.toURI()},d.prototype.toURLPath=function(e){var t=c(this,a);t[0]===d.Type.APP&&t.shift();var n=t[0]===d.Type.TRACKSET,r=t[0]===d.Type.LOCAL;if(!n&&!r){for(var i=[],o=0,s=t.length;o<s;o++){var u=t[o];u&&i.push(u)}t=i}var l=t.join("/");return e?"/"+l:l},d.prototype.toPlayURL=function(){return"https://play.spotify.com/"+this.toURLPath()},d.prototype.toURL=function(){return this.toPlayURL()},d.prototype.toOpenURL=function(){return"https://open.spotify.com/"+this.toURLPath()},d.prototype.toSecurePlayURL=function(){return this.toPlayURL()},d.prototype.toSecureURL=function(){return this.toPlayURL()},d.prototype.toSecureOpenURL=function(){return this.toOpenURL()},d.prototype.idToByteString=function(){var e=r.toHex(this._base62Id);if(!e){for(var t="",n=0;n<16;n++)t+=String.fromCharCode(0);return t}var i="";for(n=0;n<32;n+=2){var o=(r.ID16[e.charCodeAt(n)]<<4)+r.ID16[e.charCodeAt(n+1)];i+=String.fromCharCode(o)}return i},d.prototype.getPath=function(){return this.toString().replace(/[#?].*/,"")},d.prototype.getBase62Id=function(){return this._base62Id},d.prototype.isSameIdentity=function(e){var t=d.from(e);if(!t)return!1;if(this.toString()===e.toString())return!0;if(this.type!==d.Type.PLAYLIST&&this.type!==d.Type.PLAYLIST_V2||t.type!==d.Type.PLAYLIST&&t.type!==d.Type.PLAYLIST_V2){if(this.type===d.Type.STATION&&t.type===d.Type.STATION){var n=f(this.args,o);return!!n&&n.isSameIdentity(f(t.args,o))}return!1}return this.id===t.id},d.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",DAILY_MIX:"dailymix",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",INTERRUPTION:"interruption",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",LIVE:"live",MOSAIC:"mosaic",PLAYLIST:"playlist",PLAYLIST_V2:"playlist-v2",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SHOW:"show",SOCIAL_SESSION:"socialsession",CONCERT:"concert",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},d.fromString=function(e){var t=function(e){var t,n,r,s,u=e.split("?");if(u.length>1){e=u.shift();var c=(r=u.pop()).split("#");c.length>1&&(r=c.shift(),s=c.pop()),r=p(r)}var l=e.split("#");if(l.length>1&&(e=l.shift(),s=l.pop()),0===e.indexOf("spotify:"))t=e.slice("spotify:".length).split(":"),n=o;else{if(0===(e=e.split("?")[0]).indexOf("http://play.spotify.com/"))t=e.slice("http://play.spotify.com/".length).split("/");else if(0===e.indexOf("https://play.spotify.com/"))t=e.slice("https://play.spotify.com/".length).split("/");else if(0===e.indexOf("http://open.spotify.com/"))t=e.slice("http://open.spotify.com/".length).split("/");else if(0===e.indexOf("https://open.spotify.com/"))t=e.slice("https://open.spotify.com/".length).split("/");else{if(0!==e.indexOf("/"))throw i;t=e.slice("/".length).split("/")}n=a}return s&&t.push(s),{format:n,components:t,query:r}}(e);return f(t.components,t.format,t.query)},d.from=function(e){try{return e instanceof d?e:"object"==typeof e&&e.type?new d(null,e):d.fromString(e.toString())}catch(e){return null}},d.fromByteString=function(e,t,n){for(;16!=t.length;)t=String.fromCharCode(0)+t;for(var i="",o=0;o<t.length;o++){var a=t.charCodeAt(o);i+=r.HEX256[a]}var s=r.fromHex(i),u=n||{};return u.id=s,new d(e,u)},d.clone=function(e){return e instanceof d?new d(null,e):null},d.getCanonical=function(e){return this.getCanonical(e)},d.getCanonicalUsername=function(e){return s(e,o)},d.getDisplayUsername=function(e){return u(e,o)},d.idToHex=function(e){return 22==e.length?r.toHex(e):e},d.hexToId=function(e){return 32==e.length?r.fromHex(e):e},d.emptyURI=function(){return new d(d.Type.EMPTY,{})},d.albumURI=function(e,t){return new d(d.Type.ALBUM,{id:e,disc:t})},d.adURI=function(e){return new d(d.Type.AD,{id:e})},d.audioFileURI=function(e,t){return new d(d.Type.AUDIO_FILE,{id:t,extension:e})},d.artistURI=function(e){return new d(d.Type.ARTIST,{id:e})},d.artistToplistURI=function(e,t){return new d(d.Type.ARTIST_TOPLIST,{id:e,toplist:t})},d.dailyMixURI=function(e){return new d(d.Type.DAILY_MIX,{id:e})},d.searchURI=function(e){return new d(d.Type.SEARCH,{query:e})},d.trackURI=function(e,t,n,r){return new d(d.Type.TRACK,{id:e,anchor:t,context:n?d.fromString(n):n,play:r})},d.tracksetURI=function(e,t,n){return new d(d.Type.TRACKSET,{tracks:e,name:t||"",index:isNaN(n)?null:n})},d.facebookURI=function(e){return new d(d.Type.FACEBOOK,{uid:e})},d.followersURI=function(e){return new d(d.Type.FOLLOWERS,{username:e})},d.followingURI=function(e){return new d(d.Type.FOLLOWING,{username:e})},d.playlistURI=function(e,t){return new d(d.Type.PLAYLIST,{username:e,id:t})},d.playlistV2URI=function(e){return new d(d.Type.PLAYLIST_V2,{id:e})},d.folderURI=function(e,t){return new d(d.Type.FOLDER,{username:e,id:t})},d.collectionTrackList=function(e,t){return new d(d.Type.COLLECTION_TRACK_LIST,{username:e,id:t})},d.starredURI=function(e){return new d(d.Type.STARRED,{username:e})},d.userToplistURI=function(e,t){return new d(d.Type.USER_TOPLIST,{username:e,toplist:t})},d.userTopTracksURI=function(e){return new d(d.Type.USER_TOP_TRACKS,{username:e})},d.toplistURI=function(e,t,n){return new d(d.Type.TOPLIST,{toplist:e,country:t,global:!!n})},d.inboxURI=function(e){return new d(d.Type.INBOX,{username:e})},d.rootlistURI=function(e){return new d(d.Type.ROOTLIST,{username:e})},d.publishedRootlistURI=function(e){return new d(d.Type.PUBLISHED_ROOTLIST,{username:e})},d.localArtistURI=function(e){return new d(d.Type.LOCAL_ARTIST,{artist:e})},d.localAlbumURI=function(e,t){return new d(d.Type.LOCAL_ALBUM,{artist:e,album:t})},d.localURI=function(e,t,n,r){return new d(d.Type.LOCAL,{artist:e,album:t,track:n,duration:r})},d.libraryURI=function(e,t){return new d(d.Type.LIBRARY,{username:e,category:t})},d.collectionURI=function(e,t){return new d(d.Type.COLLECTION,{username:e,category:t})},d.temporaryPlaylistURI=function(e,t){return new d(d.Type.TEMP_PLAYLIST,{origin:e,data:t})},d.contextGroupURI=function(e,t){return new d(d.Type.CONTEXT_GROUP,{origin:e,name:t})},d.profileURI=function(e,t){return new d(d.Type.PROFILE,{username:e,args:t})},d.imageURI=function(e){return new d(d.Type.IMAGE,{id:e})},d.mosaicURI=function(e){return new d(d.Type.MOSAIC,{ids:e})},d.radioURI=function(e){return e=void 0===e?"":e,new d(d.Type.RADIO,{args:e})},d.specialURI=function(e){return e=void 0===e?[]:e,new d(d.Type.SPECIAL,{args:e})},d.stationURI=function(e){return e=void 0===e?[]:e,new d(d.Type.STATION,{args:e})},d.applicationURI=function(e,t){return t=void 0===t?[]:t,new d(d.Type.APPLICATION,{id:e,args:t})},d.collectionAlbumURI=function(e,t){return new d(d.Type.COLLECTION_ALBUM,{username:e,id:t})},d.collectionMissingAlbumURI=function(e,t){return new d(d.Type.COLLECTION_MISSING_ALBUM,{username:e,id:t})},d.collectionArtistURI=function(e,t){return new d(d.Type.COLLECTION_ARTIST,{username:e,id:t})},d.episodeURI=function(e,t,n){return new d(d.Type.EPISODE,{id:e,context:t?d.fromString(t):t,play:n})},d.showURI=function(e){return new d(d.Type.SHOW,{id:e})},d.liveURI=function(e){return new d(d.Type.LIVE,{id:e})},d.concertURI=function(e){return new d(d.Type.CONCERT,{id:e})},d.socialSessionURI=function(e){return new d(d.Type.SOCIAL_SESSION,{id:e})},d.interruptionURI=function(e){return new d(d.Type.INTERRUPTION,{id:e})},d.isAlbum=function(e){return(d.from(e)||{}).type===d.Type.ALBUM},d.isAd=function(e){return(d.from(e)||{}).type===d.Type.AD},d.isApplication=function(e){return(d.from(e)||{}).type===d.Type.APPLICATION},d.isArtist=function(e){return(d.from(e)||{}).type===d.Type.ARTIST},d.isCollection=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION},d.isCollectionAlbum=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION_ALBUM},d.isCollectionArtist=function(e){return(d.from(e)||{}).type===d.Type.COLLECTION_ARTIST},d.isDailyMix=function(e){return(d.from(e)||{}).type===d.Type.DAILY_MIX},d.isEpisode=function(e){return(d.from(e)||{}).type===d.Type.EPISODE},d.isFacebook=function(e){return(d.from(e)||{}).type===d.Type.FACEBOOK},d.isFolder=function(e){return(d.from(e)||{}).type===d.Type.FOLDER},d.isLocalArtist=function(e){return(d.from(e)||{}).type===d.Type.LOCAL_ARTIST},d.isLocalAlbum=function(e){return(d.from(e)||{}).type===d.Type.LOCAL_ALBUM},d.isLocalTrack=function(e){return(d.from(e)||{}).type===d.Type.LOCAL},d.isMosaic=function(e){return(d.from(e)||{}).type===d.Type.MOSAIC},d.isPlaylistV1=function(e){return(d.from(e)||{}).type===d.Type.PLAYLIST},d.isPlaylistV2=function(e){return(d.from(e)||{}).type===d.Type.PLAYLIST_V2},d.isRadio=function(e){return(d.from(e)||{}).type===d.Type.RADIO},d.isRootlist=function(e){return(d.from(e)||{}).type===d.Type.ROOTLIST},d.isSearch=function(e){return(d.from(e)||{}).type===d.Type.SEARCH},d.isShow=function(e){return(d.from(e)||{}).type===d.Type.SHOW},d.isLive=function(e){return(d.from(e)||{}).type===d.Type.LIVE},d.isConcert=function(e){return(d.from(e)||{}).type===d.Type.CONCERT},d.isStation=function(e){return(d.from(e)||{}).type===d.Type.STATION},d.isTrack=function(e){return(d.from(e)||{}).type===d.Type.TRACK},d.isProfile=function(e){return(d.from(e)||{}).type===d.Type.PROFILE},d.isPlaylistV1OrV2=function(e){var t=d.from(e);return!!t&&(t.type===d.Type.PLAYLIST||t.type===d.Type.PLAYLIST_V2)},d.isSocialSession=function(e){return(d.from(e)||{}).type===d.Type.SOCIAL_SESSION},d.isInterruption=function(e){return(d.from(e)||{}).type===d.Type.INTERRUPTION},e.exports=d},wfEq:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},wrle:function(e,t,n){"use strict";e.exports=function(e,t){for(var n,r=1;r<arguments.length;r++)if(n=arguments[r])for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e}},xARA:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}}(),e.exports=n("9t1y")},xAxK:function(e,t,n){"use strict";(function(t){var r=n("asuC"),i=n("6GjV"),o=n("IQWk"),a=n("Mj+E"),s={POST:!0,PUT:!0,DELETE:!0},u={json:!0,text:!0,arraybuffer:!0,blob:!0};function c(){return"function"==typeof t.fetch}e.exports={request:function(e,n){if(!c())return r.reject(new TypeError("Fetch is not supported"));var l=n||{};if(!e)return r.reject(new TypeError("Request URL cannot be blank."));var p=e,f=null,d=l.payload,h=(l.method||"GET").toUpperCase();h in s&&d?f=d:d&&(p+="?"+d);var y=l.responseType||"text";if(y&&!(y in u))return r.reject(new TypeError("Cannot set responseType: not supported in browser."));var _=l.ignoreResponseBody,m={mode:l.mode||"cors",credentials:l.credentials||"same-origin",redirect:l.redirect||"follow",method:h};l.headers&&(m.headers=l.headers),f&&(m.body=f);var g=Date.now();return t.fetch(p,m).then((function(e){var t;t=_||e.status===a.NO_CONTENT?null:"json"===y?e.json().catch((function(){return null})):"arraybuffer"===y?e.arrayBuffer():"blob"===y?e.blob():e.text();var n=l.parseResponseHeaders||e.status>299?new o(e.headers):null;return r.all([e.url,e.status,n,t])})).then((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=l.timing?Date.now()-g:null,s=new i(t,n);return s.body=o,s.headers=r,s.timing=l.timing?{completed:a}:null,s})).catch((function(){var e=l.timing?Date.now()-g:null,t=new i(p);return t.timing=l.timing?{completed:e}:null,t})).then((function(e){return l.connectionObserver&&(e.offline=!l.connectionObserver.isOnline()),e}))},isSupported:c}}).call(this,n("pCvA"))},xSFS:function(e,t,n){"use strict";var r=n("ovh1"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},xVO4:function(e,t,n){"use strict";e.exports=n("9K2m")},yVym:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return U}));var r=n("mXGw"),i=n.n(r),o=n("W0B4"),a=n.n(o),s=n("8Jek"),u=n.n(s),c=n("IL7q"),l=n.n(c);function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var d="react-contextmenu",h="react-contextmenu--visible",y="react-contextmenu-wrapper",_="react-contextmenu-item",m="react-contextmenu-item--active",g="react-contextmenu-item--disabled",v="react-contextmenu-item--divider",E="react-contextmenu-item--selected",b="react-contextmenu-submenu",T={},S=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),w="REACT_CONTEXTMENU_SHOW",O="REACT_CONTEXTMENU_HIDE";function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),n&&(n.dispatchEvent(r),l()(T,t))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];A(w,l()({},e,{type:w}),t)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];A(O,l()({},e,{type:O}),t)}var P=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)f(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)f(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var r=Math.random().toString(36).substring(7);return t.callbacks[r]={show:e,hide:n},r},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},S&&(window.addEventListener(w,this.handleShowEvent),window.addEventListener(O,this.handleHideEvent))},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){var e,n,r;L(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=D(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(e){0!==e.button&&1!==e.button&&e.preventDefault(),r.props.disabled||r.props.divider||(p(r.props.onClick,e,l()({},r.props.data,T.data),T.target),r.props.preventClose||C())},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.attributes,o=n.children,a=n.className,s=n.disabled,c=n.divider,l=n.selected,p=u()(a,_,r.className,(k(e={},u()(g,r.disabledClassName),s),k(e,u()(v,r.dividerClassName),c),k(e,u()(E,r.selectedClassName),l),e));return i.a.createElement("div",I({},r,{className:p,role:"menuitem",tabIndex:"-1","aria-disabled":s?"true":"false","aria-orientation":c?"horizontal":null,ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),c?null:o)}}]),t}(r.Component);x.propTypes={attributes:a.a.object,children:a.a.node,className:a.a.string,data:a.a.object,disabled:a.a.bool,divider:a.a.bool,onClick:a.a.func,onMouseLeave:a.a.func,onMouseMove:a.a.func,preventClose:a.a.bool,selected:a.a.bool},x.defaultProps={attributes:{},children:null,className:"",data:{},disabled:!1,divider:!1,onClick:function(){return null},onMouseMove:function(){return null},onMouseLeave:function(){return null},preventClose:!1,selected:!1};var U=x;var M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return F.call(n),n.seletedItemRef=null,n.state={selectedItem:null,forceSubMenuOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.Component);M.propTypes={children:a.a.node.isRequired};var F=function(){var e=this;this.handleKeyNavigation=function(t){if(!1!==e.state.isVisible)switch(t.keyCode){case 37:case 27:t.preventDefault(),e.hideMenu(t);break;case 38:t.preventDefault(),e.selectChildren(!0);break;case 40:t.preventDefault(),e.selectChildren(!1);break;case 39:e.tryToOpenSubMenu(t);break;case 13:t.preventDefault(),e.tryToOpenSubMenu(t);var n=e.seletedItemRef&&e.seletedItemRef.props&&e.seletedItemRef.props.disabled;e.seletedItemRef&&e.seletedItemRef.ref instanceof HTMLElement&&!n?e.seletedItemRef.ref.click():e.hideMenu(t)}},this.handleForceClose=function(){e.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(t){e.state.selectedItem&&e.state.selectedItem.type===e.getSubMenuType()&&(t.preventDefault(),e.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(t){var n=e.state.selectedItem,r=[],o=0,a={};if(i.a.Children.forEach(e.props.children,(function t(n,s){n&&([U,e.getSubMenuType()].indexOf(n.type)<0?i.a.Children.forEach(n.props.children,t):n.props.divider||(n.props.disabled&&(++o,a[s]=!0),r.push(n)))})),o!==r.length){var s=function(e){var n=e;do{t?--n:++n,n<0?n=r.length-1:n>=r.length&&(n=0)}while(n!==e&&a[n]);return n===e?null:n}(r.indexOf(n));null!==s&&e.setState({selectedItem:r[s],forceSubMenuOpen:!1})}},this.onChildMouseMove=function(t){e.state.selectedItem!==t&&e.setState({selectedItem:t,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){e.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(t){return i.a.Children.map(t,(function(t){var n={};return i.a.isValidElement(t)?[U,e.getSubMenuType()].indexOf(t.type)<0?(n.children=e.renderChildren(t.props.children),i.a.cloneElement(t,n)):(n.onMouseLeave=e.onChildMouseLeave.bind(e),t.type===e.getSubMenuType()&&(n.forceOpen=e.state.forceSubMenuOpen&&e.state.selectedItem===t,n.forceClose=e.handleForceClose,n.parentKeyNavigationHandler=e.handleKeyNavigation),t.props.divider||e.state.selectedItem!==t?(n.onMouseMove=function(){return e.onChildMouseMove(t)},i.a.cloneElement(t,n)):(n.selected=!0,n.ref=function(t){e.seletedItemRef=t},i.a.cloneElement(t,n))):t}))}},j=M,B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getMenuPosition=function(){var e=window,t=e.innerWidth,r=e.innerHeight,i=n.subMenu.getBoundingClientRect(),o={};return i.bottom>r?o.bottom=0:o.top=0,i.right<t?o.left="100%":o.right="100%",o},n.getRTLMenuPosition=function(){var e=window.innerHeight,t=n.subMenu.getBoundingClientRect(),r={};return t.bottom>e?r.bottom=0:r.top=0,t.left<0?r.left="100%":r.right="100%",r},n.hideSubMenu=function(e){e.detail&&e.detail.id&&n.menu&&e.detail.id!==n.menu.id||(n.props.forceOpen&&n.props.forceClose(),n.setState({visible:!1,selectedItem:null}),n.unregisterHandlers())},n.handleClick=function(e){e.preventDefault(),n.props.disabled||(p(n.props.onClick,e,l()({},n.props.data,T.data),T.target),n.props.onClick&&!n.props.preventCloseOnClick&&C())},n.handleMouseEnter=function(){n.closetimer&&clearTimeout(n.closetimer),n.props.disabled||n.state.visible||(n.opentimer=setTimeout((function(){return n.setState({visible:!0,selectedItem:null})}),n.props.hoverDelay))},n.handleMouseLeave=function(){n.opentimer&&clearTimeout(n.opentimer),n.state.visible&&(n.closetimer=setTimeout((function(){return n.setState({visible:!1,selectedItem:null})}),n.props.hoverDelay))},n.menuRef=function(e){n.menu=e},n.subMenuRef=function(e){n.subMenu=e},n.registerHandlers=function(){document.removeEventListener("keydown",n.props.parentKeyNavigationHandler),document.addEventListener("keydown",n.handleKeyNavigation)},n.unregisterHandlers=function(e){document.removeEventListener("keydown",n.handleKeyNavigation),e||document.addEventListener("keydown",n.props.parentKeyNavigationHandler)},n.state=l()({},n.state,{visible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),V(t,[{key:"componentDidMount",value:function(){this.listenId=P.register((function(){}),this.hideSubMenu)}},{key:"getSubMenuType",value:function(){return t}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){(window.requestAnimationFrame||setTimeout)((function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),f(t,"top")&&(e.subMenu.style.top=t.top),f(t,"left")&&(e.subMenu.style.left=t.left),f(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),f(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(h),e.registerHandlers(),e.setState({selectedItem:null})}))}else{this.subMenu.addEventListener("transitionend",(function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()})),this.subMenu.classList.remove(h)}}},{key:"componentWillUnmount",value:function(){this.listenId&&P.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers(!0)}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.attributes,o=t.disabled,a=t.title,s=t.selected,c=this.state.visible,l={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:u()(_,b,r.listClassName),style:{position:"relative"}},p={className:u()(_,r.className,(e={},H(e,u()(g,r.disabledClassName),o),H(e,u()(m,r.visibleClassName),c),H(e,u()(E,r.selectedClassName),s),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},f={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:u()(d,this.props.className)};return i.a.createElement("nav",B({},l,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),i.a.createElement("div",B({},r,p),a),i.a.createElement("nav",B({},f,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),t}(j);W.propTypes={children:a.a.node.isRequired,attributes:a.a.object,title:a.a.node.isRequired,className:a.a.string,disabled:a.a.bool,hoverDelay:a.a.number,rtl:a.a.bool,selected:a.a.bool,onMouseMove:a.a.func,onMouseOut:a.a.func,forceOpen:a.a.bool,forceClose:a.a.func,parentKeyNavigationHandler:a.a.func},W.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var K=W,G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),n.props.preventHideOnScroll||document.addEventListener("scroll",n.handleHide),n.props.preventHideOnContextMenu||document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),n.props.preventHideOnResize||window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,r=t.x,i=t.y;n.setState({isVisible:!0,x:r,y:i}),n.registerHandlers(),p(n.props.onShow,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),p(n.props.onHide,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||C()},n.handleMouseLeave=function(e){e.preventDefault(),p(n.props.onMouseLeave,e,l()({},n.props.data,T.data),T.target),n.props.hideOnLeave&&C()},n.handleContextMenu=function(e){e.preventDefault(),n.handleHide(e)},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||C()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:t,left:e};if(!n.menu)return r;var i=window,o=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>a&&(r.top-=s.height),e+s.width>o&&(r.left-=s.width),r.top<0&&(r.top=s.height<a?(a-s.height)/2:0),r.left<0&&(r.left=s.width<o?(o-s.width)/2:0),r},n.getRTLMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:t,left:e};if(!n.menu)return r;var i=window,o=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return r.left=e-s.width,t+s.height>a&&(r.top-=s.height),r.left<0&&(r.left+=s.width),r.top<0&&(r.top=s.height<a?(a-s.height)/2:0),r.left+s.width>o&&(r.left=s.width<o?(o-s.width)/2:0),r},n.menuRef=function(e){n.menu=e},n.state=l()({},n.state,{x:0,y:0,isVisible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),G(t,[{key:"getSubMenuType",value:function(){return K}},{key:"componentDidMount",value:function(){this.listenId=P.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this,t=window.requestAnimationFrame||setTimeout;this.state.isVisible?t((function(){var n=e.state,r=n.x,i=n.y,o=e.props.rtl?e.getRTLMenuPosition(r,i):e.getMenuPosition(r,i),a=o.top,s=o.left;t((function(){e.menu&&(e.menu.style.top=a+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))})):t((function(){e.menu&&(e.menu.style.opacity=0,e.menu.style.pointerEvents="none")}))}},{key:"componentWillUnmount",value:function(){this.listenId&&P.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.children,a=r.className,s=r.style,c=this.state.isVisible,p=l()({},s,{position:"fixed",opacity:0,pointerEvents:"none"}),f=u()(d,a,(n=c,(t=h)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return i.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:p,className:f,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(o))}}]),t}(j);Y.propTypes={id:a.a.string.isRequired,children:a.a.node.isRequired,data:a.a.object,className:a.a.string,hideOnLeave:a.a.bool,rtl:a.a.bool,onHide:a.a.func,onMouseLeave:a.a.func,onShow:a.a.func,preventHideOnContextMenu:a.a.bool,preventHideOnResize:a.a.bool,preventHideOnScroll:a.a.bool,style:a.a.object},Y.defaultProps={className:"",data:{},hideOnLeave:!1,rtl:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},preventHideOnContextMenu:!1,preventHideOnResize:!1,preventHideOnScroll:!1,style:{}};var q=Y,z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Q=function(e){function t(){var e,n,r;X(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=$(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.touchHandled=!1,r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),r.mouseDownTimeoutId=setTimeout((function(){return r.handleContextClick(e)}),r.props.holdToDisplay)),p(r.props.attributes.onMouseDown,e)},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),p(r.props.attributes.onMouseUp,e)},r.handleMouseOut=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),p(r.props.attributes.onMouseOut,e)},r.handleTouchstart=function(e){r.touchHandled=!1,r.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),r.touchstartTimeoutId=setTimeout((function(){r.handleContextClick(e),r.touchHandled=!0}),r.props.holdToDisplay)),p(r.props.attributes.onTouchStart,e)},r.handleTouchEnd=function(e){r.touchHandled&&e.preventDefault(),clearTimeout(r.touchstartTimeoutId),p(r.props.attributes.onTouchEnd,e)},r.handleContextMenu=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),p(r.props.attributes.onContextMenu,e)},r.handleMouseClick=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),p(r.props.attributes.onClick,e)},r.handleContextClick=function(e){if(!(r.props.disable||r.props.disableIfShiftIsPressed&&e.shiftKey)){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,n=e.clientY||e.touches&&e.touches[0].pageY;r.props.posX&&(t-=r.props.posX),r.props.posY&&(n-=r.props.posY),C();var i=p(r.props.collect,r.props),o={position:{x:t,y:n},target:r.elem,id:r.props.id};i&&"function"==typeof i.then?i.then((function(t){o.data=l()({},t,{target:e.target}),R(o)})):(o.data=l()({},i,{target:e.target}),R(o))}},r.elemRef=function(e){r.elem=e},$(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),z(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,r=e.children,o=l()({},n,{className:u()(y,n.className),onContextMenu:this.handleContextMenu,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return i.a.createElement(t,o,r)}}]),t}(r.Component);Q.propTypes={id:a.a.string.isRequired,children:a.a.node.isRequired,attributes:a.a.object,collect:a.a.func,disable:a.a.bool,holdToDisplay:a.a.number,posX:a.a.number,posY:a.a.number,renderTag:a.a.oneOfType([a.a.node,a.a.func]),mouseButton:a.a.number,disableIfShiftIsPressed:a.a.bool},Q.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,mouseButton:2,disableIfShiftIsPressed:!1};var J=Q;Object.assign,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}}();[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(J.propTypes)),["children"])},yjPC:function(e,t,n){"use strict";(function(t){var r=n("t2mb"),i=t.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(t,"__dbgLoggerRegistry",{value:i}):t.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(e){return!(!i.loggingPredicate||!i.loggingPredicate(e))}var u="log";e.exports={intercept:function(e){if("function"!=typeof e)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=e},unintercept:function(){i.loggingPredicate=null},list:function(e){var t,n,r,i=Object.keys(o);if(i.sort(),e){var a=[];for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(t=0,n=i.length;t<n;t++)r=i[t],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(e){u=e;for(var t=a.length;t--;){var n=a[t];n&&n.setLevel(e)}},enableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].enable()},disableAll:function(){for(var e=a.length;e--;)a[e]&&a[e].disable()},forTag:function(e,t){var n,i;if("string"==typeof e?(n=e.toLowerCase(),i=t):(n=e.tag,i=e.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(e){var t=e.toLowerCase();if(o.hasOwnProperty(t)&&o[t]){var n=o[t];o[t]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},z2tW:function(e,t,n){"use strict";(function(t){var r=n("73GF");if(n("hSmj")()||n("+aJC")()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():r(e)?Array.prototype[i].call(e):void 0}}else{var o=n("B3xF"),a=n("DoeT"),s=n("7zuG"),u=s("%Map%",!0),c=s("%Set%",!0),l=n("RqrG"),p=l("Array.prototype.push"),f=l("String.prototype.charCodeAt"),d=l("String.prototype.slice"),h=function(e){var t=0;return{next:function(){var n,r=t>=e.length;return r||(n=e[t],t+=1),{done:r,value:n}}}},y=function(e){if(o(e)||r(e))return h(e);if(a(e)){var t=0;return{next:function(){var n=function(e,t){if(t+1>=e.length)return t+1;var n=f(e,t);if(n<55296||n>56319)return t+1;var r=f(e,t+1);return r<56320||r>57343?t+1:t+2}(e,t),r=d(e,t,n);return t=n,{done:n>e.length,value:r}}}}};if(u||c){var _=n("F53H"),m=n("iZRD"),g=l("Map.prototype.forEach",!0),v=l("Set.prototype.forEach",!0);if(void 0===t||!t.versions||!t.versions.node)var E=l("Map.prototype.iterator",!0),b=l("Set.prototype.iterator",!0),T=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var S=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),w=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(_(e)){if(E)return T(E(e));if(S)return S(e);if(g){var t=[];return g(e,(function(e,n){p(t,[n,e])})),h(t)}}if(m(e)){if(b)return T(b(e));if(w)return w(e);if(v){var n=[];return v(e,(function(e){p(n,e)})),h(n)}}}(e)||y(e)}}else e.exports=y}}).call(this,n("5IsQ"))},z5ou:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));const r="undefined"!=typeof window,i=[];function o(){const e=i.splice(0);if(e.length)for(let t=0,n=e.length;t<n;t++)try{e[t]()}finally{}}let a;r&&"function"==typeof window.postMessage?function(){const e=window.location.origin||`${window.location.protocol}//${window.location.hostname}`;if(a=window.postMessage.bind(window,"@execute_deferreds",e),!window.__hasDeferredHandler){"function"==typeof Object.defineProperty?Object.defineProperty(window,"__hasDeferredHandler",{value:!0}):window.__hasDeferredHandler=!0;const t=function(t){t.origin!==e&&"@execute_deferreds"!==t.data||o()};window.addEventListener?window.addEventListener("message",t):window.attachEvent&&window.attachEvent("onmessage",t)}}():a="function"!=typeof e?e.bind(null,o):setTimeout.bind(null,o,10);let s=e=>{const t=!i.length;i.push(e),t&&a()};r&&("function"==typeof window.__modDefFn?s=window.__modDefFn:"function"==typeof Object.defineProperty?Object.defineProperty(window,"__modDefFn",{value:s}):window.__modDefFn=s)}).call(this,n("oPUo").setImmediate)},"zPG/":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}},ze2n:function(e,t,n){"use strict";(function(t){var r=n("D5Cn").Tap,i=n("WKDR"),o=n("ut/0");r.prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.slice(t,t+e).toString()},r.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.write(e,r)},r.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.write(e,n,t,"binary")},e.exports={parse:function(e,t){var n;if("string"==typeof e)try{n=JSON.parse(e)}catch(e){}return void 0===n&&(n=e),i.createType(n,t)},types:i.types,Validator:o.Validator,ProtocolValidator:o.ProtocolValidator}}).call(this,n("qykS").Buffer)},zf4f:function(e,t,n){"use strict";var r=n("ovh1"),i=n("aECo"),o=n("fwl+"),a=n("h1Um"),s=n("xSFS"),u=n("cON5"),c=n("2KG9");e.exports=function(e){return new Promise((function(t,l){var p=e.data,f=e.headers;r.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",y=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+y)}var _=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,l,r),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n("vMO2"),g=(e.withCredentials||u(_))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===p&&(p=null),d.send(p)}))}}}]);